#!/usr/bin/env node
"use strict";var fs=Object.create;var Pn=Object.defineProperty;var hs=Object.getOwnPropertyDescriptor;var us=Object.getOwnPropertyNames;var ds=Object.getPrototypeOf,ps=Object.prototype.hasOwnProperty;var ae=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var ms=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of us(t))!ps.call(i,s)&&s!==e&&Pn(i,s,{get:()=>t[s],enumerable:!(n=hs(t,s))||n.enumerable});return i};var le=(i,t,e)=>(e=i!=null?fs(ds(i)):{},ms(t||!i||!i.__esModule?Pn(e,"default",{value:i,enumerable:!0}):e,i));var Wi=ae((Re,On)=>{(function(i){var t=2,e=3,n=5;function s(a){var l=a.slice(11),f=null,d=null,u=l.indexOf('"');switch(u){case-1:var w=l.split(" ");f=w[0].slice(2),d=w[1].slice(2);break;case 0:var h=l.indexOf('"',2);f=l.slice(3,h);var b=l.indexOf('"',h+1);b<0?d=l.slice(h+4):d=l.slice(b+3,-1);break;default:var w=l.split(" ");f=w[0].slice(2),d=w[1].slice(3,-1);break}return{oldPath:f,newPath:d}}var r={parse:function(a){for(var l=[],f=t,d,u,h,b,w,_=a.split(`
`),O=_.length,m=0;m<O;){var x=_[m];if(x.indexOf("diff --git")===0){w=s(x),d={hunks:[],oldEndingNewLine:!0,newEndingNewLine:!0,oldPath:w.oldPath,newPath:w.newPath},l.push(d);var v=null,D;t:for(;D=_[++m];){var I=D.indexOf(" "),U=I>-1?D.slice(0,I):U;switch(U){case"diff":m--;break t;case"deleted":case"new":var ct=D.slice(I+1);ct.indexOf("file mode")===0&&(d[U==="new"?"newMode":"oldMode"]=ct.slice(10));break;case"similarity":d.similarity=parseInt(D.split(" ")[2],10);break;case"index":var Z=D.slice(I+1).split(" "),at=Z[0].split("..");d.oldRevision=at[0],d.newRevision=at[1],Z[1]&&(d.oldMode=d.newMode=Z[1]);break;case"copy":case"rename":var et=D.slice(I+1);et.indexOf("from")===0?d.oldPath=et.slice(5):d.newPath=et.slice(3),v=U;break;case"---":var H=D.slice(I+1),E=_[++m].slice(4);H==="/dev/null"?(E=E.slice(2),v="add"):E==="/dev/null"?(H=H.slice(2),v="delete"):(v="modify",H=H.slice(2),E=E.slice(2)),H&&(d.oldPath=H),E&&(d.newPath=E),f=n;break t}}d.type=v||"modify"}else if(x.indexOf("Binary")===0)d.isBinary=!0,d.type=x.indexOf("/dev/null and")>=0?"add":x.indexOf("and /dev/null")>=0?"delete":"modify",f=t,d=null;else if(f===n)if(x.indexOf("@@")===0){var j=/^@@\s+-([0-9]+)(,([0-9]+))?\s+\+([0-9]+)(,([0-9]+))?/.exec(x);u={content:x,oldStart:j[1]-0,newStart:j[4]-0,oldLines:j[3]-0||1,newLines:j[6]-0||1,changes:[]},d.hunks.push(u),h=u.oldStart,b=u.newStart}else{var A=x.slice(0,1),N={content:x.slice(1)};switch(A){case"+":N.type="insert",N.isInsert=!0,N.lineNumber=b,b++;break;case"-":N.type="delete",N.isDelete=!0,N.lineNumber=h,h++;break;case" ":N.type="normal",N.isNormal=!0,N.oldLineNumber=h,N.newLineNumber=b,h++,b++;break;case"\\":var B=u.changes[u.changes.length-1];B.isDelete||(d.newEndingNewLine=!1),B.isInsert||(d.oldEndingNewLine=!1)}N.type&&u.changes.push(N)}m++}return l}};typeof Re=="object"&&typeof On=="object"?Re=On.exports=r:typeof define=="function"&&define.amd?define("gitDiffParser",[],r):i.gitDiffParser=r})(Re)});var Li=ae((Xo,Di)=>{Di.exports=function(i,t){for(var e=[],n=0;n<i.length;n++){var s=t(i[n],n);qs(s)?e.push.apply(e,s):e.push(s)}return e};var qs=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"}});var Hi=ae((ko,Ui)=>{"use strict";Ui.exports=zi;function zi(i,t,e){i instanceof RegExp&&(i=Ri(i,e)),t instanceof RegExp&&(t=Ri(t,e));var n=Ti(i,t,e);return n&&{start:n[0],end:n[1],pre:e.slice(0,n[0]),body:e.slice(n[0]+i.length,n[1]),post:e.slice(n[1]+t.length)}}function Ri(i,t){var e=t.match(i);return e?e[0]:null}zi.range=Ti;function Ti(i,t,e){var n,s,r,a,l,f=e.indexOf(i),d=e.indexOf(t,f+1),u=f;if(f>=0&&d>0){if(i===t)return[f,d];for(n=[],r=e.length;u>=0&&!l;)u==f?(n.push(u),f=e.indexOf(i,u+1)):n.length==1?l=[n.pop(),d]:(s=n.pop(),s<r&&(r=s,a=d),d=e.indexOf(t,u+1)),u=f<d&&f>=0?f:d;n.length&&(l=[r,a])}return l}});var Zi=ae((ta,Ji)=>{var Gs=Li(),Bi=Hi();Ji.exports=Js;var Yi="\0SLASH"+Math.random()+"\0",qi="\0OPEN"+Math.random()+"\0",Cn="\0CLOSE"+Math.random()+"\0",Gi="\0COMMA"+Math.random()+"\0",Vi="\0PERIOD"+Math.random()+"\0";function _n(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Vs(i){return i.split("\\\\").join(Yi).split("\\{").join(qi).split("\\}").join(Cn).split("\\,").join(Gi).split("\\.").join(Vi)}function Ks(i){return i.split(Yi).join("\\").split(qi).join("{").split(Cn).join("}").split(Gi).join(",").split(Vi).join(".")}function Ki(i){if(!i)return[""];var t=[],e=Bi("{","}",i);if(!e)return i.split(",");var n=e.pre,s=e.body,r=e.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var l=Ki(r);return r.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}function Js(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),oe(Vs(i),!0).map(Ks)):[]}function Zs(i){return"{"+i+"}"}function Qs(i){return/^-?0\d/.test(i)}function Xs(i,t){return i<=t}function ks(i,t){return i>=t}function oe(i,t){var e=[],n=Bi("{","}",i);if(!n||/\$$/.test(n.pre))return[i];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),r=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),a=s||r,l=n.body.indexOf(",")>=0;if(!a&&!l)return n.post.match(/,.*\}/)?(i=n.pre+"{"+n.body+Cn+n.post,oe(i)):[i];var f;if(a)f=n.body.split(/\.\./);else if(f=Ki(n.body),f.length===1&&(f=oe(f[0],!1).map(Zs),f.length===1)){var u=n.post.length?oe(n.post,!1):[""];return u.map(function(E){return n.pre+f[0]+E})}var d=n.pre,u=n.post.length?oe(n.post,!1):[""],h;if(a){var b=_n(f[0]),w=_n(f[1]),_=Math.max(f[0].length,f[1].length),O=f.length==3?Math.abs(_n(f[2])):1,m=Xs,x=w<b;x&&(O*=-1,m=ks);var v=f.some(Qs);h=[];for(var D=b;m(D,w);D+=O){var I;if(r)I=String.fromCharCode(D),I==="\\"&&(I="");else if(I=String(D),v){var U=_-I.length;if(U>0){var ct=new Array(U+1).join("0");D<0?I="-"+ct+I.slice(1):I=ct+I}}h.push(I)}}else h=Gs(f,function(H){return oe(H,!1)});for(var Z=0;Z<h.length;Z++)for(var at=0;at<u.length;at++){var et=d+h[Z]+u[at];(!t||a||et)&&e.push(et)}return e}});var ns=ae((ea,es)=>{es.exports=bt;bt.Minimatch=lt;var me=function(){try{return require("path")}catch{}}()||{sep:"/"};bt.sep=me.sep;var En=bt.GLOBSTAR=lt.GLOBSTAR={},tr=Zi(),Qi={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},xn="[^/]",jn=xn+"*?",er="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",nr="(?:(?!(?:\\/|^)\\.).)*?",Xi=ir("().*{}+?[]^$\\!");function ir(i){return i.split("").reduce(function(t,e){return t[e]=!0,t},{})}var ki=/\/+/;bt.filter=sr;function sr(i,t){return t=t||{},function(e,n,s){return bt(e,i,t)}}function Rt(i,t){t=t||{};var e={};return Object.keys(i).forEach(function(n){e[n]=i[n]}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}bt.defaults=function(i){if(!i||typeof i!="object"||!Object.keys(i).length)return bt;var t=bt,e=function(s,r,a){return t(s,r,Rt(i,a))};return e.Minimatch=function(s,r){return new t.Minimatch(s,Rt(i,r))},e.Minimatch.defaults=function(s){return t.defaults(Rt(i,s)).Minimatch},e.filter=function(s,r){return t.filter(s,Rt(i,r))},e.defaults=function(s){return t.defaults(Rt(i,s))},e.makeRe=function(s,r){return t.makeRe(s,Rt(i,r))},e.braceExpand=function(s,r){return t.braceExpand(s,Rt(i,r))},e.match=function(n,s,r){return t.match(n,s,Rt(i,r))},e};lt.defaults=function(i){return bt.defaults(i).Minimatch};function bt(i,t,e){return Te(t),e||(e={}),!e.nocomment&&t.charAt(0)==="#"?!1:new lt(t,e).match(i)}function lt(i,t){if(!(this instanceof lt))return new lt(i,t);Te(i),t||(t={}),i=i.trim(),!t.allowWindowsEscape&&me.sep!=="/"&&(i=i.split(me.sep).join("/")),this.options=t,this.set=[],this.pattern=i,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}lt.prototype.debug=function(){};lt.prototype.make=rr;function rr(){var i=this.pattern,t=this.options;if(!t.nocomment&&i.charAt(0)==="#"){this.comment=!0;return}if(!i){this.empty=!0;return}this.parseNegate();var e=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,e),e=this.globParts=e.map(function(n){return n.split(ki)}),this.debug(this.pattern,e),e=e.map(function(n,s,r){return n.map(this.parse,this)},this),this.debug(this.pattern,e),e=e.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,e),this.set=e}lt.prototype.parseNegate=or;function or(){var i=this.pattern,t=!1,e=this.options,n=0;if(!e.nonegate){for(var s=0,r=i.length;s<r&&i.charAt(s)==="!";s++)t=!t,n++;n&&(this.pattern=i.substr(n)),this.negate=t}}bt.braceExpand=function(i,t){return ts(i,t)};lt.prototype.braceExpand=ts;function ts(i,t){return t||(this instanceof lt?t=this.options:t={}),i=typeof i>"u"?this.pattern:i,Te(i),t.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:tr(i)}var ar=1024*64,Te=function(i){if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>ar)throw new TypeError("pattern is too long")};lt.prototype.parse=lr;var ze={};function lr(i,t){Te(i);var e=this.options;if(i==="**")if(e.noglobstar)i="*";else return En;if(i==="")return"";var n="",s=!!e.nocase,r=!1,a=[],l=[],f,d=!1,u=-1,h=-1,b=i.charAt(0)==="."?"":e.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function _(){if(f){switch(f){case"*":n+=jn,s=!0;break;case"?":n+=xn,s=!0;break;default:n+="\\"+f;break}w.debug("clearStateChar %j %j",f,n),f=!1}}for(var O=0,m=i.length,x;O<m&&(x=i.charAt(O));O++){if(this.debug("%s	%s %s %j",i,O,n,x),r&&Xi[x]){n+="\\"+x,r=!1;continue}switch(x){case"/":return!1;case"\\":_(),r=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",i,O,n,x),d){this.debug("  in class"),x==="!"&&O===h+1&&(x="^"),n+=x;continue}w.debug("call clearStateChar %j",f),_(),f=x,e.noext&&_();continue;case"(":if(d){n+="(";continue}if(!f){n+="\\(";continue}a.push({type:f,start:O-1,reStart:n.length,open:Qi[f].open,close:Qi[f].close}),n+=f==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",f,n),f=!1;continue;case")":if(d||!a.length){n+="\\)";continue}_(),s=!0;var v=a.pop();n+=v.close,v.type==="!"&&l.push(v),v.reEnd=n.length;continue;case"|":if(d||!a.length||r){n+="\\|",r=!1;continue}_(),n+="|";continue;case"[":if(_(),d){n+="\\"+x;continue}d=!0,h=O,u=n.length,n+=x;continue;case"]":if(O===h+1||!d){n+="\\"+x,r=!1;continue}var D=i.substring(h+1,O);try{RegExp("["+D+"]")}catch{var I=this.parse(D,ze);n=n.substr(0,u)+"\\["+I[0]+"\\]",s=s||I[1],d=!1;continue}s=!0,d=!1,n+=x;continue;default:_(),r?r=!1:Xi[x]&&!(x==="^"&&d)&&(n+="\\"),n+=x}}for(d&&(D=i.substr(h+1),I=this.parse(D,ze),n=n.substr(0,u)+"\\["+I[0],s=s||I[1]),v=a.pop();v;v=a.pop()){var U=n.slice(v.reStart+v.open.length);this.debug("setting tail",n,v),U=U.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(G,wt,ut){return ut||(ut="\\"),wt+wt+ut+"|"}),this.debug(`tail=%j
   %s`,U,U,v,n);var ct=v.type==="*"?jn:v.type==="?"?xn:"\\"+v.type;s=!0,n=n.slice(0,v.reStart)+ct+"\\("+U}_(),r&&(n+="\\\\");var Z=!1;switch(n.charAt(0)){case"[":case".":case"(":Z=!0}for(var at=l.length-1;at>-1;at--){var et=l[at],H=n.slice(0,et.reStart),E=n.slice(et.reStart,et.reEnd-8),j=n.slice(et.reEnd-8,et.reEnd),A=n.slice(et.reEnd);j+=A;var N=H.split("(").length-1,B=A;for(O=0;O<N;O++)B=B.replace(/\)[+*?]?/,"");A=B;var Q="";A===""&&t!==ze&&(Q="$");var q=H+E+A+Q+j;n=q}if(n!==""&&s&&(n="(?=.)"+n),Z&&(n=b+n),t===ze)return[n,s];if(!s)return fr(i);var nt=e.nocase?"i":"";try{var jt=new RegExp("^"+n+"$",nt)}catch{return new RegExp("$.")}return jt._glob=i,jt._src=n,jt}bt.makeRe=function(i,t){return new lt(i,t||{}).makeRe()};lt.prototype.makeRe=cr;function cr(){if(this.regexp||this.regexp===!1)return this.regexp;var i=this.set;if(!i.length)return this.regexp=!1,this.regexp;var t=this.options,e=t.noglobstar?jn:t.dot?er:nr,n=t.nocase?"i":"",s=i.map(function(r){return r.map(function(a){return a===En?e:typeof a=="string"?hr(a):a._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch{this.regexp=!1}return this.regexp}bt.match=function(i,t,e){e=e||{};var n=new lt(t,e);return i=i.filter(function(s){return n.match(s)}),n.options.nonull&&!i.length&&i.push(t),i};lt.prototype.match=function(t,e){if(typeof e>"u"&&(e=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var n=this.options;me.sep!=="/"&&(t=t.split(me.sep).join("/")),t=t.split(ki),this.debug(this.pattern,"split",t);var s=this.set;this.debug(this.pattern,"set",s);var r,a;for(a=t.length-1;a>=0&&(r=t[a],!r);a--);for(a=0;a<s.length;a++){var l=s[a],f=t;n.matchBase&&l.length===1&&(f=[r]);var d=this.matchOne(f,l,e);if(d)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};lt.prototype.matchOne=function(i,t,e){var n=this.options;this.debug("matchOne",{this:this,file:i,pattern:t}),this.debug("matchOne",i.length,t.length);for(var s=0,r=0,a=i.length,l=t.length;s<a&&r<l;s++,r++){this.debug("matchOne loop");var f=t[r],d=i[s];if(this.debug(t,f,d),f===!1)return!1;if(f===En){this.debug("GLOBSTAR",[t,f,d]);var u=s,h=r+1;if(h===l){for(this.debug("** at the end");s<a;s++)if(i[s]==="."||i[s]===".."||!n.dot&&i[s].charAt(0)===".")return!1;return!0}for(;u<a;){var b=i[u];if(this.debug(`
globstar while`,i,u,t,h,b),this.matchOne(i.slice(u),t.slice(h),e))return this.debug("globstar found match!",u,a,b),!0;if(b==="."||b===".."||!n.dot&&b.charAt(0)==="."){this.debug("dot detected!",i,u,t,h);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(e&&(this.debug(`
>>> no match, partial?`,i,u,t,h),u===a))}var w;if(typeof f=="string"?(w=d===f,this.debug("string match",f,d,w)):(w=d.match(f),this.debug("pattern match",f,d,w)),!w)return!1}if(s===a&&r===l)return!0;if(s===a)return e;if(r===l)return s===a-1&&i[s]==="";throw new Error("wtf?")};function fr(i){return i.replace(/\\(.)/g,"$1")}function hr(i){return i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Ee=require("assert");var gs={right:_s,center:Cs},bs=0,we=1,ws=2,ye=3,qe=class{constructor(t){var e;this.width=t.width,this.wrap=(e=t.wrap)!==null&&e!==void 0?e:!0,this.rows=[]}span(...t){let e=this.div(...t);e.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let e=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(e),e}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let e=t.split(`
`).map(s=>s.split("	")),n=0;return e.forEach(s=>{s.length>1&&dt.stringWidth(s[0])>n&&(n=Math.min(Math.floor(this.width*.5),dt.stringWidth(s[0])))}),e.forEach(s=>{this.div(...s.map((r,a)=>({text:r.trim(),padding:this.measurePadding(r),width:a===0&&s.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let e=dt.stripAnsi(t);return[0,e.match(/\s*$/)[0].length,0,e.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(e=>{this.rowToString(e,t)}),t.filter(e=>!e.hidden).map(e=>e.text).join(`
`)}rowToString(t,e){return this.rasterize(t).forEach((n,s)=>{let r="";n.forEach((a,l)=>{let{width:f}=t[l],d=this.negatePadding(t[l]),u=a;if(d>dt.stringWidth(a)&&(u+=" ".repeat(d-dt.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let b=gs[t[l].align];u=b(u,d),dt.stringWidth(u)<d&&(u+=" ".repeat((f||0)-dt.stringWidth(u)-1))}let h=t[l].padding||[0,0,0,0];h[ye]&&(r+=" ".repeat(h[ye])),r+=Mn(t[l],u,"| "),r+=u,r+=Mn(t[l],u," |"),h[we]&&(r+=" ".repeat(h[we])),s===0&&e.length>0&&(r=this.renderInline(r,e[e.length-1]))}),e.push({text:r.replace(/ +$/,""),span:t.span})}),e}renderInline(t,e){let n=t.match(/^ */),s=n?n[0].length:0,r=e.text,a=dt.stringWidth(r.trimRight());return e.span?this.wrap?s<a?t:(e.hidden=!0,r.trimRight()+" ".repeat(s-a)+t.trimLeft()):(e.hidden=!0,r+t):t}rasterize(t){let e=[],n=this.columnWidths(t),s;return t.forEach((r,a)=>{r.width=n[a],this.wrap?s=dt.wrap(r.text,this.negatePadding(r),{hard:!0}).split(`
`):s=r.text.split(`
`),r.border&&(s.unshift("."+"-".repeat(this.negatePadding(r)+2)+"."),s.push("'"+"-".repeat(this.negatePadding(r)+2)+"'")),r.padding&&(s.unshift(...new Array(r.padding[bs]||0).fill("")),s.push(...new Array(r.padding[ws]||0).fill(""))),s.forEach((l,f)=>{e[f]||e.push([]);let d=e[f];for(let u=0;u<a;u++)d[u]===void 0&&d.push("");d.push(l)})}),e}negatePadding(t){let e=t.width||0;return t.padding&&(e-=(t.padding[ye]||0)+(t.padding[we]||0)),t.border&&(e-=4),e}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||dt.stringWidth(a.text));let e=t.length,n=this.width,s=t.map(a=>{if(a.width)return e--,n-=a.width,a.width}),r=e?Math.floor(n/e):0;return s.map((a,l)=>a===void 0?Math.max(r,ys(t[l])):a)}};function Mn(i,t,e){return i.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?e:"  ":""}function ys(i){let t=i.padding||[],e=1+(t[ye]||0)+(t[we]||0);return i.border?e+4:e}function Os(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function _s(i,t){i=i.trim();let e=dt.stringWidth(i);return e<t?" ".repeat(t-e)+i:i}function Cs(i,t){i=i.trim();let e=dt.stringWidth(i);return e>=t?i:" ".repeat(t-e>>1)+i}var dt;function $n(i,t){return dt=t,new qe({width:i?.width||Os(),wrap:i?.wrap})}var In=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function Ge(i){return i.replace(In,"")}function Nn(i,t){let[e,n]=i.match(In)||["",""];i=Ge(i);let s="";for(let r=0;r<i.length;r++)r!==0&&r%t===0&&(s+=`
`),s+=i.charAt(r);return e&&n&&(s=`${e}${s}${n}`),s}function Ve(i){return $n(i,{stringWidth:t=>[...t].length,stripAnsi:Ge,wrap:Nn})}var kt=require("path"),Oe=require("fs");function Fn(i,t){let e=(0,kt.resolve)(".",i),n;for((0,Oe.statSync)(e).isDirectory()||(e=(0,kt.dirname)(e));;){if(n=t(e,(0,Oe.readdirSync)(e)),n)return(0,kt.resolve)(e,n);if(e=(0,kt.dirname)(n=e),n===e)break}}var Zn=require("util"),Qn=require("fs"),Xn=require("url");var zn=require("util"),je=require("path");function Tt(i){if(i!==i.toLowerCase()&&i!==i.toUpperCase()||(i=i.toLowerCase()),i.indexOf("-")===-1&&i.indexOf("_")===-1)return i;{let e="",n=!1,s=i.match(/^-+/);for(let r=s?s[0].length:0;r<i.length;r++){let a=i.charAt(r);n&&(n=!1,a=a.toUpperCase()),r!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(e+=a)}return e}}function _e(i,t){let e=i.toLowerCase();t=t||"-";let n="";for(let s=0;s<i.length;s++){let r=e.charAt(s),a=i.charAt(s);r!==a&&s>0?n+=`${t}${e.charAt(s)}`:n+=a}return n}function Ce(i){return i==null?!1:typeof i=="number"||/^0x[0-9a-f]+$/i.test(i)?!0:/^0[^.]/.test(i)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(i)}function Wn(i){if(Array.isArray(i))return i.map(a=>typeof a!="string"?a+"":a);i=i.trim();let t=0,e=null,n=null,s=null,r=[];for(let a=0;a<i.length;a++){if(e=n,n=i.charAt(a),n===" "&&!s){e!==" "&&t++;continue}n===s?s=null:(n==="'"||n==='"')&&!s&&(s=n),r[t]||(r[t]=""),r[t]+=n}return r}var yt;(function(i){i.BOOLEAN="boolean",i.STRING="string",i.NUMBER="number",i.ARRAY="array"})(yt||(yt={}));var $t,xe=class{constructor(t){$t=t}parse(t,e){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},e),s=Wn(t),r=typeof t=="string",a=xs(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),f=Object.assign(Object.create(null),n.default),d=n.configObjects||[],u=n.envPrefix,h=l["populate--"],b=h?"--":"_",w=Object.create(null),_=Object.create(null),O=n.__||$t.format,m={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},x=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,v=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(c){let g=typeof c=="object"?c.key:c,C=Object.keys(c).map(function(y){return{boolean:"bools",string:"strings",number:"numbers"}[y]}).filter(Boolean).pop();C&&(m[C][g]=!0),m.arrays[g]=!0,m.keys.push(g)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(c){m.bools[c]=!0,m.keys.push(c)}),[].concat(n.string||[]).filter(Boolean).forEach(function(c){m.strings[c]=!0,m.keys.push(c)}),[].concat(n.number||[]).filter(Boolean).forEach(function(c){m.numbers[c]=!0,m.keys.push(c)}),[].concat(n.count||[]).filter(Boolean).forEach(function(c){m.counts[c]=!0,m.keys.push(c)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(c){m.normalize[c]=!0,m.keys.push(c)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([c,g])=>{typeof g=="number"&&(m.nargs[c]=g,m.keys.push(c))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([c,g])=>{typeof g=="function"&&(m.coercions[c]=g,m.keys.push(c))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(c){m.configs[c]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([c,g])=>{(typeof g=="boolean"||typeof g=="function")&&(m.configs[c]=g)})),zt(n.key,a,n.default,m.arrays),Object.keys(f).forEach(function(c){(m.aliases[c]||[]).forEach(function(g){f[g]=f[c]})});let D=null;be();let I=[],U=Object.assign(Object.create(null),{_:[]}),ct={};for(let c=0;c<s.length;c++){let g=s[c],C=g.replace(/^-{3,}/,"---"),y,p,$,S,W,rt;if(g!=="--"&&/^-/.test(g)&&X(g))Z(g);else if(C.match(/^---+(=|$)/)){Z(g);continue}else if(g.match(/^--.+=/)||!l["short-option-groups"]&&g.match(/^-.+=/))S=g.match(/^--?([^=]+)=([\s\S]*)$/),S!==null&&Array.isArray(S)&&S.length>=3&&(R(S[1],m.arrays)?c=et(c,S[1],s,S[2]):R(S[1],m.nargs)!==!1?c=at(c,S[1],s,S[2]):H(S[1],S[2],!0));else if(g.match(v)&&l["boolean-negation"])S=g.match(v),S!==null&&Array.isArray(S)&&S.length>=2&&(p=S[1],H(p,R(p,m.arrays)?[!1]:!1));else if(g.match(/^--.+/)||!l["short-option-groups"]&&g.match(/^-[^-]+/))S=g.match(/^--?(.+)/),S!==null&&Array.isArray(S)&&S.length>=2&&(p=S[1],R(p,m.arrays)?c=et(c,p,s):R(p,m.nargs)!==!1?c=at(c,p,s):(W=s[c+1],W!==void 0&&(!W.match(/^-/)||W.match(x))&&!R(p,m.bools)&&!R(p,m.counts)||/^(true|false)$/.test(W)?(H(p,W),c++):H(p,k(p))));else if(g.match(/^-.\..+=/))S=g.match(/^-([^=]+)=([\s\S]*)$/),S!==null&&Array.isArray(S)&&S.length>=3&&H(S[1],S[2]);else if(g.match(/^-.\..+/)&&!g.match(x))W=s[c+1],S=g.match(/^-(.\..+)/),S!==null&&Array.isArray(S)&&S.length>=2&&(p=S[1],W!==void 0&&!W.match(/^-/)&&!R(p,m.bools)&&!R(p,m.counts)?(H(p,W),c++):H(p,k(p)));else if(g.match(/^-[^-]+/)&&!g.match(x)){$=g.slice(1,-1).split(""),y=!1;for(let ft=0;ft<$.length;ft++){if(W=g.slice(ft+2),$[ft+1]&&$[ft+1]==="="){rt=g.slice(ft+3),p=$[ft],R(p,m.arrays)?c=et(c,p,s,rt):R(p,m.nargs)!==!1?c=at(c,p,s,rt):H(p,rt),y=!0;break}if(W==="-"){H($[ft],W);continue}if(/[A-Za-z]/.test($[ft])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(W)&&R(W,m.bools)===!1){H($[ft],W),y=!0;break}if($[ft+1]&&$[ft+1].match(/\W/)){H($[ft],W),y=!0;break}else H($[ft],k($[ft]))}p=g.slice(-1)[0],!y&&p!=="-"&&(R(p,m.arrays)?c=et(c,p,s):R(p,m.nargs)!==!1?c=at(c,p,s):(W=s[c+1],W!==void 0&&(!/^(-|--)[^-]/.test(W)||W.match(x))&&!R(p,m.bools)&&!R(p,m.counts)||/^(true|false)$/.test(W)?(H(p,W),c++):H(p,k(p))))}else if(g.match(/^-[0-9]$/)&&g.match(x)&&R(g.slice(1),m.bools))p=g.slice(1),H(p,k(p));else if(g==="--"){I=s.slice(c+1);break}else if(l["halt-at-non-option"]){I=s.slice(c);break}else Z(g)}q(U,!0),q(U,!1),N(U),Q(),G(U,m.aliases,f,!0),nt(U),l["set-placeholder-key"]&&jt(U),Object.keys(m.counts).forEach(function(c){wt(U,c.split("."))||H(c,0)}),h&&I.length&&(U[b]=[]),I.forEach(function(c){U[b].push(c)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(U).filter(c=>c!=="--"&&c.includes("-")).forEach(c=>{delete U[c]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(c=>a[c])).forEach(c=>{l["camel-case-expansion"]&&c.includes("-")&&delete U[c.split(".").map(g=>Tt(g)).join(".")],delete U[c]});function Z(c){let g=A("_",c);(typeof g=="string"||typeof g=="number")&&U._.push(g)}function at(c,g,C,y){let p,$=R(g,m.nargs);if($=typeof $!="number"||isNaN($)?1:$,$===0)return At(y)||(D=Error(O("Argument unexpected for: %s",g))),H(g,k(g)),c;let S=At(y)?0:1;if(l["nargs-eats-options"])C.length-(c+1)+S<$&&(D=Error(O("Not enough arguments following: %s",g))),S=$;else{for(p=c+1;p<C.length&&(!C[p].match(/^-[^0-9]/)||C[p].match(x)||X(C[p]));p++)S++;S<$&&(D=Error(O("Not enough arguments following: %s",g)))}let W=Math.min(S,$);for(!At(y)&&W>0&&(H(g,y),W--),p=c+1;p<W+c+1;p++)H(g,C[p]);return c+W}function et(c,g,C,y){let p=[],$=y||C[c+1],S=R(g,m.nargs);if(R(g,m.bools)&&!/^(true|false)$/.test($))p.push(!0);else if(At($)||At(y)&&/^-/.test($)&&!x.test($)&&!X($)){if(f[g]!==void 0){let W=f[g];p=Array.isArray(W)?W:[W]}}else{At(y)||p.push(j(g,y,!0));for(let W=c+1;W<C.length&&!(!l["greedy-arrays"]&&p.length>0||S&&typeof S=="number"&&p.length>=S||($=C[W],/^-/.test($)&&!x.test($)&&!X($)));W++)c=W,p.push(j(g,$,r))}return typeof S=="number"&&(S&&p.length<S||isNaN(S)&&p.length===0)&&(D=Error(O("Not enough arguments following: %s",g))),H(g,p),c}function H(c,g,C=r){if(/-/.test(c)&&l["camel-case-expansion"]){let $=c.split(".").map(function(S){return Tt(S)}).join(".");E(c,$)}let y=j(c,g,C),p=c.split(".");ut(U,p,y),m.aliases[c]&&m.aliases[c].forEach(function($){let S=$.split(".");ut(U,S,y)}),p.length>1&&l["dot-notation"]&&(m.aliases[p[0]]||[]).forEach(function($){let S=$.split("."),W=[].concat(p);W.shift(),S=S.concat(W),(m.aliases[c]||[]).includes(S.join("."))||ut(U,S,y)}),R(c,m.normalize)&&!R(c,m.arrays)&&[c].concat(m.aliases[c]||[]).forEach(function(S){Object.defineProperty(ct,S,{enumerable:!0,get(){return g},set(W){g=typeof W=="string"?$t.normalize(W):W}})})}function E(c,g){m.aliases[c]&&m.aliases[c].length||(m.aliases[c]=[g],w[g]=!0),m.aliases[g]&&m.aliases[g].length||E(g,c)}function j(c,g,C){C&&(g=js(g)),(R(c,m.bools)||R(c,m.counts))&&typeof g=="string"&&(g=g==="true");let y=Array.isArray(g)?g.map(function(p){return A(c,p)}):A(c,g);return R(c,m.counts)&&(At(y)||typeof y=="boolean")&&(y=Ke()),R(c,m.normalize)&&R(c,m.arrays)&&(Array.isArray(g)?y=g.map(p=>$t.normalize(p)):y=$t.normalize(g)),y}function A(c,g){return!l["parse-positional-numbers"]&&c==="_"||!R(c,m.strings)&&!R(c,m.bools)&&!Array.isArray(g)&&(Ce(g)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${g}`)))||!At(g)&&R(c,m.numbers))&&(g=Number(g)),g}function N(c){let g=Object.create(null);G(g,m.aliases,f),Object.keys(m.configs).forEach(function(C){let y=c[C]||g[C];if(y)try{let p=null,$=$t.resolve($t.cwd(),y),S=m.configs[C];if(typeof S=="function"){try{p=S($)}catch(W){p=W}if(p instanceof Error){D=p;return}}else p=$t.require($);B(p)}catch(p){p.name==="PermissionDenied"?D=p:c[C]&&(D=Error(O("Invalid JSON config file: %s",y)))}})}function B(c,g){Object.keys(c).forEach(function(C){let y=c[C],p=g?g+"."+C:C;typeof y=="object"&&y!==null&&!Array.isArray(y)&&l["dot-notation"]?B(y,p):(!wt(U,p.split("."))||R(p,m.arrays)&&l["combine-arrays"])&&H(p,y)})}function Q(){typeof d<"u"&&d.forEach(function(c){B(c)})}function q(c,g){if(typeof u>"u")return;let C=typeof u=="string"?u:"",y=$t.env();Object.keys(y).forEach(function(p){if(C===""||p.lastIndexOf(C,0)===0){let $=p.split("__").map(function(S,W){return W===0&&(S=S.substring(C.length)),Tt(S)});(g&&m.configs[$.join(".")]||!g)&&!wt(c,$)&&H($.join("."),y[p])}})}function nt(c){let g,C=new Set;Object.keys(c).forEach(function(y){if(!C.has(y)&&(g=R(y,m.coercions),typeof g=="function"))try{let p=A(y,g(c[y]));[].concat(m.aliases[y]||[],y).forEach($=>{C.add($),c[$]=p})}catch(p){D=p}})}function jt(c){return m.keys.forEach(g=>{~g.indexOf(".")||typeof c[g]>"u"&&(c[g]=void 0)}),c}function G(c,g,C,y=!1){Object.keys(C).forEach(function(p){wt(c,p.split("."))||(ut(c,p.split("."),C[p]),y&&(_[p]=!0),(g[p]||[]).forEach(function($){wt(c,$.split("."))||ut(c,$.split("."),C[p])}))})}function wt(c,g){let C=c;l["dot-notation"]||(g=[g.join(".")]),g.slice(0,-1).forEach(function(p){C=C[p]||{}});let y=g[g.length-1];return typeof C!="object"?!1:y in C}function ut(c,g,C){let y=c;l["dot-notation"]||(g=[g.join(".")]),g.slice(0,-1).forEach(function(rt){rt=Dn(rt),typeof y=="object"&&y[rt]===void 0&&(y[rt]={}),typeof y[rt]!="object"||Array.isArray(y[rt])?(Array.isArray(y[rt])?y[rt].push({}):y[rt]=[y[rt],{}],y=y[rt][y[rt].length-1]):y=y[rt]});let p=Dn(g[g.length-1]),$=R(g.join("."),m.arrays),S=Array.isArray(C),W=l["duplicate-arguments-array"];!W&&R(p,m.nargs)&&(W=!0,(!At(y[p])&&m.nargs[p]===1||Array.isArray(y[p])&&y[p].length===m.nargs[p])&&(y[p]=void 0)),C===Ke()?y[p]=Ke(y[p]):Array.isArray(y[p])?W&&$&&S?y[p]=l["flatten-duplicate-arrays"]?y[p].concat(C):(Array.isArray(y[p][0])?y[p]:[y[p]]).concat([C]):!W&&!!$==!!S?y[p]=C:y[p]=y[p].concat([C]):y[p]===void 0&&$?y[p]=S?C:[C]:W&&!(y[p]===void 0||R(p,m.counts)||R(p,m.bools))?y[p]=[y[p],C]:y[p]=C}function zt(...c){c.forEach(function(g){Object.keys(g||{}).forEach(function(C){m.aliases[C]||(m.aliases[C]=[].concat(a[C]||[]),m.aliases[C].concat(C).forEach(function(y){if(/-/.test(y)&&l["camel-case-expansion"]){let p=Tt(y);p!==C&&m.aliases[C].indexOf(p)===-1&&(m.aliases[C].push(p),w[p]=!0)}}),m.aliases[C].concat(C).forEach(function(y){if(y.length>1&&/[A-Z]/.test(y)&&l["camel-case-expansion"]){let p=_e(y,"-");p!==C&&m.aliases[C].indexOf(p)===-1&&(m.aliases[C].push(p),w[p]=!0)}}),m.aliases[C].forEach(function(y){m.aliases[y]=[C].concat(m.aliases[C].filter(function(p){return y!==p}))}))})})}function R(c,g){let C=[].concat(m.aliases[c]||[],c),y=Object.keys(g),p=C.find($=>y.includes($));return p?g[p]:!1}function Ye(c){let g=Object.keys(m);return[].concat(g.map(y=>m[y])).some(function(y){return Array.isArray(y)?y.includes(c):y[c]})}function L(c,...g){return[].concat(...g).some(function(y){let p=c.match(y);return p&&Ye(p[1])})}function J(c){if(c.match(x)||!c.match(/^-[^-]+/))return!1;let g=!0,C,y=c.slice(1).split("");for(let p=0;p<y.length;p++){if(C=c.slice(p+2),!Ye(y[p])){g=!1;break}if(y[p+1]&&y[p+1]==="="||C==="-"||/[A-Za-z]/.test(y[p])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(C)||y[p+1]&&y[p+1].match(/\W/))break}return g}function X(c){return l["unknown-options-as-args"]&&Y(c)}function Y(c){return c=c.replace(/^-{3,}/,"--"),c.match(x)||J(c)?!1:!L(c,/^-+([^=]+?)=[\s\S]*$/,v,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function k(c){return!R(c,m.bools)&&!R(c,m.counts)&&`${c}`in f?f[c]:it(Et(c))}function it(c){return{[yt.BOOLEAN]:!0,[yt.STRING]:"",[yt.NUMBER]:void 0,[yt.ARRAY]:[]}[c]}function Et(c){let g=yt.BOOLEAN;return R(c,m.strings)?g=yt.STRING:R(c,m.numbers)?g=yt.NUMBER:R(c,m.bools)?g=yt.BOOLEAN:R(c,m.arrays)&&(g=yt.ARRAY),g}function At(c){return c===void 0}function be(){Object.keys(m.counts).find(c=>R(c,m.arrays)?(D=Error(O("Invalid configuration: %s, opts.count excludes opts.array.",c)),!0):R(c,m.nargs)?(D=Error(O("Invalid configuration: %s, opts.count excludes opts.narg.",c)),!0):!1)}return{aliases:Object.assign({},m.aliases),argv:Object.assign(ct,U),configuration:l,defaulted:Object.assign({},_),error:D,newAliases:Object.assign({},w)}}};function xs(i){let t=[],e=Object.create(null),n=!0;for(Object.keys(i).forEach(function(s){t.push([].concat(i[s],s))});n;){n=!1;for(let s=0;s<t.length;s++)for(let r=s+1;r<t.length;r++)if(t[s].filter(function(l){return t[r].indexOf(l)!==-1}).length){t[s]=t[s].concat(t[r]),t.splice(r,1),n=!0;break}}return t.forEach(function(s){s=s.filter(function(a,l,f){return f.indexOf(a)===l});let r=s.pop();r!==void 0&&typeof r=="string"&&(e[r]=s)}),e}function Ke(i){return i!==void 0?i+1:1}function Dn(i){return i==="__proto__"?"___proto___":i}function js(i){return typeof i=="string"&&(i[0]==="'"||i[0]==='"')&&i[i.length-1]===i[0]?i.substring(1,i.length-1):i}var Tn=require("fs");var Je,Ze,Qe,Ln=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Rn=(Ze=(Je=process==null?void 0:process.versions)===null||Je===void 0?void 0:Je.node)!==null&&Ze!==void 0?Ze:(Qe=process==null?void 0:process.version)===null||Qe===void 0?void 0:Qe.slice(1);if(Rn&&Number(Rn.match(/^([^.]+)/)[1])<Ln)throw Error(`yargs parser supports a minimum Node.js version of ${Ln}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Es=process?process.env:{},Un=new xe({cwd:process.cwd,env:()=>Es,format:zn.format,normalize:je.normalize,resolve:je.resolve,require:i=>{if(typeof require<"u")return require(i);if(i.match(/\.json$/))return JSON.parse((0,Tn.readFileSync)(i,"utf8"));throw Error("only .json config files are supported in ESM")}}),ce=function(t,e){return Un.parse(t.slice(),e).argv};ce.detailed=function(i,t){return Un.parse(i.slice(),t)};ce.camelCase=Tt;ce.decamelize=_e;ce.looksLikeNumber=Ce;var Xe=ce;var St=require("path");function Hn(){return As()?0:1}function As(){return vs()&&!process.defaultApp}function vs(){return!!process.versions.electron}function ke(i){return i.slice(Hn()+1)}function Bn(){return process.argv[Hn()]}var V=class i extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,i)}};var te=require("fs"),Yn=require("util"),qn=require("path"),Gn={fs:{readFileSync:te.readFileSync,writeFile:te.writeFile},format:Yn.format,resolve:qn.resolve,exists:i=>{try{return(0,te.statSync)(i).isFile()}catch{return!1}}};var vt,tn=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let e=t.shift(),n=function(){};return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]=e,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),vt.format.apply(vt.format,[this.cache[this.locale][e]||e].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.shift(),s=t.shift(),r=function(){};typeof t[t.length-1]=="function"&&(r=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=s===1?e:n;this.cache[this.locale][e]&&(a=this.cache[this.locale][e][s===1?"one":"other"]),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]={one:e,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r();let l=[a];return~a.indexOf("%d")&&l.push(s),vt.format.apply(vt.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.cache[this.locale][e]=t[e])}_taggedLiteral(t,...e){let n="";return t.forEach(function(s,r){let a=e[r+1];n+=s,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(e,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,e=this.writeQueue[0],n=e.directory,s=e.locale,r=e.cb,a=this._resolveLocaleFile(n,s),l=JSON.stringify(this.cache[s],null,2);vt.fs.writeFile(a,l,"utf-8",function(f){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),r(f)})}_readLocaleFile(){let t={},e=this._resolveLocaleFile(this.directory,this.locale);try{vt.fs.readFileSync&&(t=JSON.parse(vt.fs.readFileSync(e,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+e),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,e){let n=vt.resolve(t,"./",e+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~e.lastIndexOf("_")){let s=vt.resolve(t,"./",e.split("_")[0]+".json");this._fileExistsSync(s)&&(n=s)}return n}_fileExistsSync(t){return vt.exists(t)}};function Vn(i,t){vt=t;let e=new tn(i);return{__:e.__.bind(e),__n:e.__n.bind(e),setLocale:e.setLocale.bind(e),getLocale:e.getLocale.bind(e),updateLocale:e.updateLocale.bind(e),locale:e.locale}}var Ss=i=>Vn(i,Gn),Kn=Ss;var $s={},Ps="require is not supported by ESM",Jn="loading a directory of commands is not supported yet for ESM",fe;try{fe=(0,Xn.fileURLToPath)($s.url)}catch{fe=process.cwd()}var Ms=fe.substring(0,fe.lastIndexOf("node_modules")),en={assert:{notStrictEqual:Ee.notStrictEqual,strictEqual:Ee.strictEqual},cliui:Ve,findUp:Fn,getEnv:i=>process.env[i],inspect:Zn.inspect,getCallerFile:()=>{throw new V(Jn)},getProcessArgvBin:Bn,mainFilename:Ms||process.cwd(),Parser:Xe,path:{basename:St.basename,dirname:St.dirname,extname:St.extname,relative:St.relative,resolve:St.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(i,t)=>process.emitWarning(i,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:Qn.readFileSync,require:()=>{throw new V(Ps)},requireDirectory:()=>{throw new V(Jn)},stringWidth:i=>[...i].length,y18n:Kn({directory:(0,St.resolve)(fe,"../../../locales"),updateFiles:!1})};function ht(i,t,e,n){e.assert.notStrictEqual(i,t,n)}function nn(i,t){t.assert.strictEqual(typeof i,"string")}function ee(i){return Object.keys(i)}function K(i){return!!i&&!!i.then&&typeof i.then=="function"}function It(i){let e=i.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,s=e.shift();if(!s)throw new Error(`No command found in: ${i}`);let r={cmd:s.replace(n,""),demanded:[],optional:[]};return e.forEach((a,l)=>{let f=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===e.length-1&&(f=!0),/^\[/.test(a)?r.optional.push({cmd:a.replace(n,"").split("|"),variadic:f}):r.demanded.push({cmd:a.replace(n,"").split("|"),variadic:f})}),r}var Is=["first","second","third","fourth","fifth","sixth"];function P(i,t,e){function n(){return typeof i=="object"?[{demanded:[],optional:[]},i,t]:[It(`cmd ${i}`),t,e]}try{let s=0,[r,a,l]=n(),f=[].slice.call(a);for(;f.length&&f[f.length-1]===void 0;)f.pop();let d=l||f.length;if(d<r.demanded.length)throw new V(`Not enough arguments provided. Expected ${r.demanded.length} but received ${f.length}.`);let u=r.demanded.length+r.optional.length;if(d>u)throw new V(`Too many arguments provided. Expected max ${u} but received ${d}.`);r.demanded.forEach(h=>{let b=f.shift(),w=kn(b);h.cmd.filter(O=>O===w||O==="*").length===0&&ti(w,h.cmd,s),s+=1}),r.optional.forEach(h=>{if(f.length===0)return;let b=f.shift(),w=kn(b);h.cmd.filter(O=>O===w||O==="*").length===0&&ti(w,h.cmd,s),s+=1})}catch(s){console.warn(s.stack)}}function kn(i){return Array.isArray(i)?"array":i===null?"null":typeof i}function ti(i,t,e){throw new V(`Invalid ${Is[e]||"manyith"} argument. Expected ${t.join(" or ")} but received ${i}.`)}var Ae=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,e,n=!0,s=!1){if(P("<array|function> [boolean] [boolean] [boolean]",[t,e,n],arguments.length),Array.isArray(t)){for(let r=0;r<t.length;r++){if(typeof t[r]!="function")throw Error("middleware must be a function");let a=t[r];a.applyBeforeValidation=e,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let r=t;r.applyBeforeValidation=e,r.global=n,r.mutates=s,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,e){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(s=>{let r=[...n[e]||[],e];return s.option?!r.includes(s.option):!0}),t.option=e,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function ei(i){return i?i.map(t=>(t.applyBeforeValidation=!1,t)):[]}function Ut(i,t,e,n){return e.reduce((s,r)=>{if(r.applyBeforeValidation!==n)return s;if(r.mutates){if(r.applied)return s;r.applied=!0}if(K(s))return s.then(a=>Promise.all([a,r(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=r(s,t);return K(a)?a.then(l=>Object.assign(s,l)):Object.assign(s,a)}},i)}function Ht(i,t,e=n=>{throw n}){try{let n=Ns(i)?i():i;return K(n)?n.then(s=>t(s)):t(n)}catch(n){return e(n)}}function Ns(i){return typeof i=="function"}function sn(i){if(typeof require>"u")return null;for(let t=0,e=Object.keys(require.cache),n;t<e.length;t++)if(n=require.cache[e[t]],n.exports===i)return n;return null}var ne=/(^\*)|(^\$0)/,rn=class{constructor(t,e,n,s){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=s,this.usage=t,this.globalMiddleware=n,this.validation=e}addDirectory(t,e,n,s){s=s||{},typeof s.recurse!="boolean"&&(s.recurse=!1),Array.isArray(s.extensions)||(s.extensions=["js"]);let r=typeof s.visit=="function"?s.visit:a=>a;s.visit=(a,l,f)=>{let d=r(a,l,f);if(d){if(this.requireCache.has(l))return d;this.requireCache.add(l),this.addHandler(d)}return d},this.shim.requireDirectory({require:e,filename:n},t,s)}addHandler(t,e,n,s,r,a){let l=[],f=ei(r);if(s=s||(()=>{}),Array.isArray(t))if(Fs(t))[t,...l]=t;else for(let d of t)this.addHandler(d);else if(Ds(t)){let d=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(d=[].concat(d).concat(t.aliases)),this.addHandler(d,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(ni(n)){this.addHandler([t].concat(l),e,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let d=It(t);l=l.map(b=>It(b).cmd);let u=!1,h=[d.cmd].concat(l).filter(b=>ne.test(b)?(u=!0,!1):!0);h.length===0&&u&&h.push("$0"),u&&(d.cmd=h[0],l=h.slice(1),t=t.replace(ne,d.cmd)),l.forEach(b=>{this.aliasMap[b]=d.cmd}),e!==!1&&this.usage.command(t,e,u,l,a),this.handlers[d.cmd]={original:t,description:e,handler:s,builder:n||{},middlewares:f,deprecated:a,demanded:d.demanded,optional:d.optional},u&&(this.defaultCommand=this.handlers[d.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,e,n,s,r,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,f=e.getInternalMethods().getContext(),d=f.commands.slice(),u=!t;t&&(f.commands.push(t),f.fullCommands.push(l.original));let h=this.applyBuilderUpdateUsageAndParse(u,l,e,n.aliases,d,s,r,a);return K(h)?h.then(b=>this.applyMiddlewareAndGetResult(u,l,b.innerArgv,f,r,b.aliases,e)):this.applyMiddlewareAndGetResult(u,l,h.innerArgv,f,r,h.aliases,e)}applyBuilderUpdateUsageAndParse(t,e,n,s,r,a,l,f){let d=e.builder,u=n;if(ve(d)){n.getInternalMethods().getUsageInstance().freeze();let h=d(n.getInternalMethods().reset(s),f);if(K(h))return h.then(b=>(u=si(b)?b:n,this.parseAndUpdateUsage(t,e,u,r,a,l)))}else Ws(d)&&(n.getInternalMethods().getUsageInstance().freeze(),u=n.getInternalMethods().reset(s),Object.keys(e.builder).forEach(h=>{u.option(h,d[h])}));return this.parseAndUpdateUsage(t,e,u,r,a,l)}parseAndUpdateUsage(t,e,n,s,r,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(s,e),e.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,r,a);return K(l)?l.then(f=>({aliases:n.parsed.aliases,innerArgv:f})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,e){let n=ne.test(e.original)?e.original.replace(ne,"").trim():e.original,s=t.filter(r=>!ne.test(r));return s.push(n),`$0 ${s.join(" ")}`}handleValidationAndGetResult(t,e,n,s,r,a,l,f){if(!a.getInternalMethods().getHasOutput()){let d=a.getInternalMethods().runValidation(r,f,a.parsed.error,t);n=Ht(n,u=>(d(u),u))}if(e.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let d=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,d,!1,!1),n=Ut(n,a,l,!1),n=Ht(n,u=>{let h=e.handler(u);return K(h)?h.then(()=>u):u}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),K(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(u=>{try{a.getInternalMethods().getUsageInstance().fail(null,u)}catch{}})}return t||(s.commands.pop(),s.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,e,n,s,r,a,l){let f={};if(r)return n;l.getInternalMethods().getHasOutput()||(f=this.populatePositionals(e,n,s,l));let d=this.globalMiddleware.getMiddleware().slice(0).concat(e.middlewares),u=Ut(n,l,d,!0);return K(u)?u.then(h=>this.handleValidationAndGetResult(t,e,h,s,a,l,d,f)):this.handleValidationAndGetResult(t,e,u,s,a,l,d,f)}populatePositionals(t,e,n,s){e._=e._.slice(n.commands.length);let r=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(r.length,e._.length);r.length;){let f=r.shift();this.populatePositional(f,e,l)}for(;a.length;){let f=a.shift();this.populatePositional(f,e,l)}return e._=n.commands.concat(e._.map(f=>""+f)),this.postProcessPositionals(e,l,this.cmdToParseOptions(t.original),s),l}populatePositional(t,e,n){let s=t.cmd[0];t.variadic?n[s]=e._.splice(0).map(String):e._.length&&(n[s]=[String(e._.shift())])}cmdToParseOptions(t){let e={array:[],default:{},alias:{},demand:{}},n=It(t);return n.demanded.forEach(s=>{let[r,...a]=s.cmd;s.variadic&&(e.array.push(r),e.default[r]=[]),e.alias[r]=a,e.demand[r]=!0}),n.optional.forEach(s=>{let[r,...a]=s.cmd;s.variadic&&(e.array.push(r),e.default[r]=[]),e.alias[r]=a}),e}postProcessPositionals(t,e,n,s){let r=Object.assign({},s.getOptions());r.default=Object.assign(n.default,r.default);for(let d of Object.keys(n.alias))r.alias[d]=(r.alias[d]||[]).concat(n.alias[d]);r.array=r.array.concat(n.array),r.config={};let a=[];if(Object.keys(e).forEach(d=>{e[d].map(u=>{r.configuration["unknown-options-as-args"]&&(r.key[d]=!0),a.push(`--${d}`),a.push(u)})}),!a.length)return;let l=Object.assign({},r.configuration,{"populate--":!1}),f=this.shim.Parser.detailed(a,Object.assign({},r,{configuration:l}));if(f.error)s.getInternalMethods().getUsageInstance().fail(f.error.message,f.error);else{let d=Object.keys(e);Object.keys(e).forEach(u=>{d.push(...f.aliases[u])}),Object.keys(f.argv).forEach(u=>{d.includes(u)&&(e[u]||(e[u]=f.argv[u]),!this.isInConfigs(s,u)&&!this.isDefaulted(s,u)&&Object.prototype.hasOwnProperty.call(t,u)&&Object.prototype.hasOwnProperty.call(f.argv,u)&&(Array.isArray(t[u])||Array.isArray(f.argv[u]))?t[u]=[].concat(t[u],f.argv[u]):t[u]=f.argv[u])})}}isDefaulted(t,e){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,e)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(e))}isInConfigs(t,e){let{configObjects:n}=t.getOptions();return n.some(s=>Object.prototype.hasOwnProperty.call(s,e))||n.some(s=>Object.prototype.hasOwnProperty.call(s,this.shim.Parser.camelCase(e)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=ne.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let e=this.defaultCommand.builder;if(ve(e))return e(t,!0);ni(e)||Object.keys(e).forEach(n=>{t.option(n,e[n])})}moduleName(t){let e=sn(t);if(!e)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(e.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:e,desc:n}){for(let s of[t,e,n]){if(typeof s=="string"||s===!1)return s;ht(s,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();ht(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function ii(i,t,e,n){return new rn(i,t,e,n)}function ni(i){return typeof i=="object"&&!!i.builder&&typeof i.handler=="function"}function Fs(i){return i.every(t=>typeof t=="string")}function ve(i){return typeof i=="function"}function Ws(i){return typeof i=="object"}function Ds(i){return typeof i=="object"&&!Array.isArray(i)}function Nt(i={},t=()=>!0){let e={};return ee(i).forEach(n=>{t(n,i[n])&&(e[n]=i[n])}),e}function Ft(i){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let e=t;e._handle&&e.isTTY&&typeof e._handle.setBlocking=="function"&&e._handle.setBlocking(i)})}function Ls(i){return typeof i=="boolean"}function oi(i,t){let e=t.y18n.__,n={},s=[];n.failFn=function(j){s.push(j)};let r=null,a=null,l=!0;n.showHelpOnFail=function(j=!0,A){let[N,B]=typeof j=="string"?[!0,j]:[j,A];return i.getInternalMethods().isGlobalContext()&&(a=B),r=B,l=N,n};let f=!1;n.fail=function(j,A){let N=i.getInternalMethods().getLoggerInstance();if(s.length)for(let B=s.length-1;B>=0;--B){let Q=s[B];if(Ls(Q)){if(A)throw A;if(j)throw Error(j)}else Q(j,A,n)}else{if(i.getExitProcess()&&Ft(!0),!f){f=!0,l&&(i.showHelp("error"),N.error()),(j||A)&&N.error(j||A);let B=r||a;B&&((j||A)&&N.error(""),N.error(B))}if(A=A||new V(j),i.getExitProcess())return i.exit(1);if(i.getInternalMethods().hasParseCallback())return i.exit(1,A);throw A}};let d=[],u=!1;n.usage=(E,j)=>E===null?(u=!0,d=[],n):(u=!1,d.push([E,j||""]),n),n.getUsage=()=>d,n.getUsageDisabled=()=>u,n.getPositionalGroupName=()=>e("Positionals:");let h=[];n.example=(E,j)=>{h.push([E,j||""])};let b=[];n.command=function(j,A,N,B,Q=!1){N&&(b=b.map(q=>(q[2]=!1,q))),b.push([j,A||"",N,B,Q])},n.getCommands=()=>b;let w={};n.describe=function(j,A){Array.isArray(j)?j.forEach(N=>{n.describe(N,A)}):typeof j=="object"?Object.keys(j).forEach(N=>{n.describe(N,j[N])}):w[j]=A},n.getDescriptions=()=>w;let _=[];n.epilog=E=>{_.push(E)};let O=!1,m;n.wrap=E=>{O=!0,m=E},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(O||(m=at(),O=!0),m);let x="__yargsString__:";n.deferY18nLookup=E=>x+E,n.help=function(){if(I)return I;D();let j=i.customScriptName?i.$0:t.path.basename(i.$0),A=i.getDemandedOptions(),N=i.getDemandedCommands(),B=i.getDeprecatedOptions(),Q=i.getGroups(),q=i.getOptions(),nt=[];nt=nt.concat(Object.keys(w)),nt=nt.concat(Object.keys(A)),nt=nt.concat(Object.keys(N)),nt=nt.concat(Object.keys(q.default)),nt=nt.filter(ct),nt=Object.keys(nt.reduce((L,J)=>(J!=="_"&&(L[J]=!0),L),{}));let jt=n.getWrap(),G=t.cliui({width:jt,wrap:!!jt});if(!u){if(d.length)d.forEach(L=>{G.div({text:`${L[0].replace(/\$0/g,j)}`}),L[1]&&G.div({text:`${L[1]}`,padding:[1,0,0,0]})}),G.div();else if(b.length){let L=null;N._?L=`${j} <${e("command")}>
`:L=`${j} [${e("command")}]
`,G.div(`${L}`)}}if(b.length>1||b.length===1&&!b[0][2]){G.div(e("Commands:"));let L=i.getInternalMethods().getContext(),J=L.commands.length?`${L.commands.join(" ")} `:"";i.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(b=b.sort((Y,k)=>Y[0].localeCompare(k[0])));let X=j?`${j} `:"";b.forEach(Y=>{let k=`${X}${J}${Y[0].replace(/^\$0 ?/,"")}`;G.span({text:k,padding:[0,2,0,2],width:v(b,jt,`${j}${J}`)+4},{text:Y[1]});let it=[];Y[2]&&it.push(`[${e("default")}]`),Y[3]&&Y[3].length&&it.push(`[${e("aliases:")} ${Y[3].join(", ")}]`),Y[4]&&(typeof Y[4]=="string"?it.push(`[${e("deprecated: %s",Y[4])}]`):it.push(`[${e("deprecated")}]`)),it.length?G.div({text:it.join(" "),padding:[0,0,0,2],align:"right"}):G.div()}),G.div()}let wt=(Object.keys(q.alias)||[]).concat(Object.keys(i.parsed.newAliases)||[]);nt=nt.filter(L=>!i.parsed.newAliases[L]&&wt.every(J=>(q.alias[J]||[]).indexOf(L)===-1));let ut=e("Options:");Q[ut]||(Q[ut]=[]),U(nt,q.alias,Q,ut);let zt=L=>/^--/.test(Se(L)),R=Object.keys(Q).filter(L=>Q[L].length>0).map(L=>{let J=Q[L].filter(ct).map(X=>{if(wt.includes(X))return X;for(let Y=0,k;(k=wt[Y])!==void 0;Y++)if((q.alias[k]||[]).includes(X))return k;return X});return{groupName:L,normalizedKeys:J}}).filter(({normalizedKeys:L})=>L.length>0).map(({groupName:L,normalizedKeys:J})=>{let X=J.reduce((Y,k)=>(Y[k]=[k].concat(q.alias[k]||[]).map(it=>L===n.getPositionalGroupName()?it:(/^[0-9]$/.test(it)?q.boolean.includes(k)?"-":"--":it.length>1?"--":"-")+it).sort((it,Et)=>zt(it)===zt(Et)?0:zt(it)?1:-1).join(", "),Y),{});return{groupName:L,normalizedKeys:J,switches:X}});if(R.filter(({groupName:L})=>L!==n.getPositionalGroupName()).some(({normalizedKeys:L,switches:J})=>!L.every(X=>zt(J[X])))&&R.filter(({groupName:L})=>L!==n.getPositionalGroupName()).forEach(({normalizedKeys:L,switches:J})=>{L.forEach(X=>{zt(J[X])&&(J[X]=Rs(J[X],4))})}),R.forEach(({groupName:L,normalizedKeys:J,switches:X})=>{G.div(L),J.forEach(Y=>{let k=X[Y],it=w[Y]||"",Et=null;it.includes(x)&&(it=e(it.substring(x.length))),q.boolean.includes(Y)&&(Et=`[${e("boolean")}]`),q.count.includes(Y)&&(Et=`[${e("count")}]`),q.string.includes(Y)&&(Et=`[${e("string")}]`),q.normalize.includes(Y)&&(Et=`[${e("string")}]`),q.array.includes(Y)&&(Et=`[${e("array")}]`),q.number.includes(Y)&&(Et=`[${e("number")}]`);let At=g=>typeof g=="string"?`[${e("deprecated: %s",g)}]`:`[${e("deprecated")}]`,be=[Y in B?At(B[Y]):null,Et,Y in A?`[${e("required")}]`:null,q.choices&&q.choices[Y]?`[${e("choices:")} ${n.stringifiedValues(q.choices[Y])}]`:null,Z(q.default[Y],q.defaultDescription[Y])].filter(Boolean).join(" ");G.span({text:Se(k),padding:[0,2,0,2+ri(k)],width:v(X,jt)+4},it);let c=i.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;be&&!c?G.div({text:be,padding:[0,0,0,2],align:"right"}):G.div()}),G.div()}),h.length&&(G.div(e("Examples:")),h.forEach(L=>{L[0]=L[0].replace(/\$0/g,j)}),h.forEach(L=>{L[1]===""?G.div({text:L[0],padding:[0,2,0,2]}):G.div({text:L[0],padding:[0,2,0,2],width:v(h,jt)+4},{text:L[1]})}),G.div()),_.length>0){let L=_.map(J=>J.replace(/\$0/g,j)).join(`
`);G.div(`${L}
`)}return G.toString().replace(/\s*$/,"")};function v(E,j,A){let N=0;return Array.isArray(E)||(E=Object.values(E).map(B=>[B])),E.forEach(B=>{N=Math.max(t.stringWidth(A?`${A} ${Se(B[0])}`:Se(B[0]))+ri(B[0]),N)}),j&&(N=Math.min(N,parseInt((j*.5).toString(),10))),N}function D(){let E=i.getDemandedOptions(),j=i.getOptions();(Object.keys(j.alias)||[]).forEach(A=>{j.alias[A].forEach(N=>{w[N]&&n.describe(A,w[N]),N in E&&i.demandOption(A,E[N]),j.boolean.includes(N)&&i.boolean(A),j.count.includes(N)&&i.count(A),j.string.includes(N)&&i.string(A),j.normalize.includes(N)&&i.normalize(A),j.array.includes(N)&&i.array(A),j.number.includes(N)&&i.number(A)})})}let I;n.cacheHelpMessage=function(){I=this.help()},n.clearCachedHelpMessage=function(){I=void 0},n.hasCachedHelpMessage=function(){return!!I};function U(E,j,A,N){let B=[],Q=null;return Object.keys(A).forEach(q=>{B=B.concat(A[q])}),E.forEach(q=>{Q=[q].concat(j[q]),Q.some(nt=>B.indexOf(nt)!==-1)||A[N].push(q)}),B}function ct(E){return i.getOptions().hiddenOptions.indexOf(E)<0||i.parsed.argv[i.getOptions().showHiddenOpt]}n.showHelp=E=>{let j=i.getInternalMethods().getLoggerInstance();E||(E="error"),(typeof E=="function"?E:j[E])(n.help())},n.functionDescription=E=>["(",E.name?t.Parser.decamelize(E.name,"-"):e("generated-value"),")"].join(""),n.stringifiedValues=function(j,A){let N="",B=A||", ",Q=[].concat(j);return!j||!Q.length||Q.forEach(q=>{N.length&&(N+=B),N+=JSON.stringify(q)}),N};function Z(E,j){let A=`[${e("default:")} `;if(E===void 0&&!j)return null;if(j)A+=j;else switch(typeof E){case"string":A+=`"${E}"`;break;case"object":A+=JSON.stringify(E);break;default:A+=E}return`${A}]`}function at(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let et=null;n.version=E=>{et=E},n.showVersion=E=>{let j=i.getInternalMethods().getLoggerInstance();E||(E="error"),(typeof E=="function"?E:j[E])(et)},n.reset=function(j){return r=null,f=!1,d=[],u=!1,_=[],h=[],b=[],w=Nt(w,A=>!j[A]),n};let H=[];return n.freeze=function(){H.push({failMessage:r,failureOutput:f,usages:d,usageDisabled:u,epilogs:_,examples:h,commands:b,descriptions:w})},n.unfreeze=function(j=!1){let A=H.pop();A&&(j?(w={...A.descriptions,...w},b=[...A.commands,...b],d=[...A.usages,...d],h=[...A.examples,...h],_=[...A.epilogs,..._]):{failMessage:r,failureOutput:f,usages:d,usageDisabled:u,epilogs:_,examples:h,commands:b,descriptions:w}=A)},n}function on(i){return typeof i=="object"}function Rs(i,t){return on(i)?{text:i.text,indentation:i.indentation+t}:{text:i,indentation:t}}function ri(i){return on(i)?i.indentation:0}function Se(i){return on(i)?i.text:i}var ai=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,li=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var an=class{constructor(t,e,n,s){var r,a,l;this.yargs=t,this.usage=e,this.command=n,this.shim=s,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((r=this.shim.getEnv("SHELL"))===null||r===void 0?void 0:r.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,e,n,s){let r=this.command.getCommandHandlers();for(let l=0,f=t.length;l<f;++l)if(r[t[l]]&&r[t[l]].builder){let d=r[t[l]].builder;if(ve(d)){this.indexAfterLastReset=l+1;let u=this.yargs.getInternalMethods().reset();return d(u,!0),u.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,e,n),this.choicesFromOptionsCompletions(a,t,e,n),this.choicesFromPositionalsCompletions(a,t,e,n),s(null,a)}commandCompletions(t,e,n){let s=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&s[s.length-1]!==n&&!this.previousArgHasChoices(e)&&this.usage.getCommands().forEach(r=>{let a=It(r[0]).cmd;if(e.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=r[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,e,n,s){if((s.match(/^-/)||s===""&&t.length===0)&&!this.previousArgHasChoices(e)){let r=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(r.key).forEach(l=>{let f=!!r.configuration["boolean-negation"]&&r.boolean.includes(l);!a.includes(l)&&!r.hiddenOptions.includes(l)&&!this.argsContainKey(e,l,f)&&this.completeOptionKey(l,t,s,f&&!!r.default[l])})}}choicesFromOptionsCompletions(t,e,n,s){if(this.previousArgHasChoices(e)){let r=this.getPreviousArgChoices(e);r&&r.length>0&&t.push(...r.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,e,n,s){if(s===""&&t.length>0&&this.previousArgHasChoices(e))return;let r=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=r[n._.length-a-1];if(!l)return;let f=this.yargs.getOptions().choices[l]||[];for(let d of f)d.startsWith(s)&&t.push(d.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let e=t[t.length-1],n="";if(!e.startsWith("-")&&t.length>1&&(n=e,e=t[t.length-2]),!e.startsWith("-"))return;let s=e.replace(/^-+/,""),r=this.yargs.getOptions(),a=[s,...this.yargs.getAliases()[s]||[]],l;for(let f of a)if(Object.prototype.hasOwnProperty.call(r.key,f)&&Array.isArray(r.choices[f])){l=r.choices[f];break}if(l)return l.filter(f=>!n||f.startsWith(n))}previousArgHasChoices(t){let e=this.getPreviousArgChoices(t);return e!==void 0&&e.length>0}argsContainKey(t,e,n){let s=r=>t.indexOf((/^[^0-9]$/.test(r)?"-":"--")+r)!==-1;if(s(e)||n&&s(`no-${e}`))return!0;if(this.aliases){for(let r of this.aliases[e])if(s(r))return!0}return!1}completeOptionKey(t,e,n,s){var r,a,l,f;let d=t;if(this.zshShell){let w=this.usage.getDescriptions(),_=(a=(r=this===null||this===void 0?void 0:this.aliases)===null||r===void 0?void 0:r[t])===null||a===void 0?void 0:a.find(x=>{let v=w[x];return typeof v=="string"&&v.length>0}),O=_?w[_]:void 0,m=(f=(l=w[t])!==null&&l!==void 0?l:O)!==null&&f!==void 0?f:"";d=`${t.replace(/:/g,"\\:")}:${m.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let u=w=>/^--/.test(w),h=w=>/^[^0-9]$/.test(w),b=!u(n)&&h(t)?"-":"--";e.push(b+d),s&&e.push(b+"no-"+d)}customCompletion(t,e,n,s){if(ht(this.customCompletionFunction,null,this.shim),Ts(this.customCompletionFunction)){let r=this.customCompletionFunction(n,e);return K(r)?r.then(a=>{this.shim.process.nextTick(()=>{s(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{s(a,void 0)})}):s(null,r)}else return Us(this.customCompletionFunction)?this.customCompletionFunction(n,e,(r=s)=>this.defaultCompletion(t,e,n,r),r=>{s(null,r)}):this.customCompletionFunction(n,e,r=>{s(null,r)})}getCompletion(t,e){let n=t.length?t[t.length-1]:"",s=this.yargs.parse(t,!0),r=this.customCompletionFunction?a=>this.customCompletion(t,a,n,e):a=>this.defaultCompletion(t,a,n,e);return K(s)?s.then(r):r(s)}generateCompletionScript(t,e){let n=this.zshShell?li:ai,s=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,s),n=n.replace(/{{completion_command}}/g,e),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function ci(i,t,e,n){return new an(i,t,e,n)}function Ts(i){return i.length<3}function Us(i){return i.length>3}function fi(i,t){if(i.length===0)return t.length;if(t.length===0)return i.length;let e=[],n;for(n=0;n<=t.length;n++)e[n]=[n];let s;for(s=0;s<=i.length;s++)e[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=i.length;s++)t.charAt(n-1)===i.charAt(s-1)?e[n][s]=e[n-1][s-1]:n>1&&s>1&&t.charAt(n-2)===i.charAt(s-1)&&t.charAt(n-1)===i.charAt(s-2)?e[n][s]=e[n-2][s-2]+1:e[n][s]=Math.min(e[n-1][s-1]+1,Math.min(e[n][s-1]+1,e[n-1][s]+1));return e[t.length][i.length]}var hi=["$0","--","_"];function ui(i,t,e){let n=e.y18n.__,s=e.y18n.__n,r={};r.nonOptionCount=function(h){let b=i.getDemandedCommands(),_=h._.length+(h["--"]?h["--"].length:0)-i.getInternalMethods().getContext().commands.length;b._&&(_<b._.min||_>b._.max)&&(_<b._.min?b._.minMsg!==void 0?t.fail(b._.minMsg?b._.minMsg.replace(/\$0/g,_.toString()).replace(/\$1/,b._.min.toString()):null):t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",_,_.toString(),b._.min.toString())):_>b._.max&&(b._.maxMsg!==void 0?t.fail(b._.maxMsg?b._.maxMsg.replace(/\$0/g,_.toString()).replace(/\$1/,b._.max.toString()):null):t.fail(s("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",_,_.toString(),b._.max.toString()))))},r.positionalCount=function(h,b){b<h&&t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",b,b+"",h+""))},r.requiredArguments=function(h,b){let w=null;for(let _ of Object.keys(b))(!Object.prototype.hasOwnProperty.call(h,_)||typeof h[_]>"u")&&(w=w||{},w[_]=b[_]);if(w){let _=[];for(let m of Object.keys(w)){let x=w[m];x&&_.indexOf(x)<0&&_.push(x)}let O=_.length?`
${_.join(`
`)}`:"";t.fail(s("Missing required argument: %s","Missing required arguments: %s",Object.keys(w).length,Object.keys(w).join(", ")+O))}},r.unknownArguments=function(h,b,w,_,O=!0){var m;let x=i.getInternalMethods().getCommandInstance().getCommands(),v=[],D=i.getInternalMethods().getContext();if(Object.keys(h).forEach(I=>{!hi.includes(I)&&!Object.prototype.hasOwnProperty.call(w,I)&&!Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),I)&&!r.isValidAndSomeAliasIsNotNew(I,b)&&v.push(I)}),O&&(D.commands.length>0||x.length>0||_)&&h._.slice(D.commands.length).forEach(I=>{x.includes(""+I)||v.push(""+I)}),O){let U=((m=i.getDemandedCommands()._)===null||m===void 0?void 0:m.max)||0,ct=D.commands.length+U;ct<h._.length&&h._.slice(ct).forEach(Z=>{Z=String(Z),!D.commands.includes(Z)&&!v.includes(Z)&&v.push(Z)})}v.length&&t.fail(s("Unknown argument: %s","Unknown arguments: %s",v.length,v.map(I=>I.trim()?I:`"${I}"`).join(", ")))},r.unknownCommands=function(h){let b=i.getInternalMethods().getCommandInstance().getCommands(),w=[],_=i.getInternalMethods().getContext();return(_.commands.length>0||b.length>0)&&h._.slice(_.commands.length).forEach(O=>{b.includes(""+O)||w.push(""+O)}),w.length>0?(t.fail(s("Unknown command: %s","Unknown commands: %s",w.length,w.join(", "))),!0):!1},r.isValidAndSomeAliasIsNotNew=function(h,b){if(!Object.prototype.hasOwnProperty.call(b,h))return!1;let w=i.parsed.newAliases;return[h,...b[h]].some(_=>!Object.prototype.hasOwnProperty.call(w,_)||!w[h])},r.limitedChoices=function(h){let b=i.getOptions(),w={};if(!Object.keys(b.choices).length)return;Object.keys(h).forEach(m=>{hi.indexOf(m)===-1&&Object.prototype.hasOwnProperty.call(b.choices,m)&&[].concat(h[m]).forEach(x=>{b.choices[m].indexOf(x)===-1&&x!==void 0&&(w[m]=(w[m]||[]).concat(x))})});let _=Object.keys(w);if(!_.length)return;let O=n("Invalid values:");_.forEach(m=>{O+=`
  ${n("Argument: %s, Given: %s, Choices: %s",m,t.stringifiedValues(w[m]),t.stringifiedValues(b.choices[m]))}`}),t.fail(O)};let a={};r.implies=function(h,b){P("<string|object> [array|number|string]",[h,b],arguments.length),typeof h=="object"?Object.keys(h).forEach(w=>{r.implies(w,h[w])}):(i.global(h),a[h]||(a[h]=[]),Array.isArray(b)?b.forEach(w=>r.implies(h,w)):(ht(b,void 0,e),a[h].push(b)))},r.getImplied=function(){return a};function l(u,h){let b=Number(h);return h=isNaN(b)?h:b,typeof h=="number"?h=u._.length>=h:h.match(/^--no-.+/)?(h=h.match(/^--no-(.+)/)[1],h=!Object.prototype.hasOwnProperty.call(u,h)):h=Object.prototype.hasOwnProperty.call(u,h),h}r.implications=function(h){let b=[];if(Object.keys(a).forEach(w=>{let _=w;(a[w]||[]).forEach(O=>{let m=_,x=O;m=l(h,m),O=l(h,O),m&&!O&&b.push(` ${_} -> ${x}`)})}),b.length){let w=`${n("Implications failed:")}
`;b.forEach(_=>{w+=_}),t.fail(w)}};let f={};r.conflicts=function(h,b){P("<string|object> [array|string]",[h,b],arguments.length),typeof h=="object"?Object.keys(h).forEach(w=>{r.conflicts(w,h[w])}):(i.global(h),f[h]||(f[h]=[]),Array.isArray(b)?b.forEach(w=>r.conflicts(h,w)):f[h].push(b))},r.getConflicting=()=>f,r.conflicting=function(h){Object.keys(h).forEach(b=>{f[b]&&f[b].forEach(w=>{w&&h[b]!==void 0&&h[w]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",b,w))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(f).forEach(b=>{f[b].forEach(w=>{w&&h[e.Parser.camelCase(b)]!==void 0&&h[e.Parser.camelCase(w)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",b,w))})})},r.recommendCommands=function(h,b){b=b.sort((m,x)=>x.length-m.length);let _=null,O=1/0;for(let m=0,x;(x=b[m])!==void 0;m++){let v=fi(h,x);v<=3&&v<O&&(O=v,_=x)}_&&t.fail(n("Did you mean %s?",_))},r.reset=function(h){return a=Nt(a,b=>!h[b]),f=Nt(f,b=>!h[b]),r};let d=[];return r.freeze=function(){d.push({implied:a,conflicting:f})},r.unfreeze=function(){let h=d.pop();ht(h,void 0,e),{implied:a,conflicting:f}=h},r}var ln=[],he;function ue(i,t,e,n){he=n;let s={};if(Object.prototype.hasOwnProperty.call(i,"extends")){if(typeof i.extends!="string")return s;let r=/\.json|\..*rc$/.test(i.extends),a=null;if(r)a=Bs(t,i.extends);else try{a=require.resolve(i.extends)}catch{return i}Hs(a),ln.push(a),s=r?JSON.parse(he.readFileSync(a,"utf8")):require(i.extends),delete i.extends,s=ue(s,he.path.dirname(a),e,he)}return ln=[],e?di(s,i):Object.assign({},s,i)}function Hs(i){if(ln.indexOf(i)>-1)throw new V(`Circular extended configurations: '${i}'.`)}function Bs(i,t){return he.path.resolve(i,t)}function di(i,t){let e={};function n(s){return s&&typeof s=="object"&&!Array.isArray(s)}Object.assign(e,i);for(let s of Object.keys(t))n(t[s])&&n(e[s])?e[s]=di(i[s],t[s]):e[s]=t[s];return e}var M=function(i,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?i!==t||!s:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(i,e):s?s.value=e:t.set(i,e),e},o=function(i,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?i!==t||!n:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(i):n?n.value:t.get(i)},st,Bt,de,Ot,pt,Pe,Wt,Yt,Me,_t,$e,Ct,Pt,mt,xt,Ie,ie,ot,F,Ne,Fe,gt,qt,se,Gt,Dt,We,z,Vt,Kt,Jt,T,De,Mt,tt;function Ni(i){return(t=[],e=i.process.cwd(),n)=>{let s=new yn(t,e,n,i);return Object.defineProperty(s,"argv",{get:()=>s.parse(),enumerable:!0}),s.help(),s.version(),s}}var pi=Symbol("copyDoubleDash"),mi=Symbol("copyDoubleDash"),cn=Symbol("deleteFromParserHintObject"),gi=Symbol("emitWarning"),bi=Symbol("freeze"),wi=Symbol("getDollarZero"),Zt=Symbol("getParserConfiguration"),yi=Symbol("getUsageConfiguration"),fn=Symbol("guessLocale"),Oi=Symbol("guessVersion"),_i=Symbol("parsePositionalNumbers"),hn=Symbol("pkgUp"),Lt=Symbol("populateParserHintArray"),re=Symbol("populateParserHintSingleValueDictionary"),un=Symbol("populateParserHintArrayDictionary"),dn=Symbol("populateParserHintDictionary"),pn=Symbol("sanitizeKey"),mn=Symbol("setKey"),gn=Symbol("unfreeze"),Ci=Symbol("validateAsync"),xi=Symbol("getCommandInstance"),ji=Symbol("getContext"),Ei=Symbol("getHasOutput"),Ai=Symbol("getLoggerInstance"),vi=Symbol("getParseContext"),Si=Symbol("getUsageInstance"),Pi=Symbol("getValidationInstance"),Le=Symbol("hasParseCallback"),Mi=Symbol("isGlobalContext"),Qt=Symbol("postProcess"),$i=Symbol("rebase"),bn=Symbol("reset"),pe=Symbol("runYargsParserAndExecuteCommands"),wn=Symbol("runValidation"),Ii=Symbol("setHasOutput"),Xt=Symbol("kTrackManuallySetKeys"),yn=class{constructor(t=[],e,n,s){this.customScriptName=!1,this.parsed=!1,st.set(this,void 0),Bt.set(this,void 0),de.set(this,{commands:[],fullCommands:[]}),Ot.set(this,null),pt.set(this,null),Pe.set(this,"show-hidden"),Wt.set(this,null),Yt.set(this,!0),Me.set(this,{}),_t.set(this,!0),$e.set(this,[]),Ct.set(this,void 0),Pt.set(this,{}),mt.set(this,!1),xt.set(this,null),Ie.set(this,!0),ie.set(this,void 0),ot.set(this,""),F.set(this,void 0),Ne.set(this,void 0),Fe.set(this,{}),gt.set(this,null),qt.set(this,null),se.set(this,{}),Gt.set(this,{}),Dt.set(this,void 0),We.set(this,!1),z.set(this,void 0),Vt.set(this,!1),Kt.set(this,!1),Jt.set(this,!1),T.set(this,void 0),De.set(this,{}),Mt.set(this,null),tt.set(this,void 0),M(this,z,s,"f"),M(this,Dt,t,"f"),M(this,Bt,e,"f"),M(this,Ne,n,"f"),M(this,Ct,new Ae(this),"f"),this.$0=this[wi](),this[bn](),M(this,st,o(this,st,"f"),"f"),M(this,T,o(this,T,"f"),"f"),M(this,tt,o(this,tt,"f"),"f"),M(this,F,o(this,F,"f"),"f"),o(this,F,"f").showHiddenOpt=o(this,Pe,"f"),M(this,ie,this[mi](),"f")}addHelpOpt(t,e){let n="help";return P("[string|boolean] [string]",[t,e],arguments.length),o(this,xt,"f")&&(this[cn](o(this,xt,"f")),M(this,xt,null,"f")),t===!1&&e===void 0?this:(M(this,xt,typeof t=="string"?t:n,"f"),this.boolean(o(this,xt,"f")),this.describe(o(this,xt,"f"),e||o(this,T,"f").deferY18nLookup("Show help")),this)}help(t,e){return this.addHelpOpt(t,e)}addShowHiddenOpt(t,e){if(P("[string|boolean] [string]",[t,e],arguments.length),t===!1&&e===void 0)return this;let n=typeof t=="string"?t:o(this,Pe,"f");return this.boolean(n),this.describe(n,e||o(this,T,"f").deferY18nLookup("Show hidden options")),o(this,F,"f").showHiddenOpt=n,this}showHidden(t,e){return this.addShowHiddenOpt(t,e)}alias(t,e){return P("<object|string|array> [string|array]",[t,e],arguments.length),this[un](this.alias.bind(this),"alias",t,e),this}array(t){return P("<array|string>",[t],arguments.length),this[Lt]("array",t),this[Xt](t),this}boolean(t){return P("<array|string>",[t],arguments.length),this[Lt]("boolean",t),this[Xt](t),this}check(t,e){return P("<function> [boolean]",[t,e],arguments.length),this.middleware((n,s)=>Ht(()=>t(n,s.getOptions()),r=>(r?(typeof r=="string"||r instanceof Error)&&o(this,T,"f").fail(r.toString(),r):o(this,T,"f").fail(o(this,z,"f").y18n.__("Argument check failed: %s",t.toString())),n),r=>(o(this,T,"f").fail(r.message?r.message:r.toString(),r),n)),!1,e),this}choices(t,e){return P("<object|string|array> [string|array]",[t,e],arguments.length),this[un](this.choices.bind(this),"choices",t,e),this}coerce(t,e){if(P("<object|string|array> [function]",[t,e],arguments.length),Array.isArray(t)){if(!e)throw new V("coerce callback must be provided");for(let n of t)this.coerce(n,e);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!e)throw new V("coerce callback must be provided");return o(this,F,"f").key[t]=!0,o(this,Ct,"f").addCoerceMiddleware((n,s)=>{let r;return Object.prototype.hasOwnProperty.call(n,t)?Ht(()=>(r=s.getAliases(),e(n[t])),l=>{n[t]=l;let f=s.getInternalMethods().getParserConfiguration()["strip-aliased"];if(r[t]&&f!==!0)for(let d of r[t])n[d]=l;return n},l=>{throw new V(l.message)}):n},t),this}conflicts(t,e){return P("<string|object> [string|array]",[t,e],arguments.length),o(this,tt,"f").conflicts(t,e),this}config(t="config",e,n){return P("[object|string] [string|function] [function]",[t,e,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=ue(t,o(this,Bt,"f"),this[Zt]()["deep-merge-config"]||!1,o(this,z,"f")),o(this,F,"f").configObjects=(o(this,F,"f").configObjects||[]).concat(t),this):(typeof e=="function"&&(n=e,e=void 0),this.describe(t,e||o(this,T,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(s=>{o(this,F,"f").config[s]=n||!0}),this)}completion(t,e,n){return P("[string] [string|boolean|function] [function]",[t,e,n],arguments.length),typeof e=="function"&&(n=e,e=void 0),M(this,pt,t||o(this,pt,"f")||"completion","f"),!e&&e!==!1&&(e="generate completion script"),this.command(o(this,pt,"f"),e),n&&o(this,Ot,"f").registerFunction(n),this}command(t,e,n,s,r,a){return P("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,e,n,s,r,a],arguments.length),o(this,st,"f").addHandler(t,e,n,s,r,a),this}commands(t,e,n,s,r,a){return this.command(t,e,n,s,r,a)}commandDir(t,e){P("<string> [object]",[t,e],arguments.length);let n=o(this,Ne,"f")||o(this,z,"f").require;return o(this,st,"f").addDirectory(t,n,o(this,z,"f").getCallerFile(),e),this}count(t){return P("<array|string>",[t],arguments.length),this[Lt]("count",t),this[Xt](t),this}default(t,e,n){return P("<object|string|array> [*] [string]",[t,e,n],arguments.length),n&&(nn(t,o(this,z,"f")),o(this,F,"f").defaultDescription[t]=n),typeof e=="function"&&(nn(t,o(this,z,"f")),o(this,F,"f").defaultDescription[t]||(o(this,F,"f").defaultDescription[t]=o(this,T,"f").functionDescription(e)),e=e.call()),this[re](this.default.bind(this),"default",t,e),this}defaults(t,e,n){return this.default(t,e,n)}demandCommand(t=1,e,n,s){return P("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,e,n,s],arguments.length),typeof e!="number"&&(n=e,e=1/0),this.global("_",!1),o(this,F,"f").demandedCommands._={min:t,max:e,minMsg:n,maxMsg:s},this}demand(t,e,n){return Array.isArray(e)?(e.forEach(s=>{ht(n,!0,o(this,z,"f")),this.demandOption(s,n)}),e=1/0):typeof e!="number"&&(n=e,e=1/0),typeof t=="number"?(ht(n,!0,o(this,z,"f")),this.demandCommand(t,e,n,n)):Array.isArray(t)?t.forEach(s=>{ht(n,!0,o(this,z,"f")),this.demandOption(s,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,e){return P("<object|string|array> [string]",[t,e],arguments.length),this[re](this.demandOption.bind(this),"demandedOptions",t,e),this}deprecateOption(t,e){return P("<string> [string|boolean]",[t,e],arguments.length),o(this,F,"f").deprecatedOptions[t]=e,this}describe(t,e){return P("<object|string|array> [string]",[t,e],arguments.length),this[mn](t,!0),o(this,T,"f").describe(t,e),this}detectLocale(t){return P("<boolean>",[t],arguments.length),M(this,Yt,t,"f"),this}env(t){return P("[string|boolean]",[t],arguments.length),t===!1?delete o(this,F,"f").envPrefix:o(this,F,"f").envPrefix=t||"",this}epilogue(t){return P("<string>",[t],arguments.length),o(this,T,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,e){return P("<string|array> [string]",[t,e],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):o(this,T,"f").example(t,e),this}exit(t,e){M(this,mt,!0,"f"),M(this,Wt,e,"f"),o(this,_t,"f")&&o(this,z,"f").process.exit(t)}exitProcess(t=!0){return P("[boolean]",[t],arguments.length),M(this,_t,t,"f"),this}fail(t){if(P("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new V("Invalid first argument. Expected function or boolean 'false'");return o(this,T,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,e){return P("<array> [function]",[t,e],arguments.length),e?o(this,Ot,"f").getCompletion(t,e):new Promise((n,s)=>{o(this,Ot,"f").getCompletion(t,(r,a)=>{r?s(r):n(a)})})}getDemandedOptions(){return P([],0),o(this,F,"f").demandedOptions}getDemandedCommands(){return P([],0),o(this,F,"f").demandedCommands}getDeprecatedOptions(){return P([],0),o(this,F,"f").deprecatedOptions}getDetectLocale(){return o(this,Yt,"f")}getExitProcess(){return o(this,_t,"f")}getGroups(){return Object.assign({},o(this,Pt,"f"),o(this,Gt,"f"))}getHelp(){if(M(this,mt,!0,"f"),!o(this,T,"f").hasCachedHelpMessage()){if(!this.parsed){let e=this[pe](o(this,Dt,"f"),void 0,void 0,0,!0);if(K(e))return e.then(()=>o(this,T,"f").help())}let t=o(this,st,"f").runDefaultBuilderOn(this);if(K(t))return t.then(()=>o(this,T,"f").help())}return Promise.resolve(o(this,T,"f").help())}getOptions(){return o(this,F,"f")}getStrict(){return o(this,Vt,"f")}getStrictCommands(){return o(this,Kt,"f")}getStrictOptions(){return o(this,Jt,"f")}global(t,e){return P("<string|array> [boolean]",[t,e],arguments.length),t=[].concat(t),e!==!1?o(this,F,"f").local=o(this,F,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{o(this,F,"f").local.includes(n)||o(this,F,"f").local.push(n)}),this}group(t,e){P("<string|array> <string>",[t,e],arguments.length);let n=o(this,Gt,"f")[e]||o(this,Pt,"f")[e];o(this,Gt,"f")[e]&&delete o(this,Gt,"f")[e];let s={};return o(this,Pt,"f")[e]=(n||[]).concat(t).filter(r=>s[r]?!1:s[r]=!0),this}hide(t){return P("<string>",[t],arguments.length),o(this,F,"f").hiddenOptions.push(t),this}implies(t,e){return P("<string|object> [number|string|array]",[t,e],arguments.length),o(this,tt,"f").implies(t,e),this}locale(t){return P("[string]",[t],arguments.length),t===void 0?(this[fn](),o(this,z,"f").y18n.getLocale()):(M(this,Yt,!1,"f"),o(this,z,"f").y18n.setLocale(t),this)}middleware(t,e,n){return o(this,Ct,"f").addMiddleware(t,!!e,n)}nargs(t,e){return P("<string|object|array> [number]",[t,e],arguments.length),this[re](this.nargs.bind(this),"narg",t,e),this}normalize(t){return P("<array|string>",[t],arguments.length),this[Lt]("normalize",t),this}number(t){return P("<array|string>",[t],arguments.length),this[Lt]("number",t),this[Xt](t),this}option(t,e){if(P("<string|object> [object]",[t,e],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof e!="object"&&(e={}),this[Xt](t),o(this,Mt,"f")&&(t==="version"||e?.alias==="version")&&this[gi](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),o(this,F,"f").key[t]=!0,e.alias&&this.alias(t,e.alias);let n=e.deprecate||e.deprecated;n&&this.deprecateOption(t,n);let s=e.demand||e.required||e.require;s&&this.demand(t,s),e.demandOption&&this.demandOption(t,typeof e.demandOption=="string"?e.demandOption:void 0),e.conflicts&&this.conflicts(t,e.conflicts),"default"in e&&this.default(t,e.default),e.implies!==void 0&&this.implies(t,e.implies),e.nargs!==void 0&&this.nargs(t,e.nargs),e.config&&this.config(t,e.configParser),e.normalize&&this.normalize(t),e.choices&&this.choices(t,e.choices),e.coerce&&this.coerce(t,e.coerce),e.group&&this.group(t,e.group),(e.boolean||e.type==="boolean")&&(this.boolean(t),e.alias&&this.boolean(e.alias)),(e.array||e.type==="array")&&(this.array(t),e.alias&&this.array(e.alias)),(e.number||e.type==="number")&&(this.number(t),e.alias&&this.number(e.alias)),(e.string||e.type==="string")&&(this.string(t),e.alias&&this.string(e.alias)),(e.count||e.type==="count")&&this.count(t),typeof e.global=="boolean"&&this.global(t,e.global),e.defaultDescription&&(o(this,F,"f").defaultDescription[t]=e.defaultDescription),e.skipValidation&&this.skipValidation(t);let r=e.describe||e.description||e.desc,a=o(this,T,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof r=="string")&&this.describe(t,r),e.hidden&&this.hide(t),e.requiresArg&&this.requiresArg(t)}return this}options(t,e){return this.option(t,e)}parse(t,e,n){P("[string|array] [function|boolean|object] [function]",[t,e,n],arguments.length),this[bi](),typeof t>"u"&&(t=o(this,Dt,"f")),typeof e=="object"&&(M(this,qt,e,"f"),e=n),typeof e=="function"&&(M(this,gt,e,"f"),e=!1),e||M(this,Dt,t,"f"),o(this,gt,"f")&&M(this,_t,!1,"f");let s=this[pe](t,!!e),r=this.parsed;return o(this,Ot,"f").setParsed(this.parsed),K(s)?s.then(a=>(o(this,gt,"f")&&o(this,gt,"f").call(this,o(this,Wt,"f"),a,o(this,ot,"f")),a)).catch(a=>{throw o(this,gt,"f")&&o(this,gt,"f")(a,this.parsed.argv,o(this,ot,"f")),a}).finally(()=>{this[gn](),this.parsed=r}):(o(this,gt,"f")&&o(this,gt,"f").call(this,o(this,Wt,"f"),s,o(this,ot,"f")),this[gn](),this.parsed=r,s)}parseAsync(t,e,n){let s=this.parse(t,e,n);return K(s)?s:Promise.resolve(s)}parseSync(t,e,n){let s=this.parse(t,e,n);if(K(s))throw new V(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return s}parserConfiguration(t){return P("<object>",[t],arguments.length),M(this,Fe,t,"f"),this}pkgConf(t,e){P("<string> [string]",[t,e],arguments.length);let n=null,s=this[hn](e||o(this,Bt,"f"));return s[t]&&typeof s[t]=="object"&&(n=ue(s[t],e||o(this,Bt,"f"),this[Zt]()["deep-merge-config"]||!1,o(this,z,"f")),o(this,F,"f").configObjects=(o(this,F,"f").configObjects||[]).concat(n)),this}positional(t,e){P("<string> <object>",[t,e],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];e=Nt(e,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let s=o(this,de,"f").fullCommands[o(this,de,"f").fullCommands.length-1],r=s?o(this,st,"f").cmdToParseOptions(s):{array:[],alias:{},default:{},demand:{}};return ee(r).forEach(a=>{let l=r[a];Array.isArray(l)?l.indexOf(t)!==-1&&(e[a]=!0):l[t]&&!(a in e)&&(e[a]=l[t])}),this.group(t,o(this,T,"f").getPositionalGroupName()),this.option(t,e)}recommendCommands(t=!0){return P("[boolean]",[t],arguments.length),M(this,We,t,"f"),this}required(t,e,n){return this.demand(t,e,n)}require(t,e,n){return this.demand(t,e,n)}requiresArg(t){return P("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&o(this,F,"f").narg[t]?this:(this[re](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,e){return P("[string] [string]",[t,e],arguments.length),t=t||this.$0,o(this,ie,"f").log(o(this,Ot,"f").generateCompletionScript(t,e||o(this,pt,"f")||"completion")),this}showHelp(t){if(P("[string|function]",[t],arguments.length),M(this,mt,!0,"f"),!o(this,T,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[pe](o(this,Dt,"f"),void 0,void 0,0,!0);if(K(n))return n.then(()=>{o(this,T,"f").showHelp(t)}),this}let e=o(this,st,"f").runDefaultBuilderOn(this);if(K(e))return e.then(()=>{o(this,T,"f").showHelp(t)}),this}return o(this,T,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,e){return P("[boolean|string] [string]",[t,e],arguments.length),o(this,T,"f").showHelpOnFail(t,e),this}showVersion(t){return P("[string|function]",[t],arguments.length),o(this,T,"f").showVersion(t),this}skipValidation(t){return P("<array|string>",[t],arguments.length),this[Lt]("skipValidation",t),this}strict(t){return P("[boolean]",[t],arguments.length),M(this,Vt,t!==!1,"f"),this}strictCommands(t){return P("[boolean]",[t],arguments.length),M(this,Kt,t!==!1,"f"),this}strictOptions(t){return P("[boolean]",[t],arguments.length),M(this,Jt,t!==!1,"f"),this}string(t){return P("<array|string>",[t],arguments.length),this[Lt]("string",t),this[Xt](t),this}terminalWidth(){return P([],0),o(this,z,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return P("<object>",[t],arguments.length),M(this,Yt,!1,"f"),o(this,z,"f").y18n.updateLocale(t),this}usage(t,e,n,s){if(P("<string|null|undefined> [string|boolean] [function|object] [function]",[t,e,n,s],arguments.length),e!==void 0){if(ht(t,null,o(this,z,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,e,n,s);throw new V(".usage() description must start with $0 if being used as alias for .command()")}else return o(this,T,"f").usage(t),this}usageConfiguration(t){return P("<object>",[t],arguments.length),M(this,De,t,"f"),this}version(t,e,n){let s="version";if(P("[boolean|string] [string] [string]",[t,e,n],arguments.length),o(this,Mt,"f")&&(this[cn](o(this,Mt,"f")),o(this,T,"f").version(void 0),M(this,Mt,null,"f")),arguments.length===0)n=this[Oi](),t=s;else if(arguments.length===1){if(t===!1)return this;n=t,t=s}else arguments.length===2&&(n=e,e=void 0);return M(this,Mt,typeof t=="string"?t:s,"f"),e=e||o(this,T,"f").deferY18nLookup("Show version number"),o(this,T,"f").version(n||void 0),this.boolean(o(this,Mt,"f")),this.describe(o(this,Mt,"f"),e),this}wrap(t){return P("<number|null|undefined>",[t],arguments.length),o(this,T,"f").wrap(t),this}[(st=new WeakMap,Bt=new WeakMap,de=new WeakMap,Ot=new WeakMap,pt=new WeakMap,Pe=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,Me=new WeakMap,_t=new WeakMap,$e=new WeakMap,Ct=new WeakMap,Pt=new WeakMap,mt=new WeakMap,xt=new WeakMap,Ie=new WeakMap,ie=new WeakMap,ot=new WeakMap,F=new WeakMap,Ne=new WeakMap,Fe=new WeakMap,gt=new WeakMap,qt=new WeakMap,se=new WeakMap,Gt=new WeakMap,Dt=new WeakMap,We=new WeakMap,z=new WeakMap,Vt=new WeakMap,Kt=new WeakMap,Jt=new WeakMap,T=new WeakMap,De=new WeakMap,Mt=new WeakMap,tt=new WeakMap,pi)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[mi](){return{log:(...t)=>{this[Le]()||console.log(...t),M(this,mt,!0,"f"),o(this,ot,"f").length&&M(this,ot,o(this,ot,"f")+`
`,"f"),M(this,ot,o(this,ot,"f")+t.join(" "),"f")},error:(...t)=>{this[Le]()||console.error(...t),M(this,mt,!0,"f"),o(this,ot,"f").length&&M(this,ot,o(this,ot,"f")+`
`,"f"),M(this,ot,o(this,ot,"f")+t.join(" "),"f")}}}[cn](t){ee(o(this,F,"f")).forEach(e=>{if((s=>s==="configObjects")(e))return;let n=o(this,F,"f")[e];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete o(this,T,"f").getDescriptions()[t]}[gi](t,e,n){o(this,Me,"f")[n]||(o(this,z,"f").process.emitWarning(t,e),o(this,Me,"f")[n]=!0)}[bi](){o(this,$e,"f").push({options:o(this,F,"f"),configObjects:o(this,F,"f").configObjects.slice(0),exitProcess:o(this,_t,"f"),groups:o(this,Pt,"f"),strict:o(this,Vt,"f"),strictCommands:o(this,Kt,"f"),strictOptions:o(this,Jt,"f"),completionCommand:o(this,pt,"f"),output:o(this,ot,"f"),exitError:o(this,Wt,"f"),hasOutput:o(this,mt,"f"),parsed:this.parsed,parseFn:o(this,gt,"f"),parseContext:o(this,qt,"f")}),o(this,T,"f").freeze(),o(this,tt,"f").freeze(),o(this,st,"f").freeze(),o(this,Ct,"f").freeze()}[wi](){let t="",e;return/\b(node|iojs|electron)(\.exe)?$/.test(o(this,z,"f").process.argv()[0])?e=o(this,z,"f").process.argv().slice(1,2):e=o(this,z,"f").process.argv().slice(0,1),t=e.map(n=>{let s=this[$i](o(this,Bt,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&s.length<n.length?s:n}).join(" ").trim(),o(this,z,"f").getEnv("_")&&o(this,z,"f").getProcessArgvBin()===o(this,z,"f").getEnv("_")&&(t=o(this,z,"f").getEnv("_").replace(`${o(this,z,"f").path.dirname(o(this,z,"f").process.execPath())}/`,"")),t}[Zt](){return o(this,Fe,"f")}[yi](){return o(this,De,"f")}[fn](){if(!o(this,Yt,"f"))return;let t=o(this,z,"f").getEnv("LC_ALL")||o(this,z,"f").getEnv("LC_MESSAGES")||o(this,z,"f").getEnv("LANG")||o(this,z,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Oi](){return this[hn]().version||"unknown"}[_i](t){let e=t["--"]?t["--"]:t._;for(let n=0,s;(s=e[n])!==void 0;n++)o(this,z,"f").Parser.looksLikeNumber(s)&&Number.isSafeInteger(Math.floor(parseFloat(`${s}`)))&&(e[n]=Number(s));return t}[hn](t){let e=t||"*";if(o(this,se,"f")[e])return o(this,se,"f")[e];let n={};try{let s=t||o(this,z,"f").mainFilename;!t&&o(this,z,"f").path.extname(s)&&(s=o(this,z,"f").path.dirname(s));let r=o(this,z,"f").findUp(s,(a,l)=>{if(l.includes("package.json"))return"package.json"});ht(r,void 0,o(this,z,"f")),n=JSON.parse(o(this,z,"f").readFileSync(r,"utf8"))}catch{}return o(this,se,"f")[e]=n||{},o(this,se,"f")[e]}[Lt](t,e){e=[].concat(e),e.forEach(n=>{n=this[pn](n),o(this,F,"f")[t].push(n)})}[re](t,e,n,s){this[dn](t,e,n,s,(r,a,l)=>{o(this,F,"f")[r][a]=l})}[un](t,e,n,s){this[dn](t,e,n,s,(r,a,l)=>{o(this,F,"f")[r][a]=(o(this,F,"f")[r][a]||[]).concat(l)})}[dn](t,e,n,s,r){if(Array.isArray(n))n.forEach(a=>{t(a,s)});else if((a=>typeof a=="object")(n))for(let a of ee(n))t(a,n[a]);else r(e,this[pn](n),s)}[pn](t){return t==="__proto__"?"___proto___":t}[mn](t,e){return this[re](this[mn].bind(this),"key",t,e),this}[gn](){var t,e,n,s,r,a,l,f,d,u,h,b;let w=o(this,$e,"f").pop();ht(w,void 0,o(this,z,"f"));let _;t=this,e=this,n=this,s=this,r=this,a=this,l=this,f=this,d=this,u=this,h=this,b=this,{options:{set value(O){M(t,F,O,"f")}}.value,configObjects:_,exitProcess:{set value(O){M(e,_t,O,"f")}}.value,groups:{set value(O){M(n,Pt,O,"f")}}.value,output:{set value(O){M(s,ot,O,"f")}}.value,exitError:{set value(O){M(r,Wt,O,"f")}}.value,hasOutput:{set value(O){M(a,mt,O,"f")}}.value,parsed:this.parsed,strict:{set value(O){M(l,Vt,O,"f")}}.value,strictCommands:{set value(O){M(f,Kt,O,"f")}}.value,strictOptions:{set value(O){M(d,Jt,O,"f")}}.value,completionCommand:{set value(O){M(u,pt,O,"f")}}.value,parseFn:{set value(O){M(h,gt,O,"f")}}.value,parseContext:{set value(O){M(b,qt,O,"f")}}.value}=w,o(this,F,"f").configObjects=_,o(this,T,"f").unfreeze(),o(this,tt,"f").unfreeze(),o(this,st,"f").unfreeze(),o(this,Ct,"f").unfreeze()}[Ci](t,e){return Ht(e,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[xi].bind(this),getContext:this[ji].bind(this),getHasOutput:this[Ei].bind(this),getLoggerInstance:this[Ai].bind(this),getParseContext:this[vi].bind(this),getParserConfiguration:this[Zt].bind(this),getUsageConfiguration:this[yi].bind(this),getUsageInstance:this[Si].bind(this),getValidationInstance:this[Pi].bind(this),hasParseCallback:this[Le].bind(this),isGlobalContext:this[Mi].bind(this),postProcess:this[Qt].bind(this),reset:this[bn].bind(this),runValidation:this[wn].bind(this),runYargsParserAndExecuteCommands:this[pe].bind(this),setHasOutput:this[Ii].bind(this)}}[xi](){return o(this,st,"f")}[ji](){return o(this,de,"f")}[Ei](){return o(this,mt,"f")}[Ai](){return o(this,ie,"f")}[vi](){return o(this,qt,"f")||{}}[Si](){return o(this,T,"f")}[Pi](){return o(this,tt,"f")}[Le](){return!!o(this,gt,"f")}[Mi](){return o(this,Ie,"f")}[Qt](t,e,n,s){return n||K(t)||(e||(t=this[pi](t)),(this[Zt]()["parse-positional-numbers"]||this[Zt]()["parse-positional-numbers"]===void 0)&&(t=this[_i](t)),s&&(t=Ut(t,this,o(this,Ct,"f").getMiddleware(),!1))),t}[bn](t={}){M(this,F,o(this,F,"f")||{},"f");let e={};e.local=o(this,F,"f").local||[],e.configObjects=o(this,F,"f").configObjects||[];let n={};e.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(o(this,Gt,"f"),Object.keys(o(this,Pt,"f")).reduce((a,l)=>{let f=o(this,Pt,"f")[l].filter(d=>!(d in n));return f.length>0&&(a[l]=f),a},{})),M(this,Pt,{},"f");let s=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],r=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return s.forEach(a=>{e[a]=(o(this,F,"f")[a]||[]).filter(l=>!n[l])}),r.forEach(a=>{e[a]=Nt(o(this,F,"f")[a],l=>!n[l])}),e.envPrefix=o(this,F,"f").envPrefix,M(this,F,e,"f"),M(this,T,o(this,T,"f")?o(this,T,"f").reset(n):oi(this,o(this,z,"f")),"f"),M(this,tt,o(this,tt,"f")?o(this,tt,"f").reset(n):ui(this,o(this,T,"f"),o(this,z,"f")),"f"),M(this,st,o(this,st,"f")?o(this,st,"f").reset():ii(o(this,T,"f"),o(this,tt,"f"),o(this,Ct,"f"),o(this,z,"f")),"f"),o(this,Ot,"f")||M(this,Ot,ci(this,o(this,T,"f"),o(this,st,"f"),o(this,z,"f")),"f"),o(this,Ct,"f").reset(),M(this,pt,null,"f"),M(this,ot,"","f"),M(this,Wt,null,"f"),M(this,mt,!1,"f"),this.parsed=!1,this}[$i](t,e){return o(this,z,"f").path.relative(t,e)}[pe](t,e,n,s=0,r=!1){let a=!!n||r;t=t||o(this,Dt,"f"),o(this,F,"f").__=o(this,z,"f").y18n.__,o(this,F,"f").configuration=this[Zt]();let l=!!o(this,F,"f").configuration["populate--"],f=Object.assign({},o(this,F,"f").configuration,{"populate--":!0}),d=o(this,z,"f").Parser.detailed(t,Object.assign({},o(this,F,"f"),{configuration:{"parse-positional-numbers":!1,...f}})),u=Object.assign(d.argv,o(this,qt,"f")),h,b=d.aliases,w=!1,_=!1;Object.keys(u).forEach(O=>{O===o(this,xt,"f")&&u[O]?w=!0:O===o(this,Mt,"f")&&u[O]&&(_=!0)}),u.$0=this.$0,this.parsed=d,s===0&&o(this,T,"f").clearCachedHelpMessage();try{if(this[fn](),e)return this[Qt](u,l,!!n,!1);o(this,xt,"f")&&[o(this,xt,"f")].concat(b[o(this,xt,"f")]||[]).filter(D=>D.length>1).includes(""+u._[u._.length-1])&&(u._.pop(),w=!0),M(this,Ie,!1,"f");let O=o(this,st,"f").getCommands(),m=o(this,Ot,"f").completionKey in u,x=w||m||r;if(u._.length){if(O.length){let v;for(let D=s||0,I;u._[D]!==void 0;D++)if(I=String(u._[D]),O.includes(I)&&I!==o(this,pt,"f")){let U=o(this,st,"f").runCommand(I,this,d,D+1,r,w||_||r);return this[Qt](U,l,!!n,!1)}else if(!v&&I!==o(this,pt,"f")){v=I;break}!o(this,st,"f").hasDefaultCommand()&&o(this,We,"f")&&v&&!x&&o(this,tt,"f").recommendCommands(v,O)}o(this,pt,"f")&&u._.includes(o(this,pt,"f"))&&!m&&(o(this,_t,"f")&&Ft(!0),this.showCompletionScript(),this.exit(0))}if(o(this,st,"f").hasDefaultCommand()&&!x){let v=o(this,st,"f").runCommand(null,this,d,0,r,w||_||r);return this[Qt](v,l,!!n,!1)}if(m){o(this,_t,"f")&&Ft(!0),t=[].concat(t);let v=t.slice(t.indexOf(`--${o(this,Ot,"f").completionKey}`)+1);return o(this,Ot,"f").getCompletion(v,(D,I)=>{if(D)throw new V(D.message);(I||[]).forEach(U=>{o(this,ie,"f").log(U)}),this.exit(0)}),this[Qt](u,!l,!!n,!1)}if(o(this,mt,"f")||(w?(o(this,_t,"f")&&Ft(!0),a=!0,this.showHelp("log"),this.exit(0)):_&&(o(this,_t,"f")&&Ft(!0),a=!0,o(this,T,"f").showVersion("log"),this.exit(0))),!a&&o(this,F,"f").skipValidation.length>0&&(a=Object.keys(u).some(v=>o(this,F,"f").skipValidation.indexOf(v)>=0&&u[v]===!0)),!a){if(d.error)throw new V(d.error.message);if(!m){let v=this[wn](b,{},d.error);n||(h=Ut(u,this,o(this,Ct,"f").getMiddleware(),!0)),h=this[Ci](v,h??u),K(h)&&!n&&(h=h.then(()=>Ut(u,this,o(this,Ct,"f").getMiddleware(),!1)))}}}catch(O){if(O instanceof V)o(this,T,"f").fail(O.message,O);else throw O}return this[Qt](h??u,l,!!n,!0)}[wn](t,e,n,s){let r={...this.getDemandedOptions()};return a=>{if(n)throw new V(n.message);o(this,tt,"f").nonOptionCount(a),o(this,tt,"f").requiredArguments(a,r);let l=!1;o(this,Kt,"f")&&(l=o(this,tt,"f").unknownCommands(a)),o(this,Vt,"f")&&!l?o(this,tt,"f").unknownArguments(a,t,e,!!s):o(this,Jt,"f")&&o(this,tt,"f").unknownArguments(a,t,{},!1,!1),o(this,tt,"f").limitedChoices(a),o(this,tt,"f").implications(a),o(this,tt,"f").conflicting(a)}}[Ii](){M(this,mt,!0,"f")}[Xt](t){if(typeof t=="string")o(this,F,"f").key[t]=!0;else for(let e of t)o(this,F,"f").key[e]=!0}};function si(i){return!!i&&typeof i.getInternalMethods=="function"}var Ys=Ni(en),Fi=Ys;var rs=require("child_process"),Sn=le(require("fs")),os=le(require("path")),as=le(Wi()),ls=le(ns());function An(i){return`\x1B[1m${i}\x1B[22m`}function is(i){return`\x1B[36m${i}\x1B[39m`}function ge(i){return`\x1B[32m${i}\x1B[39m`}function vn(i){return`\x1B[31m${i}\x1B[39m`}function Ue(i){return`\x1B[2m${i}\x1B[22m`}var ss=le(require("fs")),He=class{constructor(t,e){this.start=t;this.end=e}contains(t){return this.start<=t&&t<=this.end}},Be=class{constructor(t){this.path=t;this.multilineCommentRanges=[];let e=ss.default.readFileSync(this.path).toString().split(`
`),n=null;for(let s=0;s<e.length;s++){let r=e[s].trim();if(n===null)switch(r.indexOf("/*")){case-1:break;case 0:n=s;break;default:n=s+1}if(n!==null)switch(r.indexOf("*/")){case-1:break;case r.length-2:this.multilineCommentRanges.push(new He(n,s)),n=null;break;default:this.multilineCommentRanges.push(new He(n,s-1));break}}}multilineCommentRanges;check(t,e){return!(this.multilineCommentRanges.some(n=>n.contains(t))||e.trim().startsWith("//")||e.trim().startsWith("#"))}};async function cs({log:i,verbose:t,source:e,target:n,ignoreDeletion:s,ignoreFilePath:r=os.default.join(process.cwd(),".gitdiffignore"),ignoreWhitespace:a,ignoreComment:l}){let f=[];Sn.default.existsSync(r)&&(f=Sn.default.readFileSync(r,"utf-8").split(`
`).map(b=>b.trim()).filter(Boolean).filter(b=>!b.startsWith("#")));let d=await new Promise((b,w)=>{let _=["git diff"];_.push(`${n}...${e}`),a&&_.push("-w"),s&&_.push("--diff-filter=ACMR"),f.length&&_.push(...f.map(O=>`":!${O}"`)),(0,rs.exec)(_.join(" "),(O,m)=>{if(O){w(O);return}b(m)})}),u=as.default.parse(d).filter(b=>!(b.isBinary||f.some(w=>(0,ls.minimatch)(b.newPath,w)))),h=0;for(let b of u){let w=s&&l?new Be(b.newPath):null,_=[],O=0,m=0;for(let x of b.hunks){t&&_.push(An(s?`From line ${x.newStart} to ${x.newStart+x.newLines-1}`:`From line ${x.oldStart} to ${x.oldStart+x.oldLines-1} \u27A1 From line ${x.newStart} to ${x.newStart+x.newLines-1}`));for(let v of x.changes){let D=!0;switch(v.type){case"delete":if(s)continue;D=!1;break;case"normal":_.push(Ue(v.content));continue}let I=v.content.trim();if(!(!I&&(_.push(Ue(v.content)),a))){if(w&&!w.check(v.lineNumber,I)){_.push(Ue(v.content));continue}_.push((D?ge:vn)(v.content)),D?O++:m++}}}h+=O+m,i&&O+m&&(i(is(An(`\u{1F4C4} ${b.newPath}${m?vn(` -${m}`):""}${O?ge(` +${O}`):""}`))),t&&(i(_.join(`
`)),i("")))}return h}Fi(ke(process.argv)).positional("sourceBranch",{default:"HEAD",description:"The source branch.",type:"string"}).positional("targetBranch",{description:"The target branch.",type:"string"}).option("ignoreFilePath",{alias:"f",required:!1,description:"The file path of what files to ignore. If not provided, the .gitdiffignore file in working directory will be used",type:"string"}).option("ignoreDeletion",{alias:"d",default:!1,description:"Whether to ignore deleted lines",type:"boolean"}).option("ignoreWhitespace",{alias:"w",default:!1,description:"Whether to ignore white space",type:"boolean"}).option("ignoreComment",{alias:"c",default:!1,description:"Whether to ignore comments. ignore-deletion must be set",type:"boolean"}).option("verbose",{alias:"v",default:!1,description:"Whether to log verbose output",type:"boolean"}).option("quiet",{alias:"q",default:!1,description:"Whether to log only the number of total diff lines",type:"boolean"}).command("$0 <targetBranch> [sourceBranch]","Get the size of the diff between the source branch and the target branch",()=>{},async i=>{let t=await cs({source:i.sourceBranch,target:i.targetBranch,ignoreFilePath:i.ignoreFilePath,log:i.quiet?void 0:console.log,verbose:i.verbose,ignoreDeletion:i.ignoreDeletion,ignoreWhitespace:i.ignoreWhitespace,ignoreComment:i.ignoreComment});i.quiet?console.log(t):console.log(`\u{1F4CA} Total diff lines: ${ge(t)}`)}).version(!1).parse();
/*! Bundled license information:

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)
*/
