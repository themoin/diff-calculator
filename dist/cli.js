#!/usr/bin/env node
"use strict";var Mi=Object.create;var On=Object.defineProperty;var $i=Object.getOwnPropertyDescriptor;var Ii=Object.getOwnPropertyNames;var vi=Object.getPrototypeOf,Fi=Object.prototype.hasOwnProperty;var Li=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var Wi=(s,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ii(t))!Fi.call(s,i)&&i!==e&&On(s,i,{get:()=>t[i],enumerable:!(n=$i(t,i))||n.enumerable});return s};var ze=(s,t,e)=>(e=s!=null?Mi(vi(s)):{},Wi(t||!s||!s.__esModule?On(e,"default",{value:s,enumerable:!0}):e,s));var Ai=Li((Le,pn)=>{(function(s){var t=2,e=3,n=5;function i(a){var f=a.slice(11),b=null,m=null,p=f.indexOf('"');switch(p){case-1:var w=f.split(" ");b=w[0].slice(2),m=w[1].slice(2);break;case 0:var d=f.indexOf('"',2);b=f.slice(3,d);var g=f.indexOf('"',d+1);g<0?m=f.slice(d+4):m=f.slice(g+3,-1);break;default:var w=f.split(" ");b=w[0].slice(2),m=w[1].slice(3,-1);break}return{oldPath:b,newPath:m}}var o={parse:function(a){for(var f=[],b=t,m,p,d,g,w,C=a.split(`
`),y=C.length,u=0;u<y;){var v=C[u];if(v.indexOf("diff --git")===0){w=i(v),m={hunks:[],oldEndingNewLine:!0,newEndingNewLine:!0,oldPath:w.oldPath,newPath:w.newPath},f.push(m);var L=null,T;t:for(;T=C[++u];){var R=T.indexOf(" "),N=R>-1?T.slice(0,R):N;switch(N){case"diff":u--;break t;case"deleted":case"new":var B=T.slice(R+1);B.indexOf("file mode")===0&&(m[N==="new"?"newMode":"oldMode"]=B.slice(10));break;case"similarity":m.similarity=parseInt(T.split(" ")[2],10);break;case"index":var V=T.slice(R+1).split(" "),nt=V[0].split("..");m.oldRevision=nt[0],m.newRevision=nt[1],V[1]&&(m.oldMode=m.newMode=V[1]);break;case"copy":case"rename":var Z=T.slice(R+1);Z.indexOf("from")===0?m.oldPath=Z.slice(5):m.newPath=Z.slice(3),L=N;break;case"---":var U=T.slice(R+1),j=C[++u].slice(4);U==="/dev/null"?(j=j.slice(2),L="add"):j==="/dev/null"?(U=U.slice(2),L="delete"):(L="modify",U=U.slice(2),j=j.slice(2)),U&&(m.oldPath=U),j&&(m.newPath=j),b=n;break t}}m.type=L||"modify"}else if(v.indexOf("Binary")===0)m.isBinary=!0,m.type=v.indexOf("/dev/null and")>=0?"add":v.indexOf("and /dev/null")>=0?"delete":"modify",b=t,m=null;else if(b===n)if(v.indexOf("@@")===0){var x=/^@@\s+-([0-9]+)(,([0-9]+))?\s+\+([0-9]+)(,([0-9]+))?/.exec(v);p={content:v,oldStart:x[1]-0,newStart:x[4]-0,oldLines:x[3]-0||1,newLines:x[6]-0||1,changes:[]},m.hunks.push(p),d=p.oldStart,g=p.newStart}else{var S=v.slice(0,1),I={content:v.slice(1)};switch(S){case"+":I.type="insert",I.isInsert=!0,I.lineNumber=g,g++;break;case"-":I.type="delete",I.isDelete=!0,I.lineNumber=d,d++;break;case" ":I.type="normal",I.isNormal=!0,I.oldLineNumber=d,I.newLineNumber=g,d++,g++;break;case"\\":var G=p.changes[p.changes.length-1];G.isDelete||(m.newEndingNewLine=!1),G.isInsert||(m.oldEndingNewLine=!1)}I.type&&p.changes.push(I)}u++}return f}};typeof Le=="object"&&typeof pn=="object"?Le=pn.exports=o:typeof define=="function"&&define.amd?define("gitDiffParser",[],o):s.gitDiffParser=o})(Le)});var _e=require("assert");var Ni={right:Hi,center:Ti},Di=0,pe=1,zi=2,me=3,Re=class{constructor(t){var e;this.width=t.width,this.wrap=(e=t.wrap)!==null&&e!==void 0?e:!0,this.rows=[]}span(...t){let e=this.div(...t);e.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let e=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(e),e}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let e=t.split(`
`).map(i=>i.split("	")),n=0;return e.forEach(i=>{i.length>1&&ht.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),ht.stringWidth(i[0])))}),e.forEach(i=>{this.div(...i.map((o,a)=>({text:o.trim(),padding:this.measurePadding(o),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let e=ht.stripAnsi(t);return[0,e.match(/\s*$/)[0].length,0,e.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(e=>{this.rowToString(e,t)}),t.filter(e=>!e.hidden).map(e=>e.text).join(`
`)}rowToString(t,e){return this.rasterize(t).forEach((n,i)=>{let o="";n.forEach((a,f)=>{let{width:b}=t[f],m=this.negatePadding(t[f]),p=a;if(m>ht.stringWidth(a)&&(p+=" ".repeat(m-ht.stringWidth(a))),t[f].align&&t[f].align!=="left"&&this.wrap){let g=Ni[t[f].align];p=g(p,m),ht.stringWidth(p)<m&&(p+=" ".repeat((b||0)-ht.stringWidth(p)-1))}let d=t[f].padding||[0,0,0,0];d[me]&&(o+=" ".repeat(d[me])),o+=yn(t[f],p,"| "),o+=p,o+=yn(t[f],p," |"),d[pe]&&(o+=" ".repeat(d[pe])),i===0&&e.length>0&&(o=this.renderInline(o,e[e.length-1]))}),e.push({text:o.replace(/ +$/,""),span:t.span})}),e}renderInline(t,e){let n=t.match(/^ */),i=n?n[0].length:0,o=e.text,a=ht.stringWidth(o.trimRight());return e.span?this.wrap?i<a?t:(e.hidden=!0,o.trimRight()+" ".repeat(i-a)+t.trimLeft()):(e.hidden=!0,o+t):t}rasterize(t){let e=[],n=this.columnWidths(t),i;return t.forEach((o,a)=>{o.width=n[a],this.wrap?i=ht.wrap(o.text,this.negatePadding(o),{hard:!0}).split(`
`):i=o.text.split(`
`),o.border&&(i.unshift("."+"-".repeat(this.negatePadding(o)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(o)+2)+"'")),o.padding&&(i.unshift(...new Array(o.padding[Di]||0).fill("")),i.push(...new Array(o.padding[zi]||0).fill(""))),i.forEach((f,b)=>{e[b]||e.push([]);let m=e[b];for(let p=0;p<a;p++)m[p]===void 0&&m.push("");m.push(f)})}),e}negatePadding(t){let e=t.width||0;return t.padding&&(e-=(t.padding[me]||0)+(t.padding[pe]||0)),t.border&&(e-=4),e}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||ht.stringWidth(a.text));let e=t.length,n=this.width,i=t.map(a=>{if(a.width)return e--,n-=a.width,a.width}),o=e?Math.floor(n/e):0;return i.map((a,f)=>a===void 0?Math.max(o,Ri(t[f])):a)}};function yn(s,t,e){return s.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?e:"  ":""}function Ri(s){let t=s.padding||[],e=1+(t[me]||0)+(t[pe]||0);return s.border?e+4:e}function Ui(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Hi(s,t){s=s.trim();let e=ht.stringWidth(s);return e<t?" ".repeat(t-e)+s:s}function Ti(s,t){s=s.trim();let e=ht.stringWidth(s);return e>=t?s:" ".repeat(t-e>>1)+s}var ht;function _n(s,t){return ht=t,new Re({width:s?.width||Ui(),wrap:s?.wrap})}var Cn=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function Ue(s){return s.replace(Cn,"")}function xn(s,t){let[e,n]=s.match(Cn)||["",""];s=Ue(s);let i="";for(let o=0;o<s.length;o++)o!==0&&o%t===0&&(i+=`
`),i+=s.charAt(o);return e&&n&&(i=`${e}${i}${n}`),i}function He(s){return _n(s,{stringWidth:t=>[...t].length,stripAnsi:Ue,wrap:xn})}var Qt=require("path"),ge=require("fs");function jn(s,t){let e=(0,Qt.resolve)(".",s),n;for((0,ge.statSync)(e).isDirectory()||(e=(0,Qt.dirname)(e));;){if(n=t(e,(0,ge.readdirSync)(e)),n)return(0,Qt.resolve)(e,n);if(e=(0,Qt.dirname)(n=e),n===e)break}}var Un=require("util"),Hn=require("fs"),Tn=require("url");var Mn=require("util"),ye=require("path");function Dt(s){if(s!==s.toLowerCase()&&s!==s.toUpperCase()||(s=s.toLowerCase()),s.indexOf("-")===-1&&s.indexOf("_")===-1)return s;{let e="",n=!1,i=s.match(/^-+/);for(let o=i?i[0].length:0;o<s.length;o++){let a=s.charAt(o);n&&(n=!1,a=a.toUpperCase()),o!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(e+=a)}return e}}function be(s,t){let e=s.toLowerCase();t=t||"-";let n="";for(let i=0;i<s.length;i++){let o=e.charAt(i),a=s.charAt(i);o!==a&&i>0?n+=`${t}${e.charAt(i)}`:n+=a}return n}function we(s){return s==null?!1:typeof s=="number"||/^0x[0-9a-f]+$/i.test(s)?!0:/^0[^.]/.test(s)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(s)}function An(s){if(Array.isArray(s))return s.map(a=>typeof a!="string"?a+"":a);s=s.trim();let t=0,e=null,n=null,i=null,o=[];for(let a=0;a<s.length;a++){if(e=n,n=s.charAt(a),n===" "&&!i){e!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),o[t]||(o[t]=""),o[t]+=n}return o}var mt;(function(s){s.BOOLEAN="boolean",s.STRING="string",s.NUMBER="number",s.ARRAY="array"})(mt||(mt={}));var Pt,Oe=class{constructor(t){Pt=t}parse(t,e){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},e),i=An(t),o=typeof t=="string",a=Bi(Object.assign(Object.create(null),n.alias)),f=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),b=Object.assign(Object.create(null),n.default),m=n.configObjects||[],p=n.envPrefix,d=f["populate--"],g=d?"--":"_",w=Object.create(null),C=Object.create(null),y=n.__||Pt.format,u={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},v=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,L=new RegExp("^--"+f["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(l){let h=typeof l=="object"?l.key:l,_=Object.keys(l).map(function(O){return{boolean:"bools",string:"strings",number:"numbers"}[O]}).filter(Boolean).pop();_&&(u[_][h]=!0),u.arrays[h]=!0,u.keys.push(h)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(l){u.bools[l]=!0,u.keys.push(l)}),[].concat(n.string||[]).filter(Boolean).forEach(function(l){u.strings[l]=!0,u.keys.push(l)}),[].concat(n.number||[]).filter(Boolean).forEach(function(l){u.numbers[l]=!0,u.keys.push(l)}),[].concat(n.count||[]).filter(Boolean).forEach(function(l){u.counts[l]=!0,u.keys.push(l)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(l){u.normalize[l]=!0,u.keys.push(l)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([l,h])=>{typeof h=="number"&&(u.nargs[l]=h,u.keys.push(l))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([l,h])=>{typeof h=="function"&&(u.coercions[l]=h,u.keys.push(l))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(l){u.configs[l]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([l,h])=>{(typeof h=="boolean"||typeof h=="function")&&(u.configs[l]=h)})),Nt(n.key,a,n.default,u.arrays),Object.keys(b).forEach(function(l){(u.aliases[l]||[]).forEach(function(h){b[h]=b[l]})});let T=null;de();let R=[],N=Object.assign(Object.create(null),{_:[]}),B={};for(let l=0;l<i.length;l++){let h=i[l],_=h.replace(/^-{3,}/,"---"),O,c,M,A,F,at;if(h!=="--"&&/^-/.test(h)&&k(h))V(h);else if(_.match(/^---+(=|$)/)){V(h);continue}else if(h.match(/^--.+=/)||!f["short-option-groups"]&&h.match(/^-.+=/))A=h.match(/^--?([^=]+)=([\s\S]*)$/),A!==null&&Array.isArray(A)&&A.length>=3&&(D(A[1],u.arrays)?l=Z(l,A[1],i,A[2]):D(A[1],u.nargs)!==!1?l=nt(l,A[1],i,A[2]):U(A[1],A[2],!0));else if(h.match(L)&&f["boolean-negation"])A=h.match(L),A!==null&&Array.isArray(A)&&A.length>=2&&(c=A[1],U(c,D(c,u.arrays)?[!1]:!1));else if(h.match(/^--.+/)||!f["short-option-groups"]&&h.match(/^-[^-]+/))A=h.match(/^--?(.+)/),A!==null&&Array.isArray(A)&&A.length>=2&&(c=A[1],D(c,u.arrays)?l=Z(l,c,i):D(c,u.nargs)!==!1?l=nt(l,c,i):(F=i[l+1],F!==void 0&&(!F.match(/^-/)||F.match(v))&&!D(c,u.bools)&&!D(c,u.counts)||/^(true|false)$/.test(F)?(U(c,F),l++):U(c,tt(c))));else if(h.match(/^-.\..+=/))A=h.match(/^-([^=]+)=([\s\S]*)$/),A!==null&&Array.isArray(A)&&A.length>=3&&U(A[1],A[2]);else if(h.match(/^-.\..+/)&&!h.match(v))F=i[l+1],A=h.match(/^-(.\..+)/),A!==null&&Array.isArray(A)&&A.length>=2&&(c=A[1],F!==void 0&&!F.match(/^-/)&&!D(c,u.bools)&&!D(c,u.counts)?(U(c,F),l++):U(c,tt(c)));else if(h.match(/^-[^-]+/)&&!h.match(v)){M=h.slice(1,-1).split(""),O=!1;for(let ft=0;ft<M.length;ft++){if(F=h.slice(ft+2),M[ft+1]&&M[ft+1]==="="){at=h.slice(ft+3),c=M[ft],D(c,u.arrays)?l=Z(l,c,i,at):D(c,u.nargs)!==!1?l=nt(l,c,i,at):U(c,at),O=!0;break}if(F==="-"){U(M[ft],F);continue}if(/[A-Za-z]/.test(M[ft])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(F)&&D(F,u.bools)===!1){U(M[ft],F),O=!0;break}if(M[ft+1]&&M[ft+1].match(/\W/)){U(M[ft],F),O=!0;break}else U(M[ft],tt(M[ft]))}c=h.slice(-1)[0],!O&&c!=="-"&&(D(c,u.arrays)?l=Z(l,c,i):D(c,u.nargs)!==!1?l=nt(l,c,i):(F=i[l+1],F!==void 0&&(!/^(-|--)[^-]/.test(F)||F.match(v))&&!D(c,u.bools)&&!D(c,u.counts)||/^(true|false)$/.test(F)?(U(c,F),l++):U(c,tt(c))))}else if(h.match(/^-[0-9]$/)&&h.match(v)&&D(h.slice(1),u.bools))c=h.slice(1),U(c,tt(c));else if(h==="--"){R=i.slice(l+1);break}else if(f["halt-at-non-option"]){R=i.slice(l);break}else V(h)}q(N,!0),q(N,!1),I(N),rt(),X(N,u.aliases,b,!0),ot(N),f["set-placeholder-key"]&&Wt(N),Object.keys(u.counts).forEach(function(l){Et(N,l.split("."))||U(l,0)}),d&&R.length&&(N[g]=[]),R.forEach(function(l){N[g].push(l)}),f["camel-case-expansion"]&&f["strip-dashed"]&&Object.keys(N).filter(l=>l!=="--"&&l.includes("-")).forEach(l=>{delete N[l]}),f["strip-aliased"]&&[].concat(...Object.keys(a).map(l=>a[l])).forEach(l=>{f["camel-case-expansion"]&&l.includes("-")&&delete N[l.split(".").map(h=>Dt(h)).join(".")],delete N[l]});function V(l){let h=S("_",l);(typeof h=="string"||typeof h=="number")&&N._.push(h)}function nt(l,h,_,O){let c,M=D(h,u.nargs);if(M=typeof M!="number"||isNaN(M)?1:M,M===0)return _t(O)||(T=Error(y("Argument unexpected for: %s",h))),U(h,tt(h)),l;let A=_t(O)?0:1;if(f["nargs-eats-options"])_.length-(l+1)+A<M&&(T=Error(y("Not enough arguments following: %s",h))),A=M;else{for(c=l+1;c<_.length&&(!_[c].match(/^-[^0-9]/)||_[c].match(v)||k(_[c]));c++)A++;A<M&&(T=Error(y("Not enough arguments following: %s",h)))}let F=Math.min(A,M);for(!_t(O)&&F>0&&(U(h,O),F--),c=l+1;c<F+l+1;c++)U(h,_[c]);return l+F}function Z(l,h,_,O){let c=[],M=O||_[l+1],A=D(h,u.nargs);if(D(h,u.bools)&&!/^(true|false)$/.test(M))c.push(!0);else if(_t(M)||_t(O)&&/^-/.test(M)&&!v.test(M)&&!k(M)){if(b[h]!==void 0){let F=b[h];c=Array.isArray(F)?F:[F]}}else{_t(O)||c.push(x(h,O,!0));for(let F=l+1;F<_.length&&!(!f["greedy-arrays"]&&c.length>0||A&&typeof A=="number"&&c.length>=A||(M=_[F],/^-/.test(M)&&!v.test(M)&&!k(M)));F++)l=F,c.push(x(h,M,o))}return typeof A=="number"&&(A&&c.length<A||isNaN(A)&&c.length===0)&&(T=Error(y("Not enough arguments following: %s",h))),U(h,c),l}function U(l,h,_=o){if(/-/.test(l)&&f["camel-case-expansion"]){let M=l.split(".").map(function(A){return Dt(A)}).join(".");j(l,M)}let O=x(l,h,_),c=l.split(".");St(N,c,O),u.aliases[l]&&u.aliases[l].forEach(function(M){let A=M.split(".");St(N,A,O)}),c.length>1&&f["dot-notation"]&&(u.aliases[c[0]]||[]).forEach(function(M){let A=M.split("."),F=[].concat(c);F.shift(),A=A.concat(F),(u.aliases[l]||[]).includes(A.join("."))||St(N,A,O)}),D(l,u.normalize)&&!D(l,u.arrays)&&[l].concat(u.aliases[l]||[]).forEach(function(A){Object.defineProperty(B,A,{enumerable:!0,get(){return h},set(F){h=typeof F=="string"?Pt.normalize(F):F}})})}function j(l,h){u.aliases[l]&&u.aliases[l].length||(u.aliases[l]=[h],w[h]=!0),u.aliases[h]&&u.aliases[h].length||j(h,l)}function x(l,h,_){_&&(h=Yi(h)),(D(l,u.bools)||D(l,u.counts))&&typeof h=="string"&&(h=h==="true");let O=Array.isArray(h)?h.map(function(c){return S(l,c)}):S(l,h);return D(l,u.counts)&&(_t(O)||typeof O=="boolean")&&(O=Te()),D(l,u.normalize)&&D(l,u.arrays)&&(Array.isArray(h)?O=h.map(c=>Pt.normalize(c)):O=Pt.normalize(h)),O}function S(l,h){return!f["parse-positional-numbers"]&&l==="_"||!D(l,u.strings)&&!D(l,u.bools)&&!Array.isArray(h)&&(we(h)&&f["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${h}`)))||!_t(h)&&D(l,u.numbers))&&(h=Number(h)),h}function I(l){let h=Object.create(null);X(h,u.aliases,b),Object.keys(u.configs).forEach(function(_){let O=l[_]||h[_];if(O)try{let c=null,M=Pt.resolve(Pt.cwd(),O),A=u.configs[_];if(typeof A=="function"){try{c=A(M)}catch(F){c=F}if(c instanceof Error){T=c;return}}else c=Pt.require(M);G(c)}catch(c){c.name==="PermissionDenied"?T=c:l[_]&&(T=Error(y("Invalid JSON config file: %s",O)))}})}function G(l,h){Object.keys(l).forEach(function(_){let O=l[_],c=h?h+"."+_:_;typeof O=="object"&&O!==null&&!Array.isArray(O)&&f["dot-notation"]?G(O,c):(!Et(N,c.split("."))||D(c,u.arrays)&&f["combine-arrays"])&&U(c,O)})}function rt(){typeof m<"u"&&m.forEach(function(l){G(l)})}function q(l,h){if(typeof p>"u")return;let _=typeof p=="string"?p:"",O=Pt.env();Object.keys(O).forEach(function(c){if(_===""||c.lastIndexOf(_,0)===0){let M=c.split("__").map(function(A,F){return F===0&&(A=A.substring(_.length)),Dt(A)});(h&&u.configs[M.join(".")]||!h)&&!Et(l,M)&&U(M.join("."),O[c])}})}function ot(l){let h,_=new Set;Object.keys(l).forEach(function(O){if(!_.has(O)&&(h=D(O,u.coercions),typeof h=="function"))try{let c=S(O,h(l[O]));[].concat(u.aliases[O]||[],O).forEach(M=>{_.add(M),l[M]=c})}catch(c){T=c}})}function Wt(l){return u.keys.forEach(h=>{~h.indexOf(".")||typeof l[h]>"u"&&(l[h]=void 0)}),l}function X(l,h,_,O=!1){Object.keys(_).forEach(function(c){Et(l,c.split("."))||(St(l,c.split("."),_[c]),O&&(C[c]=!0),(h[c]||[]).forEach(function(M){Et(l,M.split("."))||St(l,M.split("."),_[c])}))})}function Et(l,h){let _=l;f["dot-notation"]||(h=[h.join(".")]),h.slice(0,-1).forEach(function(c){_=_[c]||{}});let O=h[h.length-1];return typeof _!="object"?!1:O in _}function St(l,h,_){let O=l;f["dot-notation"]||(h=[h.join(".")]),h.slice(0,-1).forEach(function(at){at=En(at),typeof O=="object"&&O[at]===void 0&&(O[at]={}),typeof O[at]!="object"||Array.isArray(O[at])?(Array.isArray(O[at])?O[at].push({}):O[at]=[O[at],{}],O=O[at][O[at].length-1]):O=O[at]});let c=En(h[h.length-1]),M=D(h.join("."),u.arrays),A=Array.isArray(_),F=f["duplicate-arguments-array"];!F&&D(c,u.nargs)&&(F=!0,(!_t(O[c])&&u.nargs[c]===1||Array.isArray(O[c])&&O[c].length===u.nargs[c])&&(O[c]=void 0)),_===Te()?O[c]=Te(O[c]):Array.isArray(O[c])?F&&M&&A?O[c]=f["flatten-duplicate-arrays"]?O[c].concat(_):(Array.isArray(O[c][0])?O[c]:[O[c]]).concat([_]):!F&&!!M==!!A?O[c]=_:O[c]=O[c].concat([_]):O[c]===void 0&&M?O[c]=A?_:[_]:F&&!(O[c]===void 0||D(c,u.counts)||D(c,u.bools))?O[c]=[O[c],_]:O[c]=_}function Nt(...l){l.forEach(function(h){Object.keys(h||{}).forEach(function(_){u.aliases[_]||(u.aliases[_]=[].concat(a[_]||[]),u.aliases[_].concat(_).forEach(function(O){if(/-/.test(O)&&f["camel-case-expansion"]){let c=Dt(O);c!==_&&u.aliases[_].indexOf(c)===-1&&(u.aliases[_].push(c),w[c]=!0)}}),u.aliases[_].concat(_).forEach(function(O){if(O.length>1&&/[A-Z]/.test(O)&&f["camel-case-expansion"]){let c=be(O,"-");c!==_&&u.aliases[_].indexOf(c)===-1&&(u.aliases[_].push(c),w[c]=!0)}}),u.aliases[_].forEach(function(O){u.aliases[O]=[_].concat(u.aliases[_].filter(function(c){return O!==c}))}))})})}function D(l,h){let _=[].concat(u.aliases[l]||[],l),O=Object.keys(h),c=_.find(M=>O.includes(M));return c?h[c]:!1}function De(l){let h=Object.keys(u);return[].concat(h.map(O=>u[O])).some(function(O){return Array.isArray(O)?O.includes(l):O[l]})}function W(l,...h){return[].concat(...h).some(function(O){let c=l.match(O);return c&&De(c[1])})}function Q(l){if(l.match(v)||!l.match(/^-[^-]+/))return!1;let h=!0,_,O=l.slice(1).split("");for(let c=0;c<O.length;c++){if(_=l.slice(c+2),!De(O[c])){h=!1;break}if(O[c+1]&&O[c+1]==="="||_==="-"||/[A-Za-z]/.test(O[c])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(_)||O[c+1]&&O[c+1].match(/\W/))break}return h}function k(l){return f["unknown-options-as-args"]&&Y(l)}function Y(l){return l=l.replace(/^-{3,}/,"--"),l.match(v)||Q(l)?!1:!W(l,/^-+([^=]+?)=[\s\S]*$/,L,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function tt(l){return!D(l,u.bools)&&!D(l,u.counts)&&`${l}`in b?b[l]:it(yt(l))}function it(l){return{[mt.BOOLEAN]:!0,[mt.STRING]:"",[mt.NUMBER]:void 0,[mt.ARRAY]:[]}[l]}function yt(l){let h=mt.BOOLEAN;return D(l,u.strings)?h=mt.STRING:D(l,u.numbers)?h=mt.NUMBER:D(l,u.bools)?h=mt.BOOLEAN:D(l,u.arrays)&&(h=mt.ARRAY),h}function _t(l){return l===void 0}function de(){Object.keys(u.counts).find(l=>D(l,u.arrays)?(T=Error(y("Invalid configuration: %s, opts.count excludes opts.array.",l)),!0):D(l,u.nargs)?(T=Error(y("Invalid configuration: %s, opts.count excludes opts.narg.",l)),!0):!1)}return{aliases:Object.assign({},u.aliases),argv:Object.assign(B,N),configuration:f,defaulted:Object.assign({},C),error:T,newAliases:Object.assign({},w)}}};function Bi(s){let t=[],e=Object.create(null),n=!0;for(Object.keys(s).forEach(function(i){t.push([].concat(s[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let o=i+1;o<t.length;o++)if(t[i].filter(function(f){return t[o].indexOf(f)!==-1}).length){t[i]=t[i].concat(t[o]),t.splice(o,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,f,b){return b.indexOf(a)===f});let o=i.pop();o!==void 0&&typeof o=="string"&&(e[o]=i)}),e}function Te(s){return s!==void 0?s+1:1}function En(s){return s==="__proto__"?"___proto___":s}function Yi(s){return typeof s=="string"&&(s[0]==="'"||s[0]==='"')&&s[s.length-1]===s[0]?s.substring(1,s.length-1):s}var $n=require("fs");var Be,Ye,Ge,Sn=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Pn=(Ye=(Be=process==null?void 0:process.versions)===null||Be===void 0?void 0:Be.node)!==null&&Ye!==void 0?Ye:(Ge=process==null?void 0:process.version)===null||Ge===void 0?void 0:Ge.slice(1);if(Pn&&Number(Pn.match(/^([^.]+)/)[1])<Sn)throw Error(`yargs parser supports a minimum Node.js version of ${Sn}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Gi=process?process.env:{},In=new Oe({cwd:process.cwd,env:()=>Gi,format:Mn.format,normalize:ye.normalize,resolve:ye.resolve,require:s=>{if(typeof require<"u")return require(s);if(s.match(/\.json$/))return JSON.parse((0,$n.readFileSync)(s,"utf8"));throw Error("only .json config files are supported in ESM")}}),se=function(t,e){return In.parse(t.slice(),e).argv};se.detailed=function(s,t){return In.parse(s.slice(),t)};se.camelCase=Dt;se.decamelize=be;se.looksLikeNumber=we;var qe=se;var xt=require("path");function vn(){return qi()?0:1}function qi(){return Vi()&&!process.defaultApp}function Vi(){return!!process.versions.electron}function Ve(s){return s.slice(vn()+1)}function Fn(){return process.argv[vn()]}var K=class s extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,s)}};var Zt=require("fs"),Ln=require("util"),Wn=require("path"),Nn={fs:{readFileSync:Zt.readFileSync,writeFile:Zt.writeFile},format:Ln.format,resolve:Wn.resolve,exists:s=>{try{return(0,Zt.statSync)(s).isFile()}catch{return!1}}};var Ct,Ke=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let e=t.shift(),n=function(){};return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]=e,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),Ct.format.apply(Ct.format,[this.cache[this.locale][e]||e].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.shift(),i=t.shift(),o=function(){};typeof t[t.length-1]=="function"&&(o=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?e:n;this.cache[this.locale][e]&&(a=this.cache[this.locale][e][i===1?"one":"other"]),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]={one:e,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:o})):o();let f=[a];return~a.indexOf("%d")&&f.push(i),Ct.format.apply(Ct.format,f.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.cache[this.locale][e]=t[e])}_taggedLiteral(t,...e){let n="";return t.forEach(function(i,o){let a=e[o+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(e,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,e=this.writeQueue[0],n=e.directory,i=e.locale,o=e.cb,a=this._resolveLocaleFile(n,i),f=JSON.stringify(this.cache[i],null,2);Ct.fs.writeFile(a,f,"utf-8",function(b){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),o(b)})}_readLocaleFile(){let t={},e=this._resolveLocaleFile(this.directory,this.locale);try{Ct.fs.readFileSync&&(t=JSON.parse(Ct.fs.readFileSync(e,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+e),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,e){let n=Ct.resolve(t,"./",e+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~e.lastIndexOf("_")){let i=Ct.resolve(t,"./",e.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return Ct.exists(t)}};function Dn(s,t){Ct=t;let e=new Ke(s);return{__:e.__.bind(e),__n:e.__n.bind(e),setLocale:e.setLocale.bind(e),getLocale:e.getLocale.bind(e),updateLocale:e.updateLocale.bind(e),locale:e.locale}}var Ki=s=>Dn(s,Nn),zn=Ki;var Zi={},Ji="require is not supported by ESM",Rn="loading a directory of commands is not supported yet for ESM",re;try{re=(0,Tn.fileURLToPath)(Zi.url)}catch{re=process.cwd()}var Qi=re.substring(0,re.lastIndexOf("node_modules")),Je={assert:{notStrictEqual:_e.notStrictEqual,strictEqual:_e.strictEqual},cliui:He,findUp:jn,getEnv:s=>process.env[s],inspect:Un.inspect,getCallerFile:()=>{throw new K(Rn)},getProcessArgvBin:Fn,mainFilename:Qi||process.cwd(),Parser:qe,path:{basename:xt.basename,dirname:xt.dirname,extname:xt.extname,relative:xt.relative,resolve:xt.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(s,t)=>process.emitWarning(s,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:Hn.readFileSync,require:()=>{throw new K(Ji)},requireDirectory:()=>{throw new K(Rn)},stringWidth:s=>[...s].length,y18n:zn({directory:(0,xt.resolve)(re,"../../../locales"),updateFiles:!1})};function ct(s,t,e,n){e.assert.notStrictEqual(s,t,n)}function Qe(s,t){t.assert.strictEqual(typeof s,"string")}function Xt(s){return Object.keys(s)}function J(s){return!!s&&!!s.then&&typeof s.then=="function"}function Mt(s){let e=s.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=e.shift();if(!i)throw new Error(`No command found in: ${s}`);let o={cmd:i.replace(n,""),demanded:[],optional:[]};return e.forEach((a,f)=>{let b=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&f===e.length-1&&(b=!0),/^\[/.test(a)?o.optional.push({cmd:a.replace(n,"").split("|"),variadic:b}):o.demanded.push({cmd:a.replace(n,"").split("|"),variadic:b})}),o}var Xi=["first","second","third","fourth","fifth","sixth"];function E(s,t,e){function n(){return typeof s=="object"?[{demanded:[],optional:[]},s,t]:[Mt(`cmd ${s}`),t,e]}try{let i=0,[o,a,f]=n(),b=[].slice.call(a);for(;b.length&&b[b.length-1]===void 0;)b.pop();let m=f||b.length;if(m<o.demanded.length)throw new K(`Not enough arguments provided. Expected ${o.demanded.length} but received ${b.length}.`);let p=o.demanded.length+o.optional.length;if(m>p)throw new K(`Too many arguments provided. Expected max ${p} but received ${m}.`);o.demanded.forEach(d=>{let g=b.shift(),w=Bn(g);d.cmd.filter(y=>y===w||y==="*").length===0&&Yn(w,d.cmd,i),i+=1}),o.optional.forEach(d=>{if(b.length===0)return;let g=b.shift(),w=Bn(g);d.cmd.filter(y=>y===w||y==="*").length===0&&Yn(w,d.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}function Bn(s){return Array.isArray(s)?"array":s===null?"null":typeof s}function Yn(s,t,e){throw new K(`Invalid ${Xi[e]||"manyith"} argument. Expected ${t.join(" or ")} but received ${s}.`)}var Ce=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,e,n=!0,i=!1){if(E("<array|function> [boolean] [boolean] [boolean]",[t,e,n],arguments.length),Array.isArray(t)){for(let o=0;o<t.length;o++){if(typeof t[o]!="function")throw Error("middleware must be a function");let a=t[o];a.applyBeforeValidation=e,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let o=t;o.applyBeforeValidation=e,o.global=n,o.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,e){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let o=[...n[e]||[],e];return i.option?!o.includes(i.option):!0}),t.option=e,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function Gn(s){return s?s.map(t=>(t.applyBeforeValidation=!1,t)):[]}function zt(s,t,e,n){return e.reduce((i,o)=>{if(o.applyBeforeValidation!==n)return i;if(o.mutates){if(o.applied)return i;o.applied=!0}if(J(i))return i.then(a=>Promise.all([a,o(a,t)])).then(([a,f])=>Object.assign(a,f));{let a=o(i,t);return J(a)?a.then(f=>Object.assign(i,f)):Object.assign(i,a)}},s)}function Rt(s,t,e=n=>{throw n}){try{let n=ki(s)?s():s;return J(n)?n.then(i=>t(i)):t(n)}catch(n){return e(n)}}function ki(s){return typeof s=="function"}function Ze(s){if(typeof require>"u")return null;for(let t=0,e=Object.keys(require.cache),n;t<e.length;t++)if(n=require.cache[e[t]],n.exports===s)return n;return null}var kt=/(^\*)|(^\$0)/,Xe=class{constructor(t,e,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=e}addDirectory(t,e,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let o=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,f,b)=>{let m=o(a,f,b);if(m){if(this.requireCache.has(f))return m;this.requireCache.add(f),this.addHandler(m)}return m},this.shim.requireDirectory({require:e,filename:n},t,i)}addHandler(t,e,n,i,o,a){let f=[],b=Gn(o);if(i=i||(()=>{}),Array.isArray(t))if(ts(t))[t,...f]=t;else for(let m of t)this.addHandler(m);else if(ns(t)){let m=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(m=[].concat(m).concat(t.aliases)),this.addHandler(m,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(qn(n)){this.addHandler([t].concat(f),e,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let m=Mt(t);f=f.map(g=>Mt(g).cmd);let p=!1,d=[m.cmd].concat(f).filter(g=>kt.test(g)?(p=!0,!1):!0);d.length===0&&p&&d.push("$0"),p&&(m.cmd=d[0],f=d.slice(1),t=t.replace(kt,m.cmd)),f.forEach(g=>{this.aliasMap[g]=m.cmd}),e!==!1&&this.usage.command(t,e,p,f,a),this.handlers[m.cmd]={original:t,description:e,handler:i,builder:n||{},middlewares:b,deprecated:a,demanded:m.demanded,optional:m.optional},p&&(this.defaultCommand=this.handlers[m.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,e,n,i,o,a){let f=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,b=e.getInternalMethods().getContext(),m=b.commands.slice(),p=!t;t&&(b.commands.push(t),b.fullCommands.push(f.original));let d=this.applyBuilderUpdateUsageAndParse(p,f,e,n.aliases,m,i,o,a);return J(d)?d.then(g=>this.applyMiddlewareAndGetResult(p,f,g.innerArgv,b,o,g.aliases,e)):this.applyMiddlewareAndGetResult(p,f,d.innerArgv,b,o,d.aliases,e)}applyBuilderUpdateUsageAndParse(t,e,n,i,o,a,f,b){let m=e.builder,p=n;if(xe(m)){n.getInternalMethods().getUsageInstance().freeze();let d=m(n.getInternalMethods().reset(i),b);if(J(d))return d.then(g=>(p=Kn(g)?g:n,this.parseAndUpdateUsage(t,e,p,o,a,f)))}else es(m)&&(n.getInternalMethods().getUsageInstance().freeze(),p=n.getInternalMethods().reset(i),Object.keys(e.builder).forEach(d=>{p.option(d,m[d])}));return this.parseAndUpdateUsage(t,e,p,o,a,f)}parseAndUpdateUsage(t,e,n,i,o,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,e),e.description);let f=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,o,a);return J(f)?f.then(b=>({aliases:n.parsed.aliases,innerArgv:b})):{aliases:n.parsed.aliases,innerArgv:f}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,e){let n=kt.test(e.original)?e.original.replace(kt,"").trim():e.original,i=t.filter(o=>!kt.test(o));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,e,n,i,o,a,f,b){if(!a.getInternalMethods().getHasOutput()){let m=a.getInternalMethods().runValidation(o,b,a.parsed.error,t);n=Rt(n,p=>(m(p),p))}if(e.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let m=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,m,!1,!1),n=zt(n,a,f,!1),n=Rt(n,p=>{let d=e.handler(p);return J(d)?d.then(()=>p):p}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),J(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(p=>{try{a.getInternalMethods().getUsageInstance().fail(null,p)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,e,n,i,o,a,f){let b={};if(o)return n;f.getInternalMethods().getHasOutput()||(b=this.populatePositionals(e,n,i,f));let m=this.globalMiddleware.getMiddleware().slice(0).concat(e.middlewares),p=zt(n,f,m,!0);return J(p)?p.then(d=>this.handleValidationAndGetResult(t,e,d,i,a,f,m,b)):this.handleValidationAndGetResult(t,e,p,i,a,f,m,b)}populatePositionals(t,e,n,i){e._=e._.slice(n.commands.length);let o=t.demanded.slice(0),a=t.optional.slice(0),f={};for(this.validation.positionalCount(o.length,e._.length);o.length;){let b=o.shift();this.populatePositional(b,e,f)}for(;a.length;){let b=a.shift();this.populatePositional(b,e,f)}return e._=n.commands.concat(e._.map(b=>""+b)),this.postProcessPositionals(e,f,this.cmdToParseOptions(t.original),i),f}populatePositional(t,e,n){let i=t.cmd[0];t.variadic?n[i]=e._.splice(0).map(String):e._.length&&(n[i]=[String(e._.shift())])}cmdToParseOptions(t){let e={array:[],default:{},alias:{},demand:{}},n=Mt(t);return n.demanded.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(e.array.push(o),e.default[o]=[]),e.alias[o]=a,e.demand[o]=!0}),n.optional.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(e.array.push(o),e.default[o]=[]),e.alias[o]=a}),e}postProcessPositionals(t,e,n,i){let o=Object.assign({},i.getOptions());o.default=Object.assign(n.default,o.default);for(let m of Object.keys(n.alias))o.alias[m]=(o.alias[m]||[]).concat(n.alias[m]);o.array=o.array.concat(n.array),o.config={};let a=[];if(Object.keys(e).forEach(m=>{e[m].map(p=>{o.configuration["unknown-options-as-args"]&&(o.key[m]=!0),a.push(`--${m}`),a.push(p)})}),!a.length)return;let f=Object.assign({},o.configuration,{"populate--":!1}),b=this.shim.Parser.detailed(a,Object.assign({},o,{configuration:f}));if(b.error)i.getInternalMethods().getUsageInstance().fail(b.error.message,b.error);else{let m=Object.keys(e);Object.keys(e).forEach(p=>{m.push(...b.aliases[p])}),Object.keys(b.argv).forEach(p=>{m.includes(p)&&(e[p]||(e[p]=b.argv[p]),!this.isInConfigs(i,p)&&!this.isDefaulted(i,p)&&Object.prototype.hasOwnProperty.call(t,p)&&Object.prototype.hasOwnProperty.call(b.argv,p)&&(Array.isArray(t[p])||Array.isArray(b.argv[p]))?t[p]=[].concat(t[p],b.argv[p]):t[p]=b.argv[p])})}}isDefaulted(t,e){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,e)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(e))}isInConfigs(t,e){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,e))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(e)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=kt.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let e=this.defaultCommand.builder;if(xe(e))return e(t,!0);qn(e)||Object.keys(e).forEach(n=>{t.option(n,e[n])})}moduleName(t){let e=Ze(t);if(!e)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(e.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:e,desc:n}){for(let i of[t,e,n]){if(typeof i=="string"||i===!1)return i;ct(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();ct(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function Vn(s,t,e,n){return new Xe(s,t,e,n)}function qn(s){return typeof s=="object"&&!!s.builder&&typeof s.handler=="function"}function ts(s){return s.every(t=>typeof t=="string")}function xe(s){return typeof s=="function"}function es(s){return typeof s=="object"}function ns(s){return typeof s=="object"&&!Array.isArray(s)}function $t(s={},t=()=>!0){let e={};return Xt(s).forEach(n=>{t(n,s[n])&&(e[n]=s[n])}),e}function It(s){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let e=t;e._handle&&e.isTTY&&typeof e._handle.setBlocking=="function"&&e._handle.setBlocking(s)})}function is(s){return typeof s=="boolean"}function Qn(s,t){let e=t.y18n.__,n={},i=[];n.failFn=function(x){i.push(x)};let o=null,a=null,f=!0;n.showHelpOnFail=function(x=!0,S){let[I,G]=typeof x=="string"?[!0,x]:[x,S];return s.getInternalMethods().isGlobalContext()&&(a=G),o=G,f=I,n};let b=!1;n.fail=function(x,S){let I=s.getInternalMethods().getLoggerInstance();if(i.length)for(let G=i.length-1;G>=0;--G){let rt=i[G];if(is(rt)){if(S)throw S;if(x)throw Error(x)}else rt(x,S,n)}else{if(s.getExitProcess()&&It(!0),!b){b=!0,f&&(s.showHelp("error"),I.error()),(x||S)&&I.error(x||S);let G=o||a;G&&((x||S)&&I.error(""),I.error(G))}if(S=S||new K(x),s.getExitProcess())return s.exit(1);if(s.getInternalMethods().hasParseCallback())return s.exit(1,S);throw S}};let m=[],p=!1;n.usage=(j,x)=>j===null?(p=!0,m=[],n):(p=!1,m.push([j,x||""]),n),n.getUsage=()=>m,n.getUsageDisabled=()=>p,n.getPositionalGroupName=()=>e("Positionals:");let d=[];n.example=(j,x)=>{d.push([j,x||""])};let g=[];n.command=function(x,S,I,G,rt=!1){I&&(g=g.map(q=>(q[2]=!1,q))),g.push([x,S||"",I,G,rt])},n.getCommands=()=>g;let w={};n.describe=function(x,S){Array.isArray(x)?x.forEach(I=>{n.describe(I,S)}):typeof x=="object"?Object.keys(x).forEach(I=>{n.describe(I,x[I])}):w[x]=S},n.getDescriptions=()=>w;let C=[];n.epilog=j=>{C.push(j)};let y=!1,u;n.wrap=j=>{y=!0,u=j},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(y||(u=nt(),y=!0),u);let v="__yargsString__:";n.deferY18nLookup=j=>v+j,n.help=function(){if(R)return R;T();let x=s.customScriptName?s.$0:t.path.basename(s.$0),S=s.getDemandedOptions(),I=s.getDemandedCommands(),G=s.getDeprecatedOptions(),rt=s.getGroups(),q=s.getOptions(),ot=[];ot=ot.concat(Object.keys(w)),ot=ot.concat(Object.keys(S)),ot=ot.concat(Object.keys(I)),ot=ot.concat(Object.keys(q.default)),ot=ot.filter(B),ot=Object.keys(ot.reduce((W,Q)=>(Q!=="_"&&(W[Q]=!0),W),{}));let Wt=n.getWrap(),X=t.cliui({width:Wt,wrap:!!Wt});if(!p){if(m.length)m.forEach(W=>{X.div({text:`${W[0].replace(/\$0/g,x)}`}),W[1]&&X.div({text:`${W[1]}`,padding:[1,0,0,0]})}),X.div();else if(g.length){let W=null;I._?W=`${x} <${e("command")}>
`:W=`${x} [${e("command")}]
`,X.div(`${W}`)}}if(g.length>1||g.length===1&&!g[0][2]){X.div(e("Commands:"));let W=s.getInternalMethods().getContext(),Q=W.commands.length?`${W.commands.join(" ")} `:"";s.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(g=g.sort((Y,tt)=>Y[0].localeCompare(tt[0])));let k=x?`${x} `:"";g.forEach(Y=>{let tt=`${k}${Q}${Y[0].replace(/^\$0 ?/,"")}`;X.span({text:tt,padding:[0,2,0,2],width:L(g,Wt,`${x}${Q}`)+4},{text:Y[1]});let it=[];Y[2]&&it.push(`[${e("default")}]`),Y[3]&&Y[3].length&&it.push(`[${e("aliases:")} ${Y[3].join(", ")}]`),Y[4]&&(typeof Y[4]=="string"?it.push(`[${e("deprecated: %s",Y[4])}]`):it.push(`[${e("deprecated")}]`)),it.length?X.div({text:it.join(" "),padding:[0,0,0,2],align:"right"}):X.div()}),X.div()}let Et=(Object.keys(q.alias)||[]).concat(Object.keys(s.parsed.newAliases)||[]);ot=ot.filter(W=>!s.parsed.newAliases[W]&&Et.every(Q=>(q.alias[Q]||[]).indexOf(W)===-1));let St=e("Options:");rt[St]||(rt[St]=[]),N(ot,q.alias,rt,St);let Nt=W=>/^--/.test(je(W)),D=Object.keys(rt).filter(W=>rt[W].length>0).map(W=>{let Q=rt[W].filter(B).map(k=>{if(Et.includes(k))return k;for(let Y=0,tt;(tt=Et[Y])!==void 0;Y++)if((q.alias[tt]||[]).includes(k))return tt;return k});return{groupName:W,normalizedKeys:Q}}).filter(({normalizedKeys:W})=>W.length>0).map(({groupName:W,normalizedKeys:Q})=>{let k=Q.reduce((Y,tt)=>(Y[tt]=[tt].concat(q.alias[tt]||[]).map(it=>W===n.getPositionalGroupName()?it:(/^[0-9]$/.test(it)?q.boolean.includes(tt)?"-":"--":it.length>1?"--":"-")+it).sort((it,yt)=>Nt(it)===Nt(yt)?0:Nt(it)?1:-1).join(", "),Y),{});return{groupName:W,normalizedKeys:Q,switches:k}});if(D.filter(({groupName:W})=>W!==n.getPositionalGroupName()).some(({normalizedKeys:W,switches:Q})=>!W.every(k=>Nt(Q[k])))&&D.filter(({groupName:W})=>W!==n.getPositionalGroupName()).forEach(({normalizedKeys:W,switches:Q})=>{W.forEach(k=>{Nt(Q[k])&&(Q[k]=ss(Q[k],4))})}),D.forEach(({groupName:W,normalizedKeys:Q,switches:k})=>{X.div(W),Q.forEach(Y=>{let tt=k[Y],it=w[Y]||"",yt=null;it.includes(v)&&(it=e(it.substring(v.length))),q.boolean.includes(Y)&&(yt=`[${e("boolean")}]`),q.count.includes(Y)&&(yt=`[${e("count")}]`),q.string.includes(Y)&&(yt=`[${e("string")}]`),q.normalize.includes(Y)&&(yt=`[${e("string")}]`),q.array.includes(Y)&&(yt=`[${e("array")}]`),q.number.includes(Y)&&(yt=`[${e("number")}]`);let _t=h=>typeof h=="string"?`[${e("deprecated: %s",h)}]`:`[${e("deprecated")}]`,de=[Y in G?_t(G[Y]):null,yt,Y in S?`[${e("required")}]`:null,q.choices&&q.choices[Y]?`[${e("choices:")} ${n.stringifiedValues(q.choices[Y])}]`:null,V(q.default[Y],q.defaultDescription[Y])].filter(Boolean).join(" ");X.span({text:je(tt),padding:[0,2,0,2+Jn(tt)],width:L(k,Wt)+4},it);let l=s.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;de&&!l?X.div({text:de,padding:[0,0,0,2],align:"right"}):X.div()}),X.div()}),d.length&&(X.div(e("Examples:")),d.forEach(W=>{W[0]=W[0].replace(/\$0/g,x)}),d.forEach(W=>{W[1]===""?X.div({text:W[0],padding:[0,2,0,2]}):X.div({text:W[0],padding:[0,2,0,2],width:L(d,Wt)+4},{text:W[1]})}),X.div()),C.length>0){let W=C.map(Q=>Q.replace(/\$0/g,x)).join(`
`);X.div(`${W}
`)}return X.toString().replace(/\s*$/,"")};function L(j,x,S){let I=0;return Array.isArray(j)||(j=Object.values(j).map(G=>[G])),j.forEach(G=>{I=Math.max(t.stringWidth(S?`${S} ${je(G[0])}`:je(G[0]))+Jn(G[0]),I)}),x&&(I=Math.min(I,parseInt((x*.5).toString(),10))),I}function T(){let j=s.getDemandedOptions(),x=s.getOptions();(Object.keys(x.alias)||[]).forEach(S=>{x.alias[S].forEach(I=>{w[I]&&n.describe(S,w[I]),I in j&&s.demandOption(S,j[I]),x.boolean.includes(I)&&s.boolean(S),x.count.includes(I)&&s.count(S),x.string.includes(I)&&s.string(S),x.normalize.includes(I)&&s.normalize(S),x.array.includes(I)&&s.array(S),x.number.includes(I)&&s.number(S)})})}let R;n.cacheHelpMessage=function(){R=this.help()},n.clearCachedHelpMessage=function(){R=void 0},n.hasCachedHelpMessage=function(){return!!R};function N(j,x,S,I){let G=[],rt=null;return Object.keys(S).forEach(q=>{G=G.concat(S[q])}),j.forEach(q=>{rt=[q].concat(x[q]),rt.some(ot=>G.indexOf(ot)!==-1)||S[I].push(q)}),G}function B(j){return s.getOptions().hiddenOptions.indexOf(j)<0||s.parsed.argv[s.getOptions().showHiddenOpt]}n.showHelp=j=>{let x=s.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:x[j])(n.help())},n.functionDescription=j=>["(",j.name?t.Parser.decamelize(j.name,"-"):e("generated-value"),")"].join(""),n.stringifiedValues=function(x,S){let I="",G=S||", ",rt=[].concat(x);return!x||!rt.length||rt.forEach(q=>{I.length&&(I+=G),I+=JSON.stringify(q)}),I};function V(j,x){let S=`[${e("default:")} `;if(j===void 0&&!x)return null;if(x)S+=x;else switch(typeof j){case"string":S+=`"${j}"`;break;case"object":S+=JSON.stringify(j);break;default:S+=j}return`${S}]`}function nt(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let Z=null;n.version=j=>{Z=j},n.showVersion=j=>{let x=s.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:x[j])(Z)},n.reset=function(x){return o=null,b=!1,m=[],p=!1,C=[],d=[],g=[],w=$t(w,S=>!x[S]),n};let U=[];return n.freeze=function(){U.push({failMessage:o,failureOutput:b,usages:m,usageDisabled:p,epilogs:C,examples:d,commands:g,descriptions:w})},n.unfreeze=function(x=!1){let S=U.pop();S&&(x?(w={...S.descriptions,...w},g=[...S.commands,...g],m=[...S.usages,...m],d=[...S.examples,...d],C=[...S.epilogs,...C]):{failMessage:o,failureOutput:b,usages:m,usageDisabled:p,epilogs:C,examples:d,commands:g,descriptions:w}=S)},n}function ke(s){return typeof s=="object"}function ss(s,t){return ke(s)?{text:s.text,indentation:s.indentation+t}:{text:s,indentation:t}}function Jn(s){return ke(s)?s.indentation:0}function je(s){return ke(s)?s.text:s}var Zn=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,Xn=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var tn=class{constructor(t,e,n,i){var o,a,f;this.yargs=t,this.usage=e,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(f=((o=this.shim.getEnv("SHELL"))===null||o===void 0?void 0:o.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&f!==void 0?f:!1}defaultCompletion(t,e,n,i){let o=this.command.getCommandHandlers();for(let f=0,b=t.length;f<b;++f)if(o[t[f]]&&o[t[f]].builder){let m=o[t[f]].builder;if(xe(m)){this.indexAfterLastReset=f+1;let p=this.yargs.getInternalMethods().reset();return m(p,!0),p.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,e,n),this.choicesFromOptionsCompletions(a,t,e,n),this.choicesFromPositionalsCompletions(a,t,e,n),i(null,a)}commandCompletions(t,e,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(e)&&this.usage.getCommands().forEach(o=>{let a=Mt(o[0]).cmd;if(e.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let f=o[1]||"";t.push(a.replace(/:/g,"\\:")+":"+f)}})}optionCompletions(t,e,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(e)){let o=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(o.key).forEach(f=>{let b=!!o.configuration["boolean-negation"]&&o.boolean.includes(f);!a.includes(f)&&!o.hiddenOptions.includes(f)&&!this.argsContainKey(e,f,b)&&this.completeOptionKey(f,t,i,b&&!!o.default[f])})}}choicesFromOptionsCompletions(t,e,n,i){if(this.previousArgHasChoices(e)){let o=this.getPreviousArgChoices(e);o&&o.length>0&&t.push(...o.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,e,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(e))return;let o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),f=o[n._.length-a-1];if(!f)return;let b=this.yargs.getOptions().choices[f]||[];for(let m of b)m.startsWith(i)&&t.push(m.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let e=t[t.length-1],n="";if(!e.startsWith("-")&&t.length>1&&(n=e,e=t[t.length-2]),!e.startsWith("-"))return;let i=e.replace(/^-+/,""),o=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],f;for(let b of a)if(Object.prototype.hasOwnProperty.call(o.key,b)&&Array.isArray(o.choices[b])){f=o.choices[b];break}if(f)return f.filter(b=>!n||b.startsWith(n))}previousArgHasChoices(t){let e=this.getPreviousArgChoices(t);return e!==void 0&&e.length>0}argsContainKey(t,e,n){let i=o=>t.indexOf((/^[^0-9]$/.test(o)?"-":"--")+o)!==-1;if(i(e)||n&&i(`no-${e}`))return!0;if(this.aliases){for(let o of this.aliases[e])if(i(o))return!0}return!1}completeOptionKey(t,e,n,i){var o,a,f,b;let m=t;if(this.zshShell){let w=this.usage.getDescriptions(),C=(a=(o=this===null||this===void 0?void 0:this.aliases)===null||o===void 0?void 0:o[t])===null||a===void 0?void 0:a.find(v=>{let L=w[v];return typeof L=="string"&&L.length>0}),y=C?w[C]:void 0,u=(b=(f=w[t])!==null&&f!==void 0?f:y)!==null&&b!==void 0?b:"";m=`${t.replace(/:/g,"\\:")}:${u.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let p=w=>/^--/.test(w),d=w=>/^[^0-9]$/.test(w),g=!p(n)&&d(t)?"-":"--";e.push(g+m),i&&e.push(g+"no-"+m)}customCompletion(t,e,n,i){if(ct(this.customCompletionFunction,null,this.shim),os(this.customCompletionFunction)){let o=this.customCompletionFunction(n,e);return J(o)?o.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,o)}else return as(this.customCompletionFunction)?this.customCompletionFunction(n,e,(o=i)=>this.defaultCompletion(t,e,n,o),o=>{i(null,o)}):this.customCompletionFunction(n,e,o=>{i(null,o)})}getCompletion(t,e){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),o=this.customCompletionFunction?a=>this.customCompletion(t,a,n,e):a=>this.defaultCompletion(t,a,n,e);return J(i)?i.then(o):o(i)}generateCompletionScript(t,e){let n=this.zshShell?Xn:Zn,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,e),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function kn(s,t,e,n){return new tn(s,t,e,n)}function os(s){return s.length<3}function as(s){return s.length>3}function ti(s,t){if(s.length===0)return t.length;if(t.length===0)return s.length;let e=[],n;for(n=0;n<=t.length;n++)e[n]=[n];let i;for(i=0;i<=s.length;i++)e[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=s.length;i++)t.charAt(n-1)===s.charAt(i-1)?e[n][i]=e[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===s.charAt(i-1)&&t.charAt(n-1)===s.charAt(i-2)?e[n][i]=e[n-2][i-2]+1:e[n][i]=Math.min(e[n-1][i-1]+1,Math.min(e[n][i-1]+1,e[n-1][i]+1));return e[t.length][s.length]}var ei=["$0","--","_"];function ni(s,t,e){let n=e.y18n.__,i=e.y18n.__n,o={};o.nonOptionCount=function(d){let g=s.getDemandedCommands(),C=d._.length+(d["--"]?d["--"].length:0)-s.getInternalMethods().getContext().commands.length;g._&&(C<g._.min||C>g._.max)&&(C<g._.min?g._.minMsg!==void 0?t.fail(g._.minMsg?g._.minMsg.replace(/\$0/g,C.toString()).replace(/\$1/,g._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",C,C.toString(),g._.min.toString())):C>g._.max&&(g._.maxMsg!==void 0?t.fail(g._.maxMsg?g._.maxMsg.replace(/\$0/g,C.toString()).replace(/\$1/,g._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",C,C.toString(),g._.max.toString()))))},o.positionalCount=function(d,g){g<d&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g+"",d+""))},o.requiredArguments=function(d,g){let w=null;for(let C of Object.keys(g))(!Object.prototype.hasOwnProperty.call(d,C)||typeof d[C]>"u")&&(w=w||{},w[C]=g[C]);if(w){let C=[];for(let u of Object.keys(w)){let v=w[u];v&&C.indexOf(v)<0&&C.push(v)}let y=C.length?`
${C.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(w).length,Object.keys(w).join(", ")+y))}},o.unknownArguments=function(d,g,w,C,y=!0){var u;let v=s.getInternalMethods().getCommandInstance().getCommands(),L=[],T=s.getInternalMethods().getContext();if(Object.keys(d).forEach(R=>{!ei.includes(R)&&!Object.prototype.hasOwnProperty.call(w,R)&&!Object.prototype.hasOwnProperty.call(s.getInternalMethods().getParseContext(),R)&&!o.isValidAndSomeAliasIsNotNew(R,g)&&L.push(R)}),y&&(T.commands.length>0||v.length>0||C)&&d._.slice(T.commands.length).forEach(R=>{v.includes(""+R)||L.push(""+R)}),y){let N=((u=s.getDemandedCommands()._)===null||u===void 0?void 0:u.max)||0,B=T.commands.length+N;B<d._.length&&d._.slice(B).forEach(V=>{V=String(V),!T.commands.includes(V)&&!L.includes(V)&&L.push(V)})}L.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",L.length,L.map(R=>R.trim()?R:`"${R}"`).join(", ")))},o.unknownCommands=function(d){let g=s.getInternalMethods().getCommandInstance().getCommands(),w=[],C=s.getInternalMethods().getContext();return(C.commands.length>0||g.length>0)&&d._.slice(C.commands.length).forEach(y=>{g.includes(""+y)||w.push(""+y)}),w.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",w.length,w.join(", "))),!0):!1},o.isValidAndSomeAliasIsNotNew=function(d,g){if(!Object.prototype.hasOwnProperty.call(g,d))return!1;let w=s.parsed.newAliases;return[d,...g[d]].some(C=>!Object.prototype.hasOwnProperty.call(w,C)||!w[d])},o.limitedChoices=function(d){let g=s.getOptions(),w={};if(!Object.keys(g.choices).length)return;Object.keys(d).forEach(u=>{ei.indexOf(u)===-1&&Object.prototype.hasOwnProperty.call(g.choices,u)&&[].concat(d[u]).forEach(v=>{g.choices[u].indexOf(v)===-1&&v!==void 0&&(w[u]=(w[u]||[]).concat(v))})});let C=Object.keys(w);if(!C.length)return;let y=n("Invalid values:");C.forEach(u=>{y+=`
  ${n("Argument: %s, Given: %s, Choices: %s",u,t.stringifiedValues(w[u]),t.stringifiedValues(g.choices[u]))}`}),t.fail(y)};let a={};o.implies=function(d,g){E("<string|object> [array|number|string]",[d,g],arguments.length),typeof d=="object"?Object.keys(d).forEach(w=>{o.implies(w,d[w])}):(s.global(d),a[d]||(a[d]=[]),Array.isArray(g)?g.forEach(w=>o.implies(d,w)):(ct(g,void 0,e),a[d].push(g)))},o.getImplied=function(){return a};function f(p,d){let g=Number(d);return d=isNaN(g)?d:g,typeof d=="number"?d=p._.length>=d:d.match(/^--no-.+/)?(d=d.match(/^--no-(.+)/)[1],d=!Object.prototype.hasOwnProperty.call(p,d)):d=Object.prototype.hasOwnProperty.call(p,d),d}o.implications=function(d){let g=[];if(Object.keys(a).forEach(w=>{let C=w;(a[w]||[]).forEach(y=>{let u=C,v=y;u=f(d,u),y=f(d,y),u&&!y&&g.push(` ${C} -> ${v}`)})}),g.length){let w=`${n("Implications failed:")}
`;g.forEach(C=>{w+=C}),t.fail(w)}};let b={};o.conflicts=function(d,g){E("<string|object> [array|string]",[d,g],arguments.length),typeof d=="object"?Object.keys(d).forEach(w=>{o.conflicts(w,d[w])}):(s.global(d),b[d]||(b[d]=[]),Array.isArray(g)?g.forEach(w=>o.conflicts(d,w)):b[d].push(g))},o.getConflicting=()=>b,o.conflicting=function(d){Object.keys(d).forEach(g=>{b[g]&&b[g].forEach(w=>{w&&d[g]!==void 0&&d[w]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",g,w))})}),s.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(b).forEach(g=>{b[g].forEach(w=>{w&&d[e.Parser.camelCase(g)]!==void 0&&d[e.Parser.camelCase(w)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",g,w))})})},o.recommendCommands=function(d,g){g=g.sort((u,v)=>v.length-u.length);let C=null,y=1/0;for(let u=0,v;(v=g[u])!==void 0;u++){let L=ti(d,v);L<=3&&L<y&&(y=L,C=v)}C&&t.fail(n("Did you mean %s?",C))},o.reset=function(d){return a=$t(a,g=>!d[g]),b=$t(b,g=>!d[g]),o};let m=[];return o.freeze=function(){m.push({implied:a,conflicting:b})},o.unfreeze=function(){let d=m.pop();ct(d,void 0,e),{implied:a,conflicting:b}=d},o}var en=[],oe;function ae(s,t,e,n){oe=n;let i={};if(Object.prototype.hasOwnProperty.call(s,"extends")){if(typeof s.extends!="string")return i;let o=/\.json|\..*rc$/.test(s.extends),a=null;if(o)a=fs(t,s.extends);else try{a=require.resolve(s.extends)}catch{return s}ls(a),en.push(a),i=o?JSON.parse(oe.readFileSync(a,"utf8")):require(s.extends),delete s.extends,i=ae(i,oe.path.dirname(a),e,oe)}return en=[],e?ii(i,s):Object.assign({},i,s)}function ls(s){if(en.indexOf(s)>-1)throw new K(`Circular extended configurations: '${s}'.`)}function fs(s,t){return oe.path.resolve(s,t)}function ii(s,t){let e={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(e,s);for(let i of Object.keys(t))n(t[i])&&n(e[i])?e[i]=ii(s[i],t[i]):e[i]=t[i];return e}var P=function(s,t,e,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!i:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(s,e):i?i.value=e:t.set(s,e),e},r=function(s,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!n:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(s):n?n.value:t.get(s)},st,Ut,le,gt,ut,Ae,vt,Ht,Ee,bt,Se,wt,jt,dt,Ot,Pe,te,lt,$,Me,$e,pt,Tt,ee,Bt,Ft,Ie,z,Yt,Gt,qt,H,ve,At,et;function xi(s){return(t=[],e=s.process.cwd(),n)=>{let i=new dn(t,e,n,s);return Object.defineProperty(i,"argv",{get:()=>i.parse(),enumerable:!0}),i.help(),i.version(),i}}var si=Symbol("copyDoubleDash"),ri=Symbol("copyDoubleDash"),nn=Symbol("deleteFromParserHintObject"),oi=Symbol("emitWarning"),ai=Symbol("freeze"),li=Symbol("getDollarZero"),Vt=Symbol("getParserConfiguration"),fi=Symbol("getUsageConfiguration"),sn=Symbol("guessLocale"),ci=Symbol("guessVersion"),hi=Symbol("parsePositionalNumbers"),rn=Symbol("pkgUp"),Lt=Symbol("populateParserHintArray"),ne=Symbol("populateParserHintSingleValueDictionary"),on=Symbol("populateParserHintArrayDictionary"),an=Symbol("populateParserHintDictionary"),ln=Symbol("sanitizeKey"),fn=Symbol("setKey"),cn=Symbol("unfreeze"),ui=Symbol("validateAsync"),di=Symbol("getCommandInstance"),pi=Symbol("getContext"),mi=Symbol("getHasOutput"),gi=Symbol("getLoggerInstance"),bi=Symbol("getParseContext"),wi=Symbol("getUsageInstance"),Oi=Symbol("getValidationInstance"),Fe=Symbol("hasParseCallback"),yi=Symbol("isGlobalContext"),Kt=Symbol("postProcess"),_i=Symbol("rebase"),hn=Symbol("reset"),fe=Symbol("runYargsParserAndExecuteCommands"),un=Symbol("runValidation"),Ci=Symbol("setHasOutput"),Jt=Symbol("kTrackManuallySetKeys"),dn=class{constructor(t=[],e,n,i){this.customScriptName=!1,this.parsed=!1,st.set(this,void 0),Ut.set(this,void 0),le.set(this,{commands:[],fullCommands:[]}),gt.set(this,null),ut.set(this,null),Ae.set(this,"show-hidden"),vt.set(this,null),Ht.set(this,!0),Ee.set(this,{}),bt.set(this,!0),Se.set(this,[]),wt.set(this,void 0),jt.set(this,{}),dt.set(this,!1),Ot.set(this,null),Pe.set(this,!0),te.set(this,void 0),lt.set(this,""),$.set(this,void 0),Me.set(this,void 0),$e.set(this,{}),pt.set(this,null),Tt.set(this,null),ee.set(this,{}),Bt.set(this,{}),Ft.set(this,void 0),Ie.set(this,!1),z.set(this,void 0),Yt.set(this,!1),Gt.set(this,!1),qt.set(this,!1),H.set(this,void 0),ve.set(this,{}),At.set(this,null),et.set(this,void 0),P(this,z,i,"f"),P(this,Ft,t,"f"),P(this,Ut,e,"f"),P(this,Me,n,"f"),P(this,wt,new Ce(this),"f"),this.$0=this[li](),this[hn](),P(this,st,r(this,st,"f"),"f"),P(this,H,r(this,H,"f"),"f"),P(this,et,r(this,et,"f"),"f"),P(this,$,r(this,$,"f"),"f"),r(this,$,"f").showHiddenOpt=r(this,Ae,"f"),P(this,te,this[ri](),"f")}addHelpOpt(t,e){let n="help";return E("[string|boolean] [string]",[t,e],arguments.length),r(this,Ot,"f")&&(this[nn](r(this,Ot,"f")),P(this,Ot,null,"f")),t===!1&&e===void 0?this:(P(this,Ot,typeof t=="string"?t:n,"f"),this.boolean(r(this,Ot,"f")),this.describe(r(this,Ot,"f"),e||r(this,H,"f").deferY18nLookup("Show help")),this)}help(t,e){return this.addHelpOpt(t,e)}addShowHiddenOpt(t,e){if(E("[string|boolean] [string]",[t,e],arguments.length),t===!1&&e===void 0)return this;let n=typeof t=="string"?t:r(this,Ae,"f");return this.boolean(n),this.describe(n,e||r(this,H,"f").deferY18nLookup("Show hidden options")),r(this,$,"f").showHiddenOpt=n,this}showHidden(t,e){return this.addShowHiddenOpt(t,e)}alias(t,e){return E("<object|string|array> [string|array]",[t,e],arguments.length),this[on](this.alias.bind(this),"alias",t,e),this}array(t){return E("<array|string>",[t],arguments.length),this[Lt]("array",t),this[Jt](t),this}boolean(t){return E("<array|string>",[t],arguments.length),this[Lt]("boolean",t),this[Jt](t),this}check(t,e){return E("<function> [boolean]",[t,e],arguments.length),this.middleware((n,i)=>Rt(()=>t(n,i.getOptions()),o=>(o?(typeof o=="string"||o instanceof Error)&&r(this,H,"f").fail(o.toString(),o):r(this,H,"f").fail(r(this,z,"f").y18n.__("Argument check failed: %s",t.toString())),n),o=>(r(this,H,"f").fail(o.message?o.message:o.toString(),o),n)),!1,e),this}choices(t,e){return E("<object|string|array> [string|array]",[t,e],arguments.length),this[on](this.choices.bind(this),"choices",t,e),this}coerce(t,e){if(E("<object|string|array> [function]",[t,e],arguments.length),Array.isArray(t)){if(!e)throw new K("coerce callback must be provided");for(let n of t)this.coerce(n,e);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!e)throw new K("coerce callback must be provided");return r(this,$,"f").key[t]=!0,r(this,wt,"f").addCoerceMiddleware((n,i)=>{let o;return Object.prototype.hasOwnProperty.call(n,t)?Rt(()=>(o=i.getAliases(),e(n[t])),f=>{n[t]=f;let b=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(o[t]&&b!==!0)for(let m of o[t])n[m]=f;return n},f=>{throw new K(f.message)}):n},t),this}conflicts(t,e){return E("<string|object> [string|array]",[t,e],arguments.length),r(this,et,"f").conflicts(t,e),this}config(t="config",e,n){return E("[object|string] [string|function] [function]",[t,e,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=ae(t,r(this,Ut,"f"),this[Vt]()["deep-merge-config"]||!1,r(this,z,"f")),r(this,$,"f").configObjects=(r(this,$,"f").configObjects||[]).concat(t),this):(typeof e=="function"&&(n=e,e=void 0),this.describe(t,e||r(this,H,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{r(this,$,"f").config[i]=n||!0}),this)}completion(t,e,n){return E("[string] [string|boolean|function] [function]",[t,e,n],arguments.length),typeof e=="function"&&(n=e,e=void 0),P(this,ut,t||r(this,ut,"f")||"completion","f"),!e&&e!==!1&&(e="generate completion script"),this.command(r(this,ut,"f"),e),n&&r(this,gt,"f").registerFunction(n),this}command(t,e,n,i,o,a){return E("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,e,n,i,o,a],arguments.length),r(this,st,"f").addHandler(t,e,n,i,o,a),this}commands(t,e,n,i,o,a){return this.command(t,e,n,i,o,a)}commandDir(t,e){E("<string> [object]",[t,e],arguments.length);let n=r(this,Me,"f")||r(this,z,"f").require;return r(this,st,"f").addDirectory(t,n,r(this,z,"f").getCallerFile(),e),this}count(t){return E("<array|string>",[t],arguments.length),this[Lt]("count",t),this[Jt](t),this}default(t,e,n){return E("<object|string|array> [*] [string]",[t,e,n],arguments.length),n&&(Qe(t,r(this,z,"f")),r(this,$,"f").defaultDescription[t]=n),typeof e=="function"&&(Qe(t,r(this,z,"f")),r(this,$,"f").defaultDescription[t]||(r(this,$,"f").defaultDescription[t]=r(this,H,"f").functionDescription(e)),e=e.call()),this[ne](this.default.bind(this),"default",t,e),this}defaults(t,e,n){return this.default(t,e,n)}demandCommand(t=1,e,n,i){return E("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,e,n,i],arguments.length),typeof e!="number"&&(n=e,e=1/0),this.global("_",!1),r(this,$,"f").demandedCommands._={min:t,max:e,minMsg:n,maxMsg:i},this}demand(t,e,n){return Array.isArray(e)?(e.forEach(i=>{ct(n,!0,r(this,z,"f")),this.demandOption(i,n)}),e=1/0):typeof e!="number"&&(n=e,e=1/0),typeof t=="number"?(ct(n,!0,r(this,z,"f")),this.demandCommand(t,e,n,n)):Array.isArray(t)?t.forEach(i=>{ct(n,!0,r(this,z,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,e){return E("<object|string|array> [string]",[t,e],arguments.length),this[ne](this.demandOption.bind(this),"demandedOptions",t,e),this}deprecateOption(t,e){return E("<string> [string|boolean]",[t,e],arguments.length),r(this,$,"f").deprecatedOptions[t]=e,this}describe(t,e){return E("<object|string|array> [string]",[t,e],arguments.length),this[fn](t,!0),r(this,H,"f").describe(t,e),this}detectLocale(t){return E("<boolean>",[t],arguments.length),P(this,Ht,t,"f"),this}env(t){return E("[string|boolean]",[t],arguments.length),t===!1?delete r(this,$,"f").envPrefix:r(this,$,"f").envPrefix=t||"",this}epilogue(t){return E("<string>",[t],arguments.length),r(this,H,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,e){return E("<string|array> [string]",[t,e],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):r(this,H,"f").example(t,e),this}exit(t,e){P(this,dt,!0,"f"),P(this,vt,e,"f"),r(this,bt,"f")&&r(this,z,"f").process.exit(t)}exitProcess(t=!0){return E("[boolean]",[t],arguments.length),P(this,bt,t,"f"),this}fail(t){if(E("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new K("Invalid first argument. Expected function or boolean 'false'");return r(this,H,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,e){return E("<array> [function]",[t,e],arguments.length),e?r(this,gt,"f").getCompletion(t,e):new Promise((n,i)=>{r(this,gt,"f").getCompletion(t,(o,a)=>{o?i(o):n(a)})})}getDemandedOptions(){return E([],0),r(this,$,"f").demandedOptions}getDemandedCommands(){return E([],0),r(this,$,"f").demandedCommands}getDeprecatedOptions(){return E([],0),r(this,$,"f").deprecatedOptions}getDetectLocale(){return r(this,Ht,"f")}getExitProcess(){return r(this,bt,"f")}getGroups(){return Object.assign({},r(this,jt,"f"),r(this,Bt,"f"))}getHelp(){if(P(this,dt,!0,"f"),!r(this,H,"f").hasCachedHelpMessage()){if(!this.parsed){let e=this[fe](r(this,Ft,"f"),void 0,void 0,0,!0);if(J(e))return e.then(()=>r(this,H,"f").help())}let t=r(this,st,"f").runDefaultBuilderOn(this);if(J(t))return t.then(()=>r(this,H,"f").help())}return Promise.resolve(r(this,H,"f").help())}getOptions(){return r(this,$,"f")}getStrict(){return r(this,Yt,"f")}getStrictCommands(){return r(this,Gt,"f")}getStrictOptions(){return r(this,qt,"f")}global(t,e){return E("<string|array> [boolean]",[t,e],arguments.length),t=[].concat(t),e!==!1?r(this,$,"f").local=r(this,$,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{r(this,$,"f").local.includes(n)||r(this,$,"f").local.push(n)}),this}group(t,e){E("<string|array> <string>",[t,e],arguments.length);let n=r(this,Bt,"f")[e]||r(this,jt,"f")[e];r(this,Bt,"f")[e]&&delete r(this,Bt,"f")[e];let i={};return r(this,jt,"f")[e]=(n||[]).concat(t).filter(o=>i[o]?!1:i[o]=!0),this}hide(t){return E("<string>",[t],arguments.length),r(this,$,"f").hiddenOptions.push(t),this}implies(t,e){return E("<string|object> [number|string|array]",[t,e],arguments.length),r(this,et,"f").implies(t,e),this}locale(t){return E("[string]",[t],arguments.length),t===void 0?(this[sn](),r(this,z,"f").y18n.getLocale()):(P(this,Ht,!1,"f"),r(this,z,"f").y18n.setLocale(t),this)}middleware(t,e,n){return r(this,wt,"f").addMiddleware(t,!!e,n)}nargs(t,e){return E("<string|object|array> [number]",[t,e],arguments.length),this[ne](this.nargs.bind(this),"narg",t,e),this}normalize(t){return E("<array|string>",[t],arguments.length),this[Lt]("normalize",t),this}number(t){return E("<array|string>",[t],arguments.length),this[Lt]("number",t),this[Jt](t),this}option(t,e){if(E("<string|object> [object]",[t,e],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof e!="object"&&(e={}),this[Jt](t),r(this,At,"f")&&(t==="version"||e?.alias==="version")&&this[oi](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),r(this,$,"f").key[t]=!0,e.alias&&this.alias(t,e.alias);let n=e.deprecate||e.deprecated;n&&this.deprecateOption(t,n);let i=e.demand||e.required||e.require;i&&this.demand(t,i),e.demandOption&&this.demandOption(t,typeof e.demandOption=="string"?e.demandOption:void 0),e.conflicts&&this.conflicts(t,e.conflicts),"default"in e&&this.default(t,e.default),e.implies!==void 0&&this.implies(t,e.implies),e.nargs!==void 0&&this.nargs(t,e.nargs),e.config&&this.config(t,e.configParser),e.normalize&&this.normalize(t),e.choices&&this.choices(t,e.choices),e.coerce&&this.coerce(t,e.coerce),e.group&&this.group(t,e.group),(e.boolean||e.type==="boolean")&&(this.boolean(t),e.alias&&this.boolean(e.alias)),(e.array||e.type==="array")&&(this.array(t),e.alias&&this.array(e.alias)),(e.number||e.type==="number")&&(this.number(t),e.alias&&this.number(e.alias)),(e.string||e.type==="string")&&(this.string(t),e.alias&&this.string(e.alias)),(e.count||e.type==="count")&&this.count(t),typeof e.global=="boolean"&&this.global(t,e.global),e.defaultDescription&&(r(this,$,"f").defaultDescription[t]=e.defaultDescription),e.skipValidation&&this.skipValidation(t);let o=e.describe||e.description||e.desc,a=r(this,H,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof o=="string")&&this.describe(t,o),e.hidden&&this.hide(t),e.requiresArg&&this.requiresArg(t)}return this}options(t,e){return this.option(t,e)}parse(t,e,n){E("[string|array] [function|boolean|object] [function]",[t,e,n],arguments.length),this[ai](),typeof t>"u"&&(t=r(this,Ft,"f")),typeof e=="object"&&(P(this,Tt,e,"f"),e=n),typeof e=="function"&&(P(this,pt,e,"f"),e=!1),e||P(this,Ft,t,"f"),r(this,pt,"f")&&P(this,bt,!1,"f");let i=this[fe](t,!!e),o=this.parsed;return r(this,gt,"f").setParsed(this.parsed),J(i)?i.then(a=>(r(this,pt,"f")&&r(this,pt,"f").call(this,r(this,vt,"f"),a,r(this,lt,"f")),a)).catch(a=>{throw r(this,pt,"f")&&r(this,pt,"f")(a,this.parsed.argv,r(this,lt,"f")),a}).finally(()=>{this[cn](),this.parsed=o}):(r(this,pt,"f")&&r(this,pt,"f").call(this,r(this,vt,"f"),i,r(this,lt,"f")),this[cn](),this.parsed=o,i)}parseAsync(t,e,n){let i=this.parse(t,e,n);return J(i)?i:Promise.resolve(i)}parseSync(t,e,n){let i=this.parse(t,e,n);if(J(i))throw new K(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return E("<object>",[t],arguments.length),P(this,$e,t,"f"),this}pkgConf(t,e){E("<string> [string]",[t,e],arguments.length);let n=null,i=this[rn](e||r(this,Ut,"f"));return i[t]&&typeof i[t]=="object"&&(n=ae(i[t],e||r(this,Ut,"f"),this[Vt]()["deep-merge-config"]||!1,r(this,z,"f")),r(this,$,"f").configObjects=(r(this,$,"f").configObjects||[]).concat(n)),this}positional(t,e){E("<string> <object>",[t,e],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];e=$t(e,(a,f)=>a==="type"&&!["string","number","boolean"].includes(f)?!1:n.includes(a));let i=r(this,le,"f").fullCommands[r(this,le,"f").fullCommands.length-1],o=i?r(this,st,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Xt(o).forEach(a=>{let f=o[a];Array.isArray(f)?f.indexOf(t)!==-1&&(e[a]=!0):f[t]&&!(a in e)&&(e[a]=f[t])}),this.group(t,r(this,H,"f").getPositionalGroupName()),this.option(t,e)}recommendCommands(t=!0){return E("[boolean]",[t],arguments.length),P(this,Ie,t,"f"),this}required(t,e,n){return this.demand(t,e,n)}require(t,e,n){return this.demand(t,e,n)}requiresArg(t){return E("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&r(this,$,"f").narg[t]?this:(this[ne](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,e){return E("[string] [string]",[t,e],arguments.length),t=t||this.$0,r(this,te,"f").log(r(this,gt,"f").generateCompletionScript(t,e||r(this,ut,"f")||"completion")),this}showHelp(t){if(E("[string|function]",[t],arguments.length),P(this,dt,!0,"f"),!r(this,H,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[fe](r(this,Ft,"f"),void 0,void 0,0,!0);if(J(n))return n.then(()=>{r(this,H,"f").showHelp(t)}),this}let e=r(this,st,"f").runDefaultBuilderOn(this);if(J(e))return e.then(()=>{r(this,H,"f").showHelp(t)}),this}return r(this,H,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,e){return E("[boolean|string] [string]",[t,e],arguments.length),r(this,H,"f").showHelpOnFail(t,e),this}showVersion(t){return E("[string|function]",[t],arguments.length),r(this,H,"f").showVersion(t),this}skipValidation(t){return E("<array|string>",[t],arguments.length),this[Lt]("skipValidation",t),this}strict(t){return E("[boolean]",[t],arguments.length),P(this,Yt,t!==!1,"f"),this}strictCommands(t){return E("[boolean]",[t],arguments.length),P(this,Gt,t!==!1,"f"),this}strictOptions(t){return E("[boolean]",[t],arguments.length),P(this,qt,t!==!1,"f"),this}string(t){return E("<array|string>",[t],arguments.length),this[Lt]("string",t),this[Jt](t),this}terminalWidth(){return E([],0),r(this,z,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return E("<object>",[t],arguments.length),P(this,Ht,!1,"f"),r(this,z,"f").y18n.updateLocale(t),this}usage(t,e,n,i){if(E("<string|null|undefined> [string|boolean] [function|object] [function]",[t,e,n,i],arguments.length),e!==void 0){if(ct(t,null,r(this,z,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,e,n,i);throw new K(".usage() description must start with $0 if being used as alias for .command()")}else return r(this,H,"f").usage(t),this}usageConfiguration(t){return E("<object>",[t],arguments.length),P(this,ve,t,"f"),this}version(t,e,n){let i="version";if(E("[boolean|string] [string] [string]",[t,e,n],arguments.length),r(this,At,"f")&&(this[nn](r(this,At,"f")),r(this,H,"f").version(void 0),P(this,At,null,"f")),arguments.length===0)n=this[ci](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=e,e=void 0);return P(this,At,typeof t=="string"?t:i,"f"),e=e||r(this,H,"f").deferY18nLookup("Show version number"),r(this,H,"f").version(n||void 0),this.boolean(r(this,At,"f")),this.describe(r(this,At,"f"),e),this}wrap(t){return E("<number|null|undefined>",[t],arguments.length),r(this,H,"f").wrap(t),this}[(st=new WeakMap,Ut=new WeakMap,le=new WeakMap,gt=new WeakMap,ut=new WeakMap,Ae=new WeakMap,vt=new WeakMap,Ht=new WeakMap,Ee=new WeakMap,bt=new WeakMap,Se=new WeakMap,wt=new WeakMap,jt=new WeakMap,dt=new WeakMap,Ot=new WeakMap,Pe=new WeakMap,te=new WeakMap,lt=new WeakMap,$=new WeakMap,Me=new WeakMap,$e=new WeakMap,pt=new WeakMap,Tt=new WeakMap,ee=new WeakMap,Bt=new WeakMap,Ft=new WeakMap,Ie=new WeakMap,z=new WeakMap,Yt=new WeakMap,Gt=new WeakMap,qt=new WeakMap,H=new WeakMap,ve=new WeakMap,At=new WeakMap,et=new WeakMap,si)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[ri](){return{log:(...t)=>{this[Fe]()||console.log(...t),P(this,dt,!0,"f"),r(this,lt,"f").length&&P(this,lt,r(this,lt,"f")+`
`,"f"),P(this,lt,r(this,lt,"f")+t.join(" "),"f")},error:(...t)=>{this[Fe]()||console.error(...t),P(this,dt,!0,"f"),r(this,lt,"f").length&&P(this,lt,r(this,lt,"f")+`
`,"f"),P(this,lt,r(this,lt,"f")+t.join(" "),"f")}}}[nn](t){Xt(r(this,$,"f")).forEach(e=>{if((i=>i==="configObjects")(e))return;let n=r(this,$,"f")[e];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete r(this,H,"f").getDescriptions()[t]}[oi](t,e,n){r(this,Ee,"f")[n]||(r(this,z,"f").process.emitWarning(t,e),r(this,Ee,"f")[n]=!0)}[ai](){r(this,Se,"f").push({options:r(this,$,"f"),configObjects:r(this,$,"f").configObjects.slice(0),exitProcess:r(this,bt,"f"),groups:r(this,jt,"f"),strict:r(this,Yt,"f"),strictCommands:r(this,Gt,"f"),strictOptions:r(this,qt,"f"),completionCommand:r(this,ut,"f"),output:r(this,lt,"f"),exitError:r(this,vt,"f"),hasOutput:r(this,dt,"f"),parsed:this.parsed,parseFn:r(this,pt,"f"),parseContext:r(this,Tt,"f")}),r(this,H,"f").freeze(),r(this,et,"f").freeze(),r(this,st,"f").freeze(),r(this,wt,"f").freeze()}[li](){let t="",e;return/\b(node|iojs|electron)(\.exe)?$/.test(r(this,z,"f").process.argv()[0])?e=r(this,z,"f").process.argv().slice(1,2):e=r(this,z,"f").process.argv().slice(0,1),t=e.map(n=>{let i=this[_i](r(this,Ut,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),r(this,z,"f").getEnv("_")&&r(this,z,"f").getProcessArgvBin()===r(this,z,"f").getEnv("_")&&(t=r(this,z,"f").getEnv("_").replace(`${r(this,z,"f").path.dirname(r(this,z,"f").process.execPath())}/`,"")),t}[Vt](){return r(this,$e,"f")}[fi](){return r(this,ve,"f")}[sn](){if(!r(this,Ht,"f"))return;let t=r(this,z,"f").getEnv("LC_ALL")||r(this,z,"f").getEnv("LC_MESSAGES")||r(this,z,"f").getEnv("LANG")||r(this,z,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[ci](){return this[rn]().version||"unknown"}[hi](t){let e=t["--"]?t["--"]:t._;for(let n=0,i;(i=e[n])!==void 0;n++)r(this,z,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(e[n]=Number(i));return t}[rn](t){let e=t||"*";if(r(this,ee,"f")[e])return r(this,ee,"f")[e];let n={};try{let i=t||r(this,z,"f").mainFilename;!t&&r(this,z,"f").path.extname(i)&&(i=r(this,z,"f").path.dirname(i));let o=r(this,z,"f").findUp(i,(a,f)=>{if(f.includes("package.json"))return"package.json"});ct(o,void 0,r(this,z,"f")),n=JSON.parse(r(this,z,"f").readFileSync(o,"utf8"))}catch{}return r(this,ee,"f")[e]=n||{},r(this,ee,"f")[e]}[Lt](t,e){e=[].concat(e),e.forEach(n=>{n=this[ln](n),r(this,$,"f")[t].push(n)})}[ne](t,e,n,i){this[an](t,e,n,i,(o,a,f)=>{r(this,$,"f")[o][a]=f})}[on](t,e,n,i){this[an](t,e,n,i,(o,a,f)=>{r(this,$,"f")[o][a]=(r(this,$,"f")[o][a]||[]).concat(f)})}[an](t,e,n,i,o){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of Xt(n))t(a,n[a]);else o(e,this[ln](n),i)}[ln](t){return t==="__proto__"?"___proto___":t}[fn](t,e){return this[ne](this[fn].bind(this),"key",t,e),this}[cn](){var t,e,n,i,o,a,f,b,m,p,d,g;let w=r(this,Se,"f").pop();ct(w,void 0,r(this,z,"f"));let C;t=this,e=this,n=this,i=this,o=this,a=this,f=this,b=this,m=this,p=this,d=this,g=this,{options:{set value(y){P(t,$,y,"f")}}.value,configObjects:C,exitProcess:{set value(y){P(e,bt,y,"f")}}.value,groups:{set value(y){P(n,jt,y,"f")}}.value,output:{set value(y){P(i,lt,y,"f")}}.value,exitError:{set value(y){P(o,vt,y,"f")}}.value,hasOutput:{set value(y){P(a,dt,y,"f")}}.value,parsed:this.parsed,strict:{set value(y){P(f,Yt,y,"f")}}.value,strictCommands:{set value(y){P(b,Gt,y,"f")}}.value,strictOptions:{set value(y){P(m,qt,y,"f")}}.value,completionCommand:{set value(y){P(p,ut,y,"f")}}.value,parseFn:{set value(y){P(d,pt,y,"f")}}.value,parseContext:{set value(y){P(g,Tt,y,"f")}}.value}=w,r(this,$,"f").configObjects=C,r(this,H,"f").unfreeze(),r(this,et,"f").unfreeze(),r(this,st,"f").unfreeze(),r(this,wt,"f").unfreeze()}[ui](t,e){return Rt(e,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[di].bind(this),getContext:this[pi].bind(this),getHasOutput:this[mi].bind(this),getLoggerInstance:this[gi].bind(this),getParseContext:this[bi].bind(this),getParserConfiguration:this[Vt].bind(this),getUsageConfiguration:this[fi].bind(this),getUsageInstance:this[wi].bind(this),getValidationInstance:this[Oi].bind(this),hasParseCallback:this[Fe].bind(this),isGlobalContext:this[yi].bind(this),postProcess:this[Kt].bind(this),reset:this[hn].bind(this),runValidation:this[un].bind(this),runYargsParserAndExecuteCommands:this[fe].bind(this),setHasOutput:this[Ci].bind(this)}}[di](){return r(this,st,"f")}[pi](){return r(this,le,"f")}[mi](){return r(this,dt,"f")}[gi](){return r(this,te,"f")}[bi](){return r(this,Tt,"f")||{}}[wi](){return r(this,H,"f")}[Oi](){return r(this,et,"f")}[Fe](){return!!r(this,pt,"f")}[yi](){return r(this,Pe,"f")}[Kt](t,e,n,i){return n||J(t)||(e||(t=this[si](t)),(this[Vt]()["parse-positional-numbers"]||this[Vt]()["parse-positional-numbers"]===void 0)&&(t=this[hi](t)),i&&(t=zt(t,this,r(this,wt,"f").getMiddleware(),!1))),t}[hn](t={}){P(this,$,r(this,$,"f")||{},"f");let e={};e.local=r(this,$,"f").local||[],e.configObjects=r(this,$,"f").configObjects||[];let n={};e.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(f=>{n[f]=!0})}),Object.assign(r(this,Bt,"f"),Object.keys(r(this,jt,"f")).reduce((a,f)=>{let b=r(this,jt,"f")[f].filter(m=>!(m in n));return b.length>0&&(a[f]=b),a},{})),P(this,jt,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],o=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{e[a]=(r(this,$,"f")[a]||[]).filter(f=>!n[f])}),o.forEach(a=>{e[a]=$t(r(this,$,"f")[a],f=>!n[f])}),e.envPrefix=r(this,$,"f").envPrefix,P(this,$,e,"f"),P(this,H,r(this,H,"f")?r(this,H,"f").reset(n):Qn(this,r(this,z,"f")),"f"),P(this,et,r(this,et,"f")?r(this,et,"f").reset(n):ni(this,r(this,H,"f"),r(this,z,"f")),"f"),P(this,st,r(this,st,"f")?r(this,st,"f").reset():Vn(r(this,H,"f"),r(this,et,"f"),r(this,wt,"f"),r(this,z,"f")),"f"),r(this,gt,"f")||P(this,gt,kn(this,r(this,H,"f"),r(this,st,"f"),r(this,z,"f")),"f"),r(this,wt,"f").reset(),P(this,ut,null,"f"),P(this,lt,"","f"),P(this,vt,null,"f"),P(this,dt,!1,"f"),this.parsed=!1,this}[_i](t,e){return r(this,z,"f").path.relative(t,e)}[fe](t,e,n,i=0,o=!1){let a=!!n||o;t=t||r(this,Ft,"f"),r(this,$,"f").__=r(this,z,"f").y18n.__,r(this,$,"f").configuration=this[Vt]();let f=!!r(this,$,"f").configuration["populate--"],b=Object.assign({},r(this,$,"f").configuration,{"populate--":!0}),m=r(this,z,"f").Parser.detailed(t,Object.assign({},r(this,$,"f"),{configuration:{"parse-positional-numbers":!1,...b}})),p=Object.assign(m.argv,r(this,Tt,"f")),d,g=m.aliases,w=!1,C=!1;Object.keys(p).forEach(y=>{y===r(this,Ot,"f")&&p[y]?w=!0:y===r(this,At,"f")&&p[y]&&(C=!0)}),p.$0=this.$0,this.parsed=m,i===0&&r(this,H,"f").clearCachedHelpMessage();try{if(this[sn](),e)return this[Kt](p,f,!!n,!1);r(this,Ot,"f")&&[r(this,Ot,"f")].concat(g[r(this,Ot,"f")]||[]).filter(T=>T.length>1).includes(""+p._[p._.length-1])&&(p._.pop(),w=!0),P(this,Pe,!1,"f");let y=r(this,st,"f").getCommands(),u=r(this,gt,"f").completionKey in p,v=w||u||o;if(p._.length){if(y.length){let L;for(let T=i||0,R;p._[T]!==void 0;T++)if(R=String(p._[T]),y.includes(R)&&R!==r(this,ut,"f")){let N=r(this,st,"f").runCommand(R,this,m,T+1,o,w||C||o);return this[Kt](N,f,!!n,!1)}else if(!L&&R!==r(this,ut,"f")){L=R;break}!r(this,st,"f").hasDefaultCommand()&&r(this,Ie,"f")&&L&&!v&&r(this,et,"f").recommendCommands(L,y)}r(this,ut,"f")&&p._.includes(r(this,ut,"f"))&&!u&&(r(this,bt,"f")&&It(!0),this.showCompletionScript(),this.exit(0))}if(r(this,st,"f").hasDefaultCommand()&&!v){let L=r(this,st,"f").runCommand(null,this,m,0,o,w||C||o);return this[Kt](L,f,!!n,!1)}if(u){r(this,bt,"f")&&It(!0),t=[].concat(t);let L=t.slice(t.indexOf(`--${r(this,gt,"f").completionKey}`)+1);return r(this,gt,"f").getCompletion(L,(T,R)=>{if(T)throw new K(T.message);(R||[]).forEach(N=>{r(this,te,"f").log(N)}),this.exit(0)}),this[Kt](p,!f,!!n,!1)}if(r(this,dt,"f")||(w?(r(this,bt,"f")&&It(!0),a=!0,this.showHelp("log"),this.exit(0)):C&&(r(this,bt,"f")&&It(!0),a=!0,r(this,H,"f").showVersion("log"),this.exit(0))),!a&&r(this,$,"f").skipValidation.length>0&&(a=Object.keys(p).some(L=>r(this,$,"f").skipValidation.indexOf(L)>=0&&p[L]===!0)),!a){if(m.error)throw new K(m.error.message);if(!u){let L=this[un](g,{},m.error);n||(d=zt(p,this,r(this,wt,"f").getMiddleware(),!0)),d=this[ui](L,d??p),J(d)&&!n&&(d=d.then(()=>zt(p,this,r(this,wt,"f").getMiddleware(),!1)))}}}catch(y){if(y instanceof K)r(this,H,"f").fail(y.message,y);else throw y}return this[Kt](d??p,f,!!n,!0)}[un](t,e,n,i){let o={...this.getDemandedOptions()};return a=>{if(n)throw new K(n.message);r(this,et,"f").nonOptionCount(a),r(this,et,"f").requiredArguments(a,o);let f=!1;r(this,Gt,"f")&&(f=r(this,et,"f").unknownCommands(a)),r(this,Yt,"f")&&!f?r(this,et,"f").unknownArguments(a,t,e,!!i):r(this,qt,"f")&&r(this,et,"f").unknownArguments(a,t,{},!1,!1),r(this,et,"f").limitedChoices(a),r(this,et,"f").implications(a),r(this,et,"f").conflicting(a)}}[Ci](){P(this,dt,!0,"f")}[Jt](t){if(typeof t=="string")r(this,$,"f").key[t]=!0;else for(let e of t)r(this,$,"f").key[e]=!0}};function Kn(s){return!!s&&typeof s.getInternalMethods=="function"}var cs=xi(Je),ji=cs;var ue=require("child_process"),wn=ze(require("fs")),Ne=ze(require("path")),Si=ze(Ai());function mn(s){return`\x1B[1m${s}\x1B[22m`}function Ei(s){return`\x1B[36m${s}\x1B[39m`}function ce(s){return`\x1B[32m${s}\x1B[39m`}function gn(s){return`\x1B[31m${s}\x1B[39m`}function ie(s){return`\x1B[2m${s}\x1B[22m`}var We=class{constructor(t,e){this.start=t;this.end=e}contains(t){return this.start<=t&&t<=this.end}},he=class{constructor(t,e,n){this.multilineCommentRanges=[];let i=null,o=t.split(`
`);for(let a=1;a<=o.length;a++){let f=o[a-1].trim();if(i===null)switch(f.indexOf(e)){case-1:break;case 0:i=a;break;default:i=a+1}if(i!==null)switch(f.indexOf(n)){case-1:break;case f.length-n.length:this.multilineCommentRanges.push(new We(i,a)),i=null;break;default:this.multilineCommentRanges.push(new We(i,a-1)),i=null;break}}}multilineCommentRanges;isComment(t){return this.multilineCommentRanges.some(e=>e.contains(t))}};var hs=new Set(["js","cjs","mjs","ts","tsx","c","cpp","cc","cxx","h","hpp","hh","dart","rs","java","cs","m","mm","swift","kt","kts","go","scala","sc","groovy","gvy","gy","gsh","as","coffee","hx","glsl","vert","frag","pde","ino","v","vh","sv","svh","vhd","vhdl","aspx","ascx","fs","fsi","fsx","nim","d","hs","shader","compute","uc","jl","vala","zig","p","pwn","inc","e","sml","sig","m","int","mm","idl","asm","cl","il","wren","chpl","j","ms","n"]),us=new Set(["xml","html","xhtml","svg","xsd","xslt","config","wsdl","xaml","plist"]),ds=new Set(["sh","bash","zsh","ksh","csh","tcsh","py","rake","gemspec","pl","pm","t","cgi","sed","awk","yml","yaml","jsonnet","dockerfile","gitignore","gitattributes","gitmodules","env","mk","make","m","r","R","Rmd","nimble",".nim.cfg","cfg","ini","conf","toml","ron","bzl","bazel","j2","jinja","Jinja2","pp","props","gradle","bats","fish","nuspec","ps1","psm1"]),ps=new Set(["php","php3","php4","php5","php7","phps"]);function bn(s){if(hs.has(s))return{singleLine:"//",multiLine:{prefix:"/*",suffix:"*/"}};if(us.has(s))return{multiLine:{prefix:"<!--",suffix:"-->"}};if(ds.has(s))return{singleLine:"#"};if(ps.has(s))return{singleLine:["//","#"],multiLine:{prefix:"/*",suffix:"*/"}};if(s==="rb")return{singleLine:"#",multiLine:{prefix:"=begin",suffix:"=end"}}}async function Pi({log:s,verbose:t,source:e,target:n,ignoreDeletion:i,ignoreFilePath:o=Ne.default.join(process.cwd(),".gitdiffignore"),ignoreWhitespace:a,ignoreComment:f}){let b=[];wn.default.existsSync(o)&&(b=wn.default.readFileSync(o,"utf-8").split(`
`).map(w=>w.trim()).filter(Boolean).filter(w=>!w.startsWith("#")));let m=await new Promise((w,C)=>{let y=["git merge-base"];y.push(e),y.push(n),(0,ue.exec)(y.join(" "),(u,v)=>{u?C(u):w(v.trim())})}),p=await new Promise((w,C)=>{let y=["git diff"];y.push(`${m}..${e}`),a&&y.push("-w"),i&&y.push("--diff-filter=ACMR"),b.length&&y.push(...b.map(u=>`":!${u}"`)),(0,ue.exec)(y.join(" "),(u,v)=>{u?C(u):w(v)})}),d=Si.default.parse(p).filter(w=>!w.isBinary),g=0;for(let w of d){let C=N=>!1,y=N=>!1,u,v;if(f){if(w.type!=="add"){let N=Ne.default.extname(w.oldPath).split(".").pop(),B=bn(N);if(B?.singleLine){let nt=B.singleLine;C=Array.isArray(nt)?Z=>nt.some(U=>Z.startsWith(U)):Z=>Z.startsWith(nt)}let V=await new Promise((nt,Z)=>{(0,ue.exec)(`git show ${m}:${w.oldPath}`,(U,j)=>{U?Z(U):nt(j)})});u=V&&B?.multiLine?new he(V,B.multiLine.prefix,B.multiLine.suffix):void 0}if(w.type!=="delete"){let N=Ne.default.extname(w.newPath).split(".").pop(),B=bn(N);if(B?.singleLine){let nt=B.singleLine;y=Array.isArray(nt)?Z=>nt.some(U=>Z.startsWith(U)):Z=>Z.startsWith(nt)}let V=await new Promise((nt,Z)=>{(0,ue.exec)(`git show ${e}:${w.newPath}`,(U,j)=>{U?Z(U):nt(j)})});v=V&&B?.multiLine?new he(V,B.multiLine.prefix,B.multiLine.suffix):void 0}}let L=[],T=0,R=0;for(let N of w.hunks){t&&L.push(mn(i?`From line ${N.newStart} to ${N.newStart+N.newLines-1}`:`From line ${N.oldStart} to ${N.oldStart+N.oldLines-1} \u27A1 From line ${N.newStart} to ${N.newStart+N.newLines-1}`));for(let B of N.changes){switch(B.type){case"delete":if(i)continue;break;case"normal":L.push(ie(B.content));continue}let V=B.content.trim();if(V){if(f)if(B.type==="insert"){if(v?.isComment(B.lineNumber)){L.push(ie(B.content));continue}if(y(V)){L.push(ie(B.content));continue}}else{if(u?.isComment(B.lineNumber)){L.push(ie(B.content));continue}if(C(V)){L.push(ie(B.content));continue}}}else if(a){L.push(B.content);continue}B.type==="insert"?(L.push(ce(B.content)),T++):(L.push(gn(B.content)),R++)}}g+=T+R,s&&T+R&&(s(Ei(mn(`\u{1F4C4} ${w.newPath}${R?gn(` -${R}`):""}${T?ce(` +${T}`):""}`))),t&&(s(L.join(`
`)),s("")))}return g}ji(Ve(process.argv)).positional("sourceBranch",{default:"HEAD",description:"The source branch",type:"string"}).positional("targetBranch",{description:"The target branch",type:"string"}).option("ignoreFilePath",{alias:"f",required:!1,description:"The file path of what files to ignore. If not provided, the .gitdiffignore file in working directory will be used.",type:"string"}).option("ignoreDeletion",{alias:"d",default:!1,description:"Whether to ignore deleted lines",type:"boolean"}).option("ignoreWhitespace",{alias:"w",default:!1,description:"Whether to ignore white space",type:"boolean"}).option("ignoreComment",{alias:"c",default:!1,description:"Whether to ignore comments",type:"boolean"}).option("verbose",{alias:"v",default:!1,description:"Whether to print diff details",type:"boolean"}).option("quiet",{alias:"q",default:!1,description:"Whether to log only the number of total diff lines",type:"boolean"}).command("$0 <targetBranch> [sourceBranch]","Get the size of the diff between the source branch and the target branch.",()=>{},async s=>{let t=await Pi({source:s.sourceBranch,target:s.targetBranch,ignoreFilePath:s.ignoreFilePath,log:s.quiet?void 0:console.log,verbose:s.verbose,ignoreDeletion:s.ignoreDeletion,ignoreWhitespace:s.ignoreWhitespace,ignoreComment:s.ignoreComment});s.quiet?console.log(t):console.log(`\u{1F4CA} Total diff lines: ${ce(t)}`)}).version(!1).parse();
/*! Bundled license information:

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)
*/
