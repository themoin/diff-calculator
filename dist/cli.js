#!/usr/bin/env node
"use strict";var gi=Object.create;var $n=Object.defineProperty;var bi=Object.getOwnPropertyDescriptor;var wi=Object.getOwnPropertyNames;var yi=Object.getPrototypeOf,Oi=Object.prototype.hasOwnProperty;var Ve=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var xi=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wi(t))!Oi.call(i,s)&&s!==e&&$n(i,s,{get:()=>t[s],enumerable:!(n=bi(t,s))||n.enumerable});return i};var ce=(i,t,e)=>(e=i!=null?gi(yi(i)):{},xi(t||!i||!i.__esModule?$n(e,"default",{value:i,enumerable:!0}):e,i));var Fs=Ve((Ue,Cn)=>{(function(i){var t=2,e=3,n=5;function s(o){var l=o.slice(11),f=null,u=null,c=l.indexOf('"');switch(c){case-1:var b=l.split(" ");f=b[0].slice(2),u=b[1].slice(2);break;case 0:var p=l.indexOf('"',2);f=l.slice(3,p);var d=l.indexOf('"',p+1);d<0?u=l.slice(p+4):u=l.slice(d+3,-1);break;default:var b=l.split(" ");f=b[0].slice(2),u=b[1].slice(3,-1);break}return{oldPath:f,newPath:u}}var r={parse:function(o){for(var l=[],f=t,u,c,p,d,b,x=o.split(`
`),y=x.length,m=0;m<y;){var E=x[m];if(E.indexOf("diff --git")===0){b=s(E),u={hunks:[],oldEndingNewLine:!0,newEndingNewLine:!0,oldPath:b.oldPath,newPath:b.newPath},l.push(u);var $=null,L;t:for(;L=x[++m];){var D=L.indexOf(" "),U=D>-1?L.slice(0,D):U;switch(U){case"diff":m--;break t;case"deleted":case"new":var K=L.slice(D+1);K.indexOf("file mode")===0&&(u[U==="new"?"newMode":"oldMode"]=K.slice(10));break;case"similarity":u.similarity=parseInt(L.split(" ")[2],10);break;case"index":var rt=L.slice(D+1).split(" "),mt=rt[0].split("..");u.oldRevision=mt[0],u.newRevision=mt[1],rt[1]&&(u.oldMode=u.newMode=rt[1]);break;case"copy":case"rename":var nt=L.slice(D+1);nt.indexOf("from")===0?u.oldPath=nt.slice(5):u.newPath=nt.slice(3),$=U;break;case"---":var H=L.slice(D+1),j=x[++m].slice(4);H==="/dev/null"?(j=j.slice(2),$="add"):j==="/dev/null"?(H=H.slice(2),$="delete"):($="modify",H=H.slice(2),j=j.slice(2)),H&&(u.oldPath=H),j&&(u.newPath=j),f=n;break t}}u.type=$||"modify"}else if(E.indexOf("Binary")===0)u.isBinary=!0,u.type=E.indexOf("/dev/null and")>=0?"add":E.indexOf("and /dev/null")>=0?"delete":"modify",f=t,u=null;else if(f===n)if(E.indexOf("@@")===0){var C=/^@@\s+-([0-9]+)(,([0-9]+))?\s+\+([0-9]+)(,([0-9]+))?/.exec(E);c={content:E,oldStart:C[1]-0,newStart:C[4]-0,oldLines:C[3]-0||1,newLines:C[6]-0||1,changes:[]},u.hunks.push(c),p=c.oldStart,d=c.newStart}else{var P=E.slice(0,1),N={content:E.slice(1)};switch(P){case"+":N.type="insert",N.isInsert=!0,N.lineNumber=d,d++;break;case"-":N.type="delete",N.isDelete=!0,N.lineNumber=p,p++;break;case" ":N.type="normal",N.isNormal=!0,N.oldLineNumber=p,N.newLineNumber=d,p++,d++;break;case"\\":var G=c.changes[c.changes.length-1];G.isDelete||(u.newEndingNewLine=!1),G.isInsert||(u.oldEndingNewLine=!1)}N.type&&c.changes.push(N)}m++}return l}};typeof Ue=="object"&&typeof Cn=="object"?Ue=Cn.exports=r:typeof define=="function"&&define.amd?define("gitDiffParser",[],r):i.gitDiffParser=r})(Ue)});var Hs=Ve((ja,Us)=>{"use strict";Us.exports=Ts;function Ts(i,t,e){i instanceof RegExp&&(i=Rs(i,e)),t instanceof RegExp&&(t=Rs(t,e));var n=zs(i,t,e);return n&&{start:n[0],end:n[1],pre:e.slice(0,n[0]),body:e.slice(n[0]+i.length,n[1]),post:e.slice(n[1]+t.length)}}function Rs(i,t){var e=t.match(i);return e?e[0]:null}Ts.range=zs;function zs(i,t,e){var n,s,r,o,l,f=e.indexOf(i),u=e.indexOf(t,f+1),c=f;if(f>=0&&u>0){if(i===t)return[f,u];for(n=[],r=e.length;c>=0&&!l;)c==f?(n.push(c),f=e.indexOf(i,c+1)):n.length==1?l=[n.pop(),u]:(s=n.pop(),s<r&&(r=s,o=u),u=e.indexOf(t,c+1)),c=f<u&&f>=0?f:u;n.length&&(l=[r,o])}return l}});var Zs=Ve((Sa,Js)=>{var Bs=Hs();Js.exports=ki;var Gs="\0SLASH"+Math.random()+"\0",Ys="\0OPEN"+Math.random()+"\0",An="\0CLOSE"+Math.random()+"\0",qs="\0COMMA"+Math.random()+"\0",Vs="\0PERIOD"+Math.random()+"\0";function En(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Qi(i){return i.split("\\\\").join(Gs).split("\\{").join(Ys).split("\\}").join(An).split("\\,").join(qs).split("\\.").join(Vs)}function Xi(i){return i.split(Gs).join("\\").split(Ys).join("{").split(An).join("}").split(qs).join(",").split(Vs).join(".")}function Ks(i){if(!i)return[""];var t=[],e=Bs("{","}",i);if(!e)return i.split(",");var n=e.pre,s=e.body,r=e.post,o=n.split(",");o[o.length-1]+="{"+s+"}";var l=Ks(r);return r.length&&(o[o.length-1]+=l.shift(),o.push.apply(o,l)),t.push.apply(t,o),t}function ki(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),ge(Qi(i),!0).map(Xi)):[]}function tr(i){return"{"+i+"}"}function er(i){return/^-?0\d/.test(i)}function nr(i,t){return i<=t}function sr(i,t){return i>=t}function ge(i,t){var e=[],n=Bs("{","}",i);if(!n)return[i];var s=n.pre,r=n.post.length?ge(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<r.length;o++){var l=s+"{"+n.body+"}"+r[o];e.push(l)}else{var f=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),c=f||u,p=n.body.indexOf(",")>=0;if(!c&&!p)return n.post.match(/,.*\}/)?(i=n.pre+"{"+n.body+An+n.post,ge(i)):[i];var d;if(c)d=n.body.split(/\.\./);else if(d=Ks(n.body),d.length===1&&(d=ge(d[0],!1).map(tr),d.length===1))return r.map(function(H){return n.pre+d[0]+H});var b;if(c){var x=En(d[0]),y=En(d[1]),m=Math.max(d[0].length,d[1].length),E=d.length==3?Math.abs(En(d[2])):1,$=nr,L=y<x;L&&(E*=-1,$=sr);var D=d.some(er);b=[];for(var U=x;$(U,y);U+=E){var K;if(u)K=String.fromCharCode(U),K==="\\"&&(K="");else if(K=String(U),D){var rt=m-K.length;if(rt>0){var mt=new Array(rt+1).join("0");U<0?K="-"+mt+K.slice(1):K=mt+K}}b.push(K)}}else{b=[];for(var nt=0;nt<d.length;nt++)b.push.apply(b,ge(d[nt],!1))}for(var nt=0;nt<b.length;nt++)for(var o=0;o<r.length;o++){var l=s+b[nt]+r[o];(!t||c||l)&&e.push(l)}}return e}});var Pe=require("assert");var _i={right:Si,center:Pi},Ci=0,xe=1,Ei=2,_e=3,Ke=class{constructor(t){var e;this.width=t.width,this.wrap=(e=t.wrap)!==null&&e!==void 0?e:!0,this.rows=[]}span(...t){let e=this.div(...t);e.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let e=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(e),e}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let e=t.split(`
`).map(s=>s.split("	")),n=0;return e.forEach(s=>{s.length>1&&ht.stringWidth(s[0])>n&&(n=Math.min(Math.floor(this.width*.5),ht.stringWidth(s[0])))}),e.forEach(s=>{this.div(...s.map((r,o)=>({text:r.trim(),padding:this.measurePadding(r),width:o===0&&s.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let e=ht.stripAnsi(t);return[0,e.match(/\s*$/)[0].length,0,e.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(e=>{this.rowToString(e,t)}),t.filter(e=>!e.hidden).map(e=>e.text).join(`
`)}rowToString(t,e){return this.rasterize(t).forEach((n,s)=>{let r="";n.forEach((o,l)=>{let{width:f}=t[l],u=this.negatePadding(t[l]),c=o;if(u>ht.stringWidth(o)&&(c+=" ".repeat(u-ht.stringWidth(o))),t[l].align&&t[l].align!=="left"&&this.wrap){let d=_i[t[l].align];c=d(c,u),ht.stringWidth(c)<u&&(c+=" ".repeat((f||0)-ht.stringWidth(c)-1))}let p=t[l].padding||[0,0,0,0];p[_e]&&(r+=" ".repeat(p[_e])),r+=In(t[l],c,"| "),r+=c,r+=In(t[l],c," |"),p[xe]&&(r+=" ".repeat(p[xe])),s===0&&e.length>0&&(r=this.renderInline(r,e[e.length-1]))}),e.push({text:r.replace(/ +$/,""),span:t.span})}),e}renderInline(t,e){let n=t.match(/^ */),s=n?n[0].length:0,r=e.text,o=ht.stringWidth(r.trimRight());return e.span?this.wrap?s<o?t:(e.hidden=!0,r.trimRight()+" ".repeat(s-o)+t.trimLeft()):(e.hidden=!0,r+t):t}rasterize(t){let e=[],n=this.columnWidths(t),s;return t.forEach((r,o)=>{r.width=n[o],this.wrap?s=ht.wrap(r.text,this.negatePadding(r),{hard:!0}).split(`
`):s=r.text.split(`
`),r.border&&(s.unshift("."+"-".repeat(this.negatePadding(r)+2)+"."),s.push("'"+"-".repeat(this.negatePadding(r)+2)+"'")),r.padding&&(s.unshift(...new Array(r.padding[Ci]||0).fill("")),s.push(...new Array(r.padding[Ei]||0).fill(""))),s.forEach((l,f)=>{e[f]||e.push([]);let u=e[f];for(let c=0;c<o;c++)u[c]===void 0&&u.push("");u.push(l)})}),e}negatePadding(t){let e=t.width||0;return t.padding&&(e-=(t.padding[_e]||0)+(t.padding[xe]||0)),t.border&&(e-=4),e}columnWidths(t){if(!this.wrap)return t.map(o=>o.width||ht.stringWidth(o.text));let e=t.length,n=this.width,s=t.map(o=>{if(o.width)return e--,n-=o.width,o.width}),r=e?Math.floor(n/e):0;return s.map((o,l)=>o===void 0?Math.max(r,Ai(t[l])):o)}};function In(i,t,e){return i.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?e:"  ":""}function Ai(i){let t=i.padding||[],e=1+(t[_e]||0)+(t[xe]||0);return i.border?e+4:e}function ji(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Si(i,t){i=i.trim();let e=ht.stringWidth(i);return e<t?" ".repeat(t-e)+i:i}function Pi(i,t){i=i.trim();let e=ht.stringWidth(i);return e>=t?i:" ".repeat(t-e>>1)+i}var ht;function Nn(i,t){return ht=t,new Ke({width:i?.width||ji(),wrap:i?.wrap})}var Wn=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function Je(i){return i.replace(Wn,"")}function Dn(i,t){let[e,n]=i.match(Wn)||["",""];i=Je(i);let s="";for(let r=0;r<i.length;r++)r!==0&&r%t===0&&(s+=`
`),s+=i.charAt(r);return e&&n&&(s=`${e}${s}${n}`),s}function Ze(i){return Nn(i,{stringWidth:t=>[...t].length,stripAnsi:Je,wrap:Dn})}var te=require("path"),Ce=require("fs");function Ln(i,t){let e=(0,te.resolve)(".",i),n;for((0,Ce.statSync)(e).isDirectory()||(e=(0,te.dirname)(e));;){if(n=t(e,(0,Ce.readdirSync)(e)),n)return(0,te.resolve)(e,n);if(e=(0,te.dirname)(n=e),n===e)break}}var Xn=require("util"),kn=require("fs"),ts=require("url");var Un=require("util"),Se=require("path");function Ut(i){if(i!==i.toLowerCase()&&i!==i.toUpperCase()||(i=i.toLowerCase()),i.indexOf("-")===-1&&i.indexOf("_")===-1)return i;{let e="",n=!1,s=i.match(/^-+/);for(let r=s?s[0].length:0;r<i.length;r++){let o=i.charAt(r);n&&(n=!1,o=o.toUpperCase()),r!==0&&(o==="-"||o==="_")?n=!0:o!=="-"&&o!=="_"&&(e+=o)}return e}}function Ee(i,t){let e=i.toLowerCase();t=t||"-";let n="";for(let s=0;s<i.length;s++){let r=e.charAt(s),o=i.charAt(s);r!==o&&s>0?n+=`${t}${e.charAt(s)}`:n+=o}return n}function Ae(i){return i==null?!1:typeof i=="number"||/^0x[0-9a-f]+$/i.test(i)?!0:/^0[^.]/.test(i)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(i)}function Fn(i){if(Array.isArray(i))return i.map(o=>typeof o!="string"?o+"":o);i=i.trim();let t=0,e=null,n=null,s=null,r=[];for(let o=0;o<i.length;o++){if(e=n,n=i.charAt(o),n===" "&&!s){e!==" "&&t++;continue}n===s?s=null:(n==="'"||n==='"')&&!s&&(s=n),r[t]||(r[t]=""),r[t]+=n}return r}var gt;(function(i){i.BOOLEAN="boolean",i.STRING="string",i.NUMBER="number",i.ARRAY="array"})(gt||(gt={}));var $t,je=class{constructor(t){$t=t}parse(t,e){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},e),s=Fn(t),r=typeof t=="string",o=Mi(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),f=Object.assign(Object.create(null),n.default),u=n.configObjects||[],c=n.envPrefix,p=l["populate--"],d=p?"--":"_",b=Object.create(null),x=Object.create(null),y=n.__||$t.format,m={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},E=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,$=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(h){let w=typeof h=="object"?h.key:h,_=Object.keys(h).map(function(O){return{boolean:"bools",string:"strings",number:"numbers"}[O]}).filter(Boolean).pop();_&&(m[_][w]=!0),m.arrays[w]=!0,m.keys.push(w)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(h){m.bools[h]=!0,m.keys.push(h)}),[].concat(n.string||[]).filter(Boolean).forEach(function(h){m.strings[h]=!0,m.keys.push(h)}),[].concat(n.number||[]).filter(Boolean).forEach(function(h){m.numbers[h]=!0,m.keys.push(h)}),[].concat(n.count||[]).filter(Boolean).forEach(function(h){m.counts[h]=!0,m.keys.push(h)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(h){m.normalize[h]=!0,m.keys.push(h)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([h,w])=>{typeof w=="number"&&(m.nargs[h]=w,m.keys.push(h))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([h,w])=>{typeof w=="function"&&(m.coercions[h]=w,m.keys.push(h))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(h){m.configs[h]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([h,w])=>{(typeof w=="boolean"||typeof w=="function")&&(m.configs[h]=w)})),zt(n.key,o,n.default,m.arrays),Object.keys(f).forEach(function(h){(m.aliases[h]||[]).forEach(function(w){f[w]=f[h]})});let L=null;Oe();let D=[],U=Object.assign(Object.create(null),{_:[]}),K={};for(let h=0;h<s.length;h++){let w=s[h],_=w.replace(/^-{3,}/,"---"),O,g,v,A,W,ot;if(w!=="--"&&/^-/.test(w)&&Q(w))rt(w);else if(_.match(/^---+(=|$)/)){rt(w);continue}else if(w.match(/^--.+=/)||!l["short-option-groups"]&&w.match(/^-.+=/))A=w.match(/^--?([^=]+)=([\s\S]*)$/),A!==null&&Array.isArray(A)&&A.length>=3&&(R(A[1],m.arrays)?h=nt(h,A[1],s,A[2]):R(A[1],m.nargs)!==!1?h=mt(h,A[1],s,A[2]):H(A[1],A[2],!0));else if(w.match($)&&l["boolean-negation"])A=w.match($),A!==null&&Array.isArray(A)&&A.length>=2&&(g=A[1],H(g,R(g,m.arrays)?[!1]:!1));else if(w.match(/^--.+/)||!l["short-option-groups"]&&w.match(/^-[^-]+/))A=w.match(/^--?(.+)/),A!==null&&Array.isArray(A)&&A.length>=2&&(g=A[1],R(g,m.arrays)?h=nt(h,g,s):R(g,m.nargs)!==!1?h=mt(h,g,s):(W=s[h+1],W!==void 0&&(!W.match(/^-/)||W.match(E))&&!R(g,m.bools)&&!R(g,m.counts)||/^(true|false)$/.test(W)?(H(g,W),h++):H(g,X(g))));else if(w.match(/^-.\..+=/))A=w.match(/^-([^=]+)=([\s\S]*)$/),A!==null&&Array.isArray(A)&&A.length>=3&&H(A[1],A[2]);else if(w.match(/^-.\..+/)&&!w.match(E))W=s[h+1],A=w.match(/^-(.\..+)/),A!==null&&Array.isArray(A)&&A.length>=2&&(g=A[1],W!==void 0&&!W.match(/^-/)&&!R(g,m.bools)&&!R(g,m.counts)?(H(g,W),h++):H(g,X(g)));else if(w.match(/^-[^-]+/)&&!w.match(E)){v=w.slice(1,-1).split(""),O=!1;for(let ct=0;ct<v.length;ct++){if(W=w.slice(ct+2),v[ct+1]&&v[ct+1]==="="){ot=w.slice(ct+3),g=v[ct],R(g,m.arrays)?h=nt(h,g,s,ot):R(g,m.nargs)!==!1?h=mt(h,g,s,ot):H(g,ot),O=!0;break}if(W==="-"){H(v[ct],W);continue}if(/[A-Za-z]/.test(v[ct])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(W)&&R(W,m.bools)===!1){H(v[ct],W),O=!0;break}if(v[ct+1]&&v[ct+1].match(/\W/)){H(v[ct],W),O=!0;break}else H(v[ct],X(v[ct]))}g=w.slice(-1)[0],!O&&g!=="-"&&(R(g,m.arrays)?h=nt(h,g,s):R(g,m.nargs)!==!1?h=mt(h,g,s):(W=s[h+1],W!==void 0&&(!/^(-|--)[^-]/.test(W)||W.match(E))&&!R(g,m.bools)&&!R(g,m.counts)||/^(true|false)$/.test(W)?(H(g,W),h++):H(g,X(g))))}else if(w.match(/^-[0-9]$/)&&w.match(E)&&R(w.slice(1),m.bools))g=w.slice(1),H(g,X(g));else if(w==="--"){D=s.slice(h+1);break}else if(l["halt-at-non-option"]){D=s.slice(h);break}else rt(w)}Y(U,!0),Y(U,!1),N(U),st(),Z(U,m.aliases,f,!0),it(U),l["set-placeholder-key"]&&Tt(U),Object.keys(m.counts).forEach(function(h){Mt(U,h.split("."))||H(h,0)}),p&&D.length&&(U[d]=[]),D.forEach(function(h){U[d].push(h)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(U).filter(h=>h!=="--"&&h.includes("-")).forEach(h=>{delete U[h]}),l["strip-aliased"]&&[].concat(...Object.keys(o).map(h=>o[h])).forEach(h=>{l["camel-case-expansion"]&&h.includes("-")&&delete U[h.split(".").map(w=>Ut(w)).join(".")],delete U[h]});function rt(h){let w=P("_",h);(typeof w=="string"||typeof w=="number")&&U._.push(w)}function mt(h,w,_,O){let g,v=R(w,m.nargs);if(v=typeof v!="number"||isNaN(v)?1:v,v===0)return Et(O)||(L=Error(y("Argument unexpected for: %s",w))),H(w,X(w)),h;let A=Et(O)?0:1;if(l["nargs-eats-options"])_.length-(h+1)+A<v&&(L=Error(y("Not enough arguments following: %s",w))),A=v;else{for(g=h+1;g<_.length&&(!_[g].match(/^-[^0-9]/)||_[g].match(E)||Q(_[g]));g++)A++;A<v&&(L=Error(y("Not enough arguments following: %s",w)))}let W=Math.min(A,v);for(!Et(O)&&W>0&&(H(w,O),W--),g=h+1;g<W+h+1;g++)H(w,_[g]);return h+W}function nt(h,w,_,O){let g=[],v=O||_[h+1],A=R(w,m.nargs);if(R(w,m.bools)&&!/^(true|false)$/.test(v))g.push(!0);else if(Et(v)||Et(O)&&/^-/.test(v)&&!E.test(v)&&!Q(v)){if(f[w]!==void 0){let W=f[w];g=Array.isArray(W)?W:[W]}}else{Et(O)||g.push(C(w,O,!0));for(let W=h+1;W<_.length&&!(!l["greedy-arrays"]&&g.length>0||A&&typeof A=="number"&&g.length>=A||(v=_[W],/^-/.test(v)&&!E.test(v)&&!Q(v)));W++)h=W,g.push(C(w,v,r))}return typeof A=="number"&&(A&&g.length<A||isNaN(A)&&g.length===0)&&(L=Error(y("Not enough arguments following: %s",w))),H(w,g),h}function H(h,w,_=r){if(/-/.test(h)&&l["camel-case-expansion"]){let v=h.split(".").map(function(A){return Ut(A)}).join(".");j(h,v)}let O=C(h,w,_),g=h.split(".");vt(U,g,O),m.aliases[h]&&m.aliases[h].forEach(function(v){let A=v.split(".");vt(U,A,O)}),g.length>1&&l["dot-notation"]&&(m.aliases[g[0]]||[]).forEach(function(v){let A=v.split("."),W=[].concat(g);W.shift(),A=A.concat(W),(m.aliases[h]||[]).includes(A.join("."))||vt(U,A,O)}),R(h,m.normalize)&&!R(h,m.arrays)&&[h].concat(m.aliases[h]||[]).forEach(function(A){Object.defineProperty(K,A,{enumerable:!0,get(){return w},set(W){w=typeof W=="string"?$t.normalize(W):W}})})}function j(h,w){m.aliases[h]&&m.aliases[h].length||(m.aliases[h]=[w],b[w]=!0),m.aliases[w]&&m.aliases[w].length||j(w,h)}function C(h,w,_){_&&(w=vi(w)),(R(h,m.bools)||R(h,m.counts))&&typeof w=="string"&&(w=w==="true");let O=Array.isArray(w)?w.map(function(g){return P(h,g)}):P(h,w);return R(h,m.counts)&&(Et(O)||typeof O=="boolean")&&(O=Qe()),R(h,m.normalize)&&R(h,m.arrays)&&(Array.isArray(w)?O=w.map(g=>$t.normalize(g)):O=$t.normalize(w)),O}function P(h,w){return!l["parse-positional-numbers"]&&h==="_"||!R(h,m.strings)&&!R(h,m.bools)&&!Array.isArray(w)&&(Ae(w)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${w}`)))||!Et(w)&&R(h,m.numbers))&&(w=Number(w)),w}function N(h){let w=Object.create(null);Z(w,m.aliases,f),Object.keys(m.configs).forEach(function(_){let O=h[_]||w[_];if(O)try{let g=null,v=$t.resolve($t.cwd(),O),A=m.configs[_];if(typeof A=="function"){try{g=A(v)}catch(W){g=W}if(g instanceof Error){L=g;return}}else g=$t.require(v);G(g)}catch(g){g.name==="PermissionDenied"?L=g:h[_]&&(L=Error(y("Invalid JSON config file: %s",O)))}})}function G(h,w){Object.keys(h).forEach(function(_){let O=h[_],g=w?w+"."+_:_;typeof O=="object"&&O!==null&&!Array.isArray(O)&&l["dot-notation"]?G(O,g):(!Mt(U,g.split("."))||R(g,m.arrays)&&l["combine-arrays"])&&H(g,O)})}function st(){typeof u<"u"&&u.forEach(function(h){G(h)})}function Y(h,w){if(typeof c>"u")return;let _=typeof c=="string"?c:"",O=$t.env();Object.keys(O).forEach(function(g){if(_===""||g.lastIndexOf(_,0)===0){let v=g.split("__").map(function(A,W){return W===0&&(A=A.substring(_.length)),Ut(A)});(w&&m.configs[v.join(".")]||!w)&&!Mt(h,v)&&H(v.join("."),O[g])}})}function it(h){let w,_=new Set;Object.keys(h).forEach(function(O){if(!_.has(O)&&(w=R(O,m.coercions),typeof w=="function"))try{let g=P(O,w(h[O]));[].concat(m.aliases[O]||[],O).forEach(v=>{_.add(v),h[v]=g})}catch(g){L=g}})}function Tt(h){return m.keys.forEach(w=>{~w.indexOf(".")||typeof h[w]>"u"&&(h[w]=void 0)}),h}function Z(h,w,_,O=!1){Object.keys(_).forEach(function(g){Mt(h,g.split("."))||(vt(h,g.split("."),_[g]),O&&(x[g]=!0),(w[g]||[]).forEach(function(v){Mt(h,v.split("."))||vt(h,v.split("."),_[g])}))})}function Mt(h,w){let _=h;l["dot-notation"]||(w=[w.join(".")]),w.slice(0,-1).forEach(function(g){_=_[g]||{}});let O=w[w.length-1];return typeof _!="object"?!1:O in _}function vt(h,w,_){let O=h;l["dot-notation"]||(w=[w.join(".")]),w.slice(0,-1).forEach(function(ot){ot=Rn(ot),typeof O=="object"&&O[ot]===void 0&&(O[ot]={}),typeof O[ot]!="object"||Array.isArray(O[ot])?(Array.isArray(O[ot])?O[ot].push({}):O[ot]=[O[ot],{}],O=O[ot][O[ot].length-1]):O=O[ot]});let g=Rn(w[w.length-1]),v=R(w.join("."),m.arrays),A=Array.isArray(_),W=l["duplicate-arguments-array"];!W&&R(g,m.nargs)&&(W=!0,(!Et(O[g])&&m.nargs[g]===1||Array.isArray(O[g])&&O[g].length===m.nargs[g])&&(O[g]=void 0)),_===Qe()?O[g]=Qe(O[g]):Array.isArray(O[g])?W&&v&&A?O[g]=l["flatten-duplicate-arrays"]?O[g].concat(_):(Array.isArray(O[g][0])?O[g]:[O[g]]).concat([_]):!W&&!!v==!!A?O[g]=_:O[g]=O[g].concat([_]):O[g]===void 0&&v?O[g]=A?_:[_]:W&&!(O[g]===void 0||R(g,m.counts)||R(g,m.bools))?O[g]=[O[g],_]:O[g]=_}function zt(...h){h.forEach(function(w){Object.keys(w||{}).forEach(function(_){m.aliases[_]||(m.aliases[_]=[].concat(o[_]||[]),m.aliases[_].concat(_).forEach(function(O){if(/-/.test(O)&&l["camel-case-expansion"]){let g=Ut(O);g!==_&&m.aliases[_].indexOf(g)===-1&&(m.aliases[_].push(g),b[g]=!0)}}),m.aliases[_].concat(_).forEach(function(O){if(O.length>1&&/[A-Z]/.test(O)&&l["camel-case-expansion"]){let g=Ee(O,"-");g!==_&&m.aliases[_].indexOf(g)===-1&&(m.aliases[_].push(g),b[g]=!0)}}),m.aliases[_].forEach(function(O){m.aliases[O]=[_].concat(m.aliases[_].filter(function(g){return O!==g}))}))})})}function R(h,w){let _=[].concat(m.aliases[h]||[],h),O=Object.keys(w),g=_.find(v=>O.includes(v));return g?w[g]:!1}function qe(h){let w=Object.keys(m);return[].concat(w.map(O=>m[O])).some(function(O){return Array.isArray(O)?O.includes(h):O[h]})}function F(h,...w){return[].concat(...w).some(function(O){let g=h.match(O);return g&&qe(g[1])})}function J(h){if(h.match(E)||!h.match(/^-[^-]+/))return!1;let w=!0,_,O=h.slice(1).split("");for(let g=0;g<O.length;g++){if(_=h.slice(g+2),!qe(O[g])){w=!1;break}if(O[g+1]&&O[g+1]==="="||_==="-"||/[A-Za-z]/.test(O[g])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(_)||O[g+1]&&O[g+1].match(/\W/))break}return w}function Q(h){return l["unknown-options-as-args"]&&B(h)}function B(h){return h=h.replace(/^-{3,}/,"--"),h.match(E)||J(h)?!1:!F(h,/^-+([^=]+?)=[\s\S]*$/,$,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function X(h){return!R(h,m.bools)&&!R(h,m.counts)&&`${h}`in f?f[h]:tt(Ct(h))}function tt(h){return{[gt.BOOLEAN]:!0,[gt.STRING]:"",[gt.NUMBER]:void 0,[gt.ARRAY]:[]}[h]}function Ct(h){let w=gt.BOOLEAN;return R(h,m.strings)?w=gt.STRING:R(h,m.numbers)?w=gt.NUMBER:R(h,m.bools)?w=gt.BOOLEAN:R(h,m.arrays)&&(w=gt.ARRAY),w}function Et(h){return h===void 0}function Oe(){Object.keys(m.counts).find(h=>R(h,m.arrays)?(L=Error(y("Invalid configuration: %s, opts.count excludes opts.array.",h)),!0):R(h,m.nargs)?(L=Error(y("Invalid configuration: %s, opts.count excludes opts.narg.",h)),!0):!1)}return{aliases:Object.assign({},m.aliases),argv:Object.assign(K,U),configuration:l,defaulted:Object.assign({},x),error:L,newAliases:Object.assign({},b)}}};function Mi(i){let t=[],e=Object.create(null),n=!0;for(Object.keys(i).forEach(function(s){t.push([].concat(i[s],s))});n;){n=!1;for(let s=0;s<t.length;s++)for(let r=s+1;r<t.length;r++)if(t[s].filter(function(l){return t[r].indexOf(l)!==-1}).length){t[s]=t[s].concat(t[r]),t.splice(r,1),n=!0;break}}return t.forEach(function(s){s=s.filter(function(o,l,f){return f.indexOf(o)===l});let r=s.pop();r!==void 0&&typeof r=="string"&&(e[r]=s)}),e}function Qe(i){return i!==void 0?i+1:1}function Rn(i){return i==="__proto__"?"___proto___":i}function vi(i){return typeof i=="string"&&(i[0]==="'"||i[0]==='"')&&i[i.length-1]===i[0]?i.substring(1,i.length-1):i}var Hn=require("fs");var Xe,ke,tn,Tn=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,zn=(ke=(Xe=process==null?void 0:process.versions)===null||Xe===void 0?void 0:Xe.node)!==null&&ke!==void 0?ke:(tn=process==null?void 0:process.version)===null||tn===void 0?void 0:tn.slice(1);if(zn&&Number(zn.match(/^([^.]+)/)[1])<Tn)throw Error(`yargs parser supports a minimum Node.js version of ${Tn}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var $i=process?process.env:{},Bn=new je({cwd:process.cwd,env:()=>$i,format:Un.format,normalize:Se.normalize,resolve:Se.resolve,require:i=>{if(typeof require<"u")return require(i);if(i.match(/\.json$/))return JSON.parse((0,Hn.readFileSync)(i,"utf8"));throw Error("only .json config files are supported in ESM")}}),fe=function(t,e){return Bn.parse(t.slice(),e).argv};fe.detailed=function(i,t){return Bn.parse(i.slice(),t)};fe.camelCase=Ut;fe.decamelize=Ee;fe.looksLikeNumber=Ae;var en=fe;var jt=require("path");function Gn(){return Ii()?0:1}function Ii(){return Ni()&&!process.defaultApp}function Ni(){return!!process.versions.electron}function nn(i){return i.slice(Gn()+1)}function Yn(){return process.argv[Gn()]}var q=class i extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,i)}};var ee=require("fs"),qn=require("util"),Vn=require("path"),Kn={fs:{readFileSync:ee.readFileSync,writeFile:ee.writeFile},format:qn.format,resolve:Vn.resolve,exists:i=>{try{return(0,ee.statSync)(i).isFile()}catch{return!1}}};var At,sn=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let e=t.shift(),n=function(){};return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]=e,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),At.format.apply(At.format,[this.cache[this.locale][e]||e].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.shift(),s=t.shift(),r=function(){};typeof t[t.length-1]=="function"&&(r=t.pop()),this.cache[this.locale]||this._readLocaleFile();let o=s===1?e:n;this.cache[this.locale][e]&&(o=this.cache[this.locale][e][s===1?"one":"other"]),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]={one:e,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r();let l=[o];return~o.indexOf("%d")&&l.push(s),At.format.apply(At.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.cache[this.locale][e]=t[e])}_taggedLiteral(t,...e){let n="";return t.forEach(function(s,r){let o=e[r+1];n+=s,typeof o<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(e,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,e=this.writeQueue[0],n=e.directory,s=e.locale,r=e.cb,o=this._resolveLocaleFile(n,s),l=JSON.stringify(this.cache[s],null,2);At.fs.writeFile(o,l,"utf-8",function(f){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),r(f)})}_readLocaleFile(){let t={},e=this._resolveLocaleFile(this.directory,this.locale);try{At.fs.readFileSync&&(t=JSON.parse(At.fs.readFileSync(e,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+e),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,e){let n=At.resolve(t,"./",e+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~e.lastIndexOf("_")){let s=At.resolve(t,"./",e.split("_")[0]+".json");this._fileExistsSync(s)&&(n=s)}return n}_fileExistsSync(t){return At.exists(t)}};function Jn(i,t){At=t;let e=new sn(i);return{__:e.__.bind(e),__n:e.__n.bind(e),setLocale:e.setLocale.bind(e),getLocale:e.getLocale.bind(e),updateLocale:e.updateLocale.bind(e),locale:e.locale}}var Wi=i=>Jn(i,Kn),Zn=Wi;var Fi={},Di="require is not supported by ESM",Qn="loading a directory of commands is not supported yet for ESM",he;try{he=(0,ts.fileURLToPath)(Fi.url)}catch{he=process.cwd()}var Li=he.substring(0,he.lastIndexOf("node_modules")),rn={assert:{notStrictEqual:Pe.notStrictEqual,strictEqual:Pe.strictEqual},cliui:Ze,findUp:Ln,getEnv:i=>process.env[i],inspect:Xn.inspect,getCallerFile:()=>{throw new q(Qn)},getProcessArgvBin:Yn,mainFilename:Li||process.cwd(),Parser:en,path:{basename:jt.basename,dirname:jt.dirname,extname:jt.extname,relative:jt.relative,resolve:jt.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(i,t)=>process.emitWarning(i,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:kn.readFileSync,require:()=>{throw new q(Di)},requireDirectory:()=>{throw new q(Qn)},stringWidth:i=>[...i].length,y18n:Zn({directory:(0,jt.resolve)(he,"../../../locales"),updateFiles:!1})};function ft(i,t,e,n){e.assert.notStrictEqual(i,t,n)}function on(i,t){t.assert.strictEqual(typeof i,"string")}function ne(i){return Object.keys(i)}function V(i){return!!i&&!!i.then&&typeof i.then=="function"}function It(i){let e=i.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,s=e.shift();if(!s)throw new Error(`No command found in: ${i}`);let r={cmd:s.replace(n,""),demanded:[],optional:[]};return e.forEach((o,l)=>{let f=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&l===e.length-1&&(f=!0),/^\[/.test(o)?r.optional.push({cmd:o.replace(n,"").split("|"),variadic:f}):r.demanded.push({cmd:o.replace(n,"").split("|"),variadic:f})}),r}var Ri=["first","second","third","fourth","fifth","sixth"];function S(i,t,e){function n(){return typeof i=="object"?[{demanded:[],optional:[]},i,t]:[It(`cmd ${i}`),t,e]}try{let s=0,[r,o,l]=n(),f=[].slice.call(o);for(;f.length&&f[f.length-1]===void 0;)f.pop();let u=l||f.length;if(u<r.demanded.length)throw new q(`Not enough arguments provided. Expected ${r.demanded.length} but received ${f.length}.`);let c=r.demanded.length+r.optional.length;if(u>c)throw new q(`Too many arguments provided. Expected max ${c} but received ${u}.`);r.demanded.forEach(p=>{let d=f.shift(),b=es(d);p.cmd.filter(y=>y===b||y==="*").length===0&&ns(b,p.cmd,s),s+=1}),r.optional.forEach(p=>{if(f.length===0)return;let d=f.shift(),b=es(d);p.cmd.filter(y=>y===b||y==="*").length===0&&ns(b,p.cmd,s),s+=1})}catch(s){console.warn(s.stack)}}function es(i){return Array.isArray(i)?"array":i===null?"null":typeof i}function ns(i,t,e){throw new q(`Invalid ${Ri[e]||"manyith"} argument. Expected ${t.join(" or ")} but received ${i}.`)}var Me=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,e,n=!0,s=!1){if(S("<array|function> [boolean] [boolean] [boolean]",[t,e,n],arguments.length),Array.isArray(t)){for(let r=0;r<t.length;r++){if(typeof t[r]!="function")throw Error("middleware must be a function");let o=t[r];o.applyBeforeValidation=e,o.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let r=t;r.applyBeforeValidation=e,r.global=n,r.mutates=s,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,e){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(s=>{let r=[...n[e]||[],e];return s.option?!r.includes(s.option):!0}),t.option=e,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function ss(i){return i?i.map(t=>(t.applyBeforeValidation=!1,t)):[]}function Ht(i,t,e,n){return e.reduce((s,r)=>{if(r.applyBeforeValidation!==n)return s;if(r.mutates){if(r.applied)return s;r.applied=!0}if(V(s))return s.then(o=>Promise.all([o,r(o,t)])).then(([o,l])=>Object.assign(o,l));{let o=r(s,t);return V(o)?o.then(l=>Object.assign(s,l)):Object.assign(s,o)}},i)}function Bt(i,t,e=n=>{throw n}){try{let n=Ti(i)?i():i;return V(n)?n.then(s=>t(s)):t(n)}catch(n){return e(n)}}function Ti(i){return typeof i=="function"}function an(i){if(typeof require>"u")return null;for(let t=0,e=Object.keys(require.cache),n;t<e.length;t++)if(n=require.cache[e[t]],n.exports===i)return n;return null}var se=/(^\*)|(^\$0)/,ln=class{constructor(t,e,n,s){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=s,this.usage=t,this.globalMiddleware=n,this.validation=e}addDirectory(t,e,n,s){s=s||{},typeof s.recurse!="boolean"&&(s.recurse=!1),Array.isArray(s.extensions)||(s.extensions=["js"]);let r=typeof s.visit=="function"?s.visit:o=>o;s.visit=(o,l,f)=>{let u=r(o,l,f);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:e,filename:n},t,s)}addHandler(t,e,n,s,r,o){let l=[],f=ss(r);if(s=s||(()=>{}),Array.isArray(t))if(zi(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(Hi(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(is(n)){this.addHandler([t].concat(l),e,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=It(t);l=l.map(d=>It(d).cmd);let c=!1,p=[u.cmd].concat(l).filter(d=>se.test(d)?(c=!0,!1):!0);p.length===0&&c&&p.push("$0"),c&&(u.cmd=p[0],l=p.slice(1),t=t.replace(se,u.cmd)),l.forEach(d=>{this.aliasMap[d]=u.cmd}),e!==!1&&this.usage.command(t,e,c,l,o),this.handlers[u.cmd]={original:t,description:e,handler:s,builder:n||{},middlewares:f,deprecated:o,demanded:u.demanded,optional:u.optional},c&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,e,n,s,r,o){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,f=e.getInternalMethods().getContext(),u=f.commands.slice(),c=!t;t&&(f.commands.push(t),f.fullCommands.push(l.original));let p=this.applyBuilderUpdateUsageAndParse(c,l,e,n.aliases,u,s,r,o);return V(p)?p.then(d=>this.applyMiddlewareAndGetResult(c,l,d.innerArgv,f,r,d.aliases,e)):this.applyMiddlewareAndGetResult(c,l,p.innerArgv,f,r,p.aliases,e)}applyBuilderUpdateUsageAndParse(t,e,n,s,r,o,l,f){let u=e.builder,c=n;if(ve(u)){n.getInternalMethods().getUsageInstance().freeze();let p=u(n.getInternalMethods().reset(s),f);if(V(p))return p.then(d=>(c=os(d)?d:n,this.parseAndUpdateUsage(t,e,c,r,o,l)))}else Ui(u)&&(n.getInternalMethods().getUsageInstance().freeze(),c=n.getInternalMethods().reset(s),Object.keys(e.builder).forEach(p=>{c.option(p,u[p])}));return this.parseAndUpdateUsage(t,e,c,r,o,l)}parseAndUpdateUsage(t,e,n,s,r,o){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(s,e),e.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,r,o);return V(l)?l.then(f=>({aliases:n.parsed.aliases,innerArgv:f})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,e){let n=se.test(e.original)?e.original.replace(se,"").trim():e.original,s=t.filter(r=>!se.test(r));return s.push(n),`$0 ${s.join(" ")}`}handleValidationAndGetResult(t,e,n,s,r,o,l,f){if(!o.getInternalMethods().getHasOutput()){let u=o.getInternalMethods().runValidation(r,f,o.parsed.error,t);n=Bt(n,c=>(u(c),c))}if(e.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let u=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(n,u,!1,!1),n=Ht(n,o,l,!1),n=Bt(n,c=>{let p=e.handler(c);return V(p)?p.then(()=>c):c}),t||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),V(n)&&!o.getInternalMethods().hasParseCallback()&&n.catch(c=>{try{o.getInternalMethods().getUsageInstance().fail(null,c)}catch{}})}return t||(s.commands.pop(),s.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,e,n,s,r,o,l){let f={};if(r)return n;l.getInternalMethods().getHasOutput()||(f=this.populatePositionals(e,n,s,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(e.middlewares),c=Ht(n,l,u,!0);return V(c)?c.then(p=>this.handleValidationAndGetResult(t,e,p,s,o,l,u,f)):this.handleValidationAndGetResult(t,e,c,s,o,l,u,f)}populatePositionals(t,e,n,s){e._=e._.slice(n.commands.length);let r=t.demanded.slice(0),o=t.optional.slice(0),l={};for(this.validation.positionalCount(r.length,e._.length);r.length;){let f=r.shift();this.populatePositional(f,e,l)}for(;o.length;){let f=o.shift();this.populatePositional(f,e,l)}return e._=n.commands.concat(e._.map(f=>""+f)),this.postProcessPositionals(e,l,this.cmdToParseOptions(t.original),s),l}populatePositional(t,e,n){let s=t.cmd[0];t.variadic?n[s]=e._.splice(0).map(String):e._.length&&(n[s]=[String(e._.shift())])}cmdToParseOptions(t){let e={array:[],default:{},alias:{},demand:{}},n=It(t);return n.demanded.forEach(s=>{let[r,...o]=s.cmd;s.variadic&&(e.array.push(r),e.default[r]=[]),e.alias[r]=o,e.demand[r]=!0}),n.optional.forEach(s=>{let[r,...o]=s.cmd;s.variadic&&(e.array.push(r),e.default[r]=[]),e.alias[r]=o}),e}postProcessPositionals(t,e,n,s){let r=Object.assign({},s.getOptions());r.default=Object.assign(n.default,r.default);for(let u of Object.keys(n.alias))r.alias[u]=(r.alias[u]||[]).concat(n.alias[u]);r.array=r.array.concat(n.array),r.config={};let o=[];if(Object.keys(e).forEach(u=>{e[u].map(c=>{r.configuration["unknown-options-as-args"]&&(r.key[u]=!0),o.push(`--${u}`),o.push(c)})}),!o.length)return;let l=Object.assign({},r.configuration,{"populate--":!1}),f=this.shim.Parser.detailed(o,Object.assign({},r,{configuration:l}));if(f.error)s.getInternalMethods().getUsageInstance().fail(f.error.message,f.error);else{let u=Object.keys(e);Object.keys(e).forEach(c=>{u.push(...f.aliases[c])}),Object.keys(f.argv).forEach(c=>{u.includes(c)&&(e[c]||(e[c]=f.argv[c]),!this.isInConfigs(s,c)&&!this.isDefaulted(s,c)&&Object.prototype.hasOwnProperty.call(t,c)&&Object.prototype.hasOwnProperty.call(f.argv,c)&&(Array.isArray(t[c])||Array.isArray(f.argv[c]))?t[c]=[].concat(t[c],f.argv[c]):t[c]=f.argv[c])})}}isDefaulted(t,e){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,e)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(e))}isInConfigs(t,e){let{configObjects:n}=t.getOptions();return n.some(s=>Object.prototype.hasOwnProperty.call(s,e))||n.some(s=>Object.prototype.hasOwnProperty.call(s,this.shim.Parser.camelCase(e)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=se.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let e=this.defaultCommand.builder;if(ve(e))return e(t,!0);is(e)||Object.keys(e).forEach(n=>{t.option(n,e[n])})}moduleName(t){let e=an(t);if(!e)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(e.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:e,desc:n}){for(let s of[t,e,n]){if(typeof s=="string"||s===!1)return s;ft(s,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();ft(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function rs(i,t,e,n){return new ln(i,t,e,n)}function is(i){return typeof i=="object"&&!!i.builder&&typeof i.handler=="function"}function zi(i){return i.every(t=>typeof t=="string")}function ve(i){return typeof i=="function"}function Ui(i){return typeof i=="object"}function Hi(i){return typeof i=="object"&&!Array.isArray(i)}function Nt(i={},t=()=>!0){let e={};return ne(i).forEach(n=>{t(n,i[n])&&(e[n]=i[n])}),e}function Wt(i){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let e=t;e._handle&&e.isTTY&&typeof e._handle.setBlocking=="function"&&e._handle.setBlocking(i)})}function Bi(i){return typeof i=="boolean"}function ls(i,t){let e=t.y18n.__,n={},s=[];n.failFn=function(C){s.push(C)};let r=null,o=null,l=!0;n.showHelpOnFail=function(C=!0,P){let[N,G]=typeof C=="string"?[!0,C]:[C,P];return i.getInternalMethods().isGlobalContext()&&(o=G),r=G,l=N,n};let f=!1;n.fail=function(C,P){let N=i.getInternalMethods().getLoggerInstance();if(s.length)for(let G=s.length-1;G>=0;--G){let st=s[G];if(Bi(st)){if(P)throw P;if(C)throw Error(C)}else st(C,P,n)}else{if(i.getExitProcess()&&Wt(!0),!f){f=!0,l&&(i.showHelp("error"),N.error()),(C||P)&&N.error(C||P);let G=r||o;G&&((C||P)&&N.error(""),N.error(G))}if(P=P||new q(C),i.getExitProcess())return i.exit(1);if(i.getInternalMethods().hasParseCallback())return i.exit(1,P);throw P}};let u=[],c=!1;n.usage=(j,C)=>j===null?(c=!0,u=[],n):(c=!1,u.push([j,C||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>c,n.getPositionalGroupName=()=>e("Positionals:");let p=[];n.example=(j,C)=>{p.push([j,C||""])};let d=[];n.command=function(C,P,N,G,st=!1){N&&(d=d.map(Y=>(Y[2]=!1,Y))),d.push([C,P||"",N,G,st])},n.getCommands=()=>d;let b={};n.describe=function(C,P){Array.isArray(C)?C.forEach(N=>{n.describe(N,P)}):typeof C=="object"?Object.keys(C).forEach(N=>{n.describe(N,C[N])}):b[C]=P},n.getDescriptions=()=>b;let x=[];n.epilog=j=>{x.push(j)};let y=!1,m;n.wrap=j=>{y=!0,m=j},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(y||(m=mt(),y=!0),m);let E="__yargsString__:";n.deferY18nLookup=j=>E+j,n.help=function(){if(D)return D;L();let C=i.customScriptName?i.$0:t.path.basename(i.$0),P=i.getDemandedOptions(),N=i.getDemandedCommands(),G=i.getDeprecatedOptions(),st=i.getGroups(),Y=i.getOptions(),it=[];it=it.concat(Object.keys(b)),it=it.concat(Object.keys(P)),it=it.concat(Object.keys(N)),it=it.concat(Object.keys(Y.default)),it=it.filter(K),it=Object.keys(it.reduce((F,J)=>(J!=="_"&&(F[J]=!0),F),{}));let Tt=n.getWrap(),Z=t.cliui({width:Tt,wrap:!!Tt});if(!c){if(u.length)u.forEach(F=>{Z.div({text:`${F[0].replace(/\$0/g,C)}`}),F[1]&&Z.div({text:`${F[1]}`,padding:[1,0,0,0]})}),Z.div();else if(d.length){let F=null;N._?F=`${C} <${e("command")}>
`:F=`${C} [${e("command")}]
`,Z.div(`${F}`)}}if(d.length>1||d.length===1&&!d[0][2]){Z.div(e("Commands:"));let F=i.getInternalMethods().getContext(),J=F.commands.length?`${F.commands.join(" ")} `:"";i.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(d=d.sort((B,X)=>B[0].localeCompare(X[0])));let Q=C?`${C} `:"";d.forEach(B=>{let X=`${Q}${J}${B[0].replace(/^\$0 ?/,"")}`;Z.span({text:X,padding:[0,2,0,2],width:$(d,Tt,`${C}${J}`)+4},{text:B[1]});let tt=[];B[2]&&tt.push(`[${e("default")}]`),B[3]&&B[3].length&&tt.push(`[${e("aliases:")} ${B[3].join(", ")}]`),B[4]&&(typeof B[4]=="string"?tt.push(`[${e("deprecated: %s",B[4])}]`):tt.push(`[${e("deprecated")}]`)),tt.length?Z.div({text:tt.join(" "),padding:[0,0,0,2],align:"right"}):Z.div()}),Z.div()}let Mt=(Object.keys(Y.alias)||[]).concat(Object.keys(i.parsed.newAliases)||[]);it=it.filter(F=>!i.parsed.newAliases[F]&&Mt.every(J=>(Y.alias[J]||[]).indexOf(F)===-1));let vt=e("Options:");st[vt]||(st[vt]=[]),U(it,Y.alias,st,vt);let zt=F=>/^--/.test($e(F)),R=Object.keys(st).filter(F=>st[F].length>0).map(F=>{let J=st[F].filter(K).map(Q=>{if(Mt.includes(Q))return Q;for(let B=0,X;(X=Mt[B])!==void 0;B++)if((Y.alias[X]||[]).includes(Q))return X;return Q});return{groupName:F,normalizedKeys:J}}).filter(({normalizedKeys:F})=>F.length>0).map(({groupName:F,normalizedKeys:J})=>{let Q=J.reduce((B,X)=>(B[X]=[X].concat(Y.alias[X]||[]).map(tt=>F===n.getPositionalGroupName()?tt:(/^[0-9]$/.test(tt)?Y.boolean.includes(X)?"-":"--":tt.length>1?"--":"-")+tt).sort((tt,Ct)=>zt(tt)===zt(Ct)?0:zt(tt)?1:-1).join(", "),B),{});return{groupName:F,normalizedKeys:J,switches:Q}});if(R.filter(({groupName:F})=>F!==n.getPositionalGroupName()).some(({normalizedKeys:F,switches:J})=>!F.every(Q=>zt(J[Q])))&&R.filter(({groupName:F})=>F!==n.getPositionalGroupName()).forEach(({normalizedKeys:F,switches:J})=>{F.forEach(Q=>{zt(J[Q])&&(J[Q]=Gi(J[Q],4))})}),R.forEach(({groupName:F,normalizedKeys:J,switches:Q})=>{Z.div(F),J.forEach(B=>{let X=Q[B],tt=b[B]||"",Ct=null;tt.includes(E)&&(tt=e(tt.substring(E.length))),Y.boolean.includes(B)&&(Ct=`[${e("boolean")}]`),Y.count.includes(B)&&(Ct=`[${e("count")}]`),Y.string.includes(B)&&(Ct=`[${e("string")}]`),Y.normalize.includes(B)&&(Ct=`[${e("string")}]`),Y.array.includes(B)&&(Ct=`[${e("array")}]`),Y.number.includes(B)&&(Ct=`[${e("number")}]`);let Et=w=>typeof w=="string"?`[${e("deprecated: %s",w)}]`:`[${e("deprecated")}]`,Oe=[B in G?Et(G[B]):null,Ct,B in P?`[${e("required")}]`:null,Y.choices&&Y.choices[B]?`[${e("choices:")} ${n.stringifiedValues(Y.choices[B])}]`:null,rt(Y.default[B],Y.defaultDescription[B])].filter(Boolean).join(" ");Z.span({text:$e(X),padding:[0,2,0,2+as(X)],width:$(Q,Tt)+4},tt);let h=i.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;Oe&&!h?Z.div({text:Oe,padding:[0,0,0,2],align:"right"}):Z.div()}),Z.div()}),p.length&&(Z.div(e("Examples:")),p.forEach(F=>{F[0]=F[0].replace(/\$0/g,C)}),p.forEach(F=>{F[1]===""?Z.div({text:F[0],padding:[0,2,0,2]}):Z.div({text:F[0],padding:[0,2,0,2],width:$(p,Tt)+4},{text:F[1]})}),Z.div()),x.length>0){let F=x.map(J=>J.replace(/\$0/g,C)).join(`
`);Z.div(`${F}
`)}return Z.toString().replace(/\s*$/,"")};function $(j,C,P){let N=0;return Array.isArray(j)||(j=Object.values(j).map(G=>[G])),j.forEach(G=>{N=Math.max(t.stringWidth(P?`${P} ${$e(G[0])}`:$e(G[0]))+as(G[0]),N)}),C&&(N=Math.min(N,parseInt((C*.5).toString(),10))),N}function L(){let j=i.getDemandedOptions(),C=i.getOptions();(Object.keys(C.alias)||[]).forEach(P=>{C.alias[P].forEach(N=>{b[N]&&n.describe(P,b[N]),N in j&&i.demandOption(P,j[N]),C.boolean.includes(N)&&i.boolean(P),C.count.includes(N)&&i.count(P),C.string.includes(N)&&i.string(P),C.normalize.includes(N)&&i.normalize(P),C.array.includes(N)&&i.array(P),C.number.includes(N)&&i.number(P)})})}let D;n.cacheHelpMessage=function(){D=this.help()},n.clearCachedHelpMessage=function(){D=void 0},n.hasCachedHelpMessage=function(){return!!D};function U(j,C,P,N){let G=[],st=null;return Object.keys(P).forEach(Y=>{G=G.concat(P[Y])}),j.forEach(Y=>{st=[Y].concat(C[Y]),st.some(it=>G.indexOf(it)!==-1)||P[N].push(Y)}),G}function K(j){return i.getOptions().hiddenOptions.indexOf(j)<0||i.parsed.argv[i.getOptions().showHiddenOpt]}n.showHelp=j=>{let C=i.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:C[j])(n.help())},n.functionDescription=j=>["(",j.name?t.Parser.decamelize(j.name,"-"):e("generated-value"),")"].join(""),n.stringifiedValues=function(C,P){let N="",G=P||", ",st=[].concat(C);return!C||!st.length||st.forEach(Y=>{N.length&&(N+=G),N+=JSON.stringify(Y)}),N};function rt(j,C){let P=`[${e("default:")} `;if(j===void 0&&!C)return null;if(C)P+=C;else switch(typeof j){case"string":P+=`"${j}"`;break;case"object":P+=JSON.stringify(j);break;default:P+=j}return`${P}]`}function mt(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let nt=null;n.version=j=>{nt=j},n.showVersion=j=>{let C=i.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:C[j])(nt)},n.reset=function(C){return r=null,f=!1,u=[],c=!1,x=[],p=[],d=[],b=Nt(b,P=>!C[P]),n};let H=[];return n.freeze=function(){H.push({failMessage:r,failureOutput:f,usages:u,usageDisabled:c,epilogs:x,examples:p,commands:d,descriptions:b})},n.unfreeze=function(C=!1){let P=H.pop();P&&(C?(b={...P.descriptions,...b},d=[...P.commands,...d],u=[...P.usages,...u],p=[...P.examples,...p],x=[...P.epilogs,...x]):{failMessage:r,failureOutput:f,usages:u,usageDisabled:c,epilogs:x,examples:p,commands:d,descriptions:b}=P)},n}function cn(i){return typeof i=="object"}function Gi(i,t){return cn(i)?{text:i.text,indentation:i.indentation+t}:{text:i,indentation:t}}function as(i){return cn(i)?i.indentation:0}function $e(i){return cn(i)?i.text:i}var cs=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,fs=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var fn=class{constructor(t,e,n,s){var r,o,l;this.yargs=t,this.usage=e,this.command=n,this.shim=s,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((r=this.shim.getEnv("SHELL"))===null||r===void 0?void 0:r.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,e,n,s){let r=this.command.getCommandHandlers();for(let l=0,f=t.length;l<f;++l)if(r[t[l]]&&r[t[l]].builder){let u=r[t[l]].builder;if(ve(u)){this.indexAfterLastReset=l+1;let c=this.yargs.getInternalMethods().reset();return u(c,!0),c.argv}}let o=[];this.commandCompletions(o,t,n),this.optionCompletions(o,t,e,n),this.choicesFromOptionsCompletions(o,t,e,n),this.choicesFromPositionalsCompletions(o,t,e,n),s(null,o)}commandCompletions(t,e,n){let s=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&s[s.length-1]!==n&&!this.previousArgHasChoices(e)&&this.usage.getCommands().forEach(r=>{let o=It(r[0]).cmd;if(e.indexOf(o)===-1)if(!this.zshShell)t.push(o);else{let l=r[1]||"";t.push(o.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,e,n,s){if((s.match(/^-/)||s===""&&t.length===0)&&!this.previousArgHasChoices(e)){let r=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(r.key).forEach(l=>{let f=!!r.configuration["boolean-negation"]&&r.boolean.includes(l);!o.includes(l)&&!r.hiddenOptions.includes(l)&&!this.argsContainKey(e,l,f)&&this.completeOptionKey(l,t,s,f&&!!r.default[l])})}}choicesFromOptionsCompletions(t,e,n,s){if(this.previousArgHasChoices(e)){let r=this.getPreviousArgChoices(e);r&&r.length>0&&t.push(...r.map(o=>o.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,e,n,s){if(s===""&&t.length>0&&this.previousArgHasChoices(e))return;let r=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=r[n._.length-o-1];if(!l)return;let f=this.yargs.getOptions().choices[l]||[];for(let u of f)u.startsWith(s)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let e=t[t.length-1],n="";if(!e.startsWith("-")&&t.length>1&&(n=e,e=t[t.length-2]),!e.startsWith("-"))return;let s=e.replace(/^-+/,""),r=this.yargs.getOptions(),o=[s,...this.yargs.getAliases()[s]||[]],l;for(let f of o)if(Object.prototype.hasOwnProperty.call(r.key,f)&&Array.isArray(r.choices[f])){l=r.choices[f];break}if(l)return l.filter(f=>!n||f.startsWith(n))}previousArgHasChoices(t){let e=this.getPreviousArgChoices(t);return e!==void 0&&e.length>0}argsContainKey(t,e,n){let s=r=>t.indexOf((/^[^0-9]$/.test(r)?"-":"--")+r)!==-1;if(s(e)||n&&s(`no-${e}`))return!0;if(this.aliases){for(let r of this.aliases[e])if(s(r))return!0}return!1}completeOptionKey(t,e,n,s){var r,o,l,f;let u=t;if(this.zshShell){let b=this.usage.getDescriptions(),x=(o=(r=this===null||this===void 0?void 0:this.aliases)===null||r===void 0?void 0:r[t])===null||o===void 0?void 0:o.find(E=>{let $=b[E];return typeof $=="string"&&$.length>0}),y=x?b[x]:void 0,m=(f=(l=b[t])!==null&&l!==void 0?l:y)!==null&&f!==void 0?f:"";u=`${t.replace(/:/g,"\\:")}:${m.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let c=b=>/^--/.test(b),p=b=>/^[^0-9]$/.test(b),d=!c(n)&&p(t)?"-":"--";e.push(d+u),s&&e.push(d+"no-"+u)}customCompletion(t,e,n,s){if(ft(this.customCompletionFunction,null,this.shim),qi(this.customCompletionFunction)){let r=this.customCompletionFunction(n,e);return V(r)?r.then(o=>{this.shim.process.nextTick(()=>{s(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{s(o,void 0)})}):s(null,r)}else return Vi(this.customCompletionFunction)?this.customCompletionFunction(n,e,(r=s)=>this.defaultCompletion(t,e,n,r),r=>{s(null,r)}):this.customCompletionFunction(n,e,r=>{s(null,r)})}getCompletion(t,e){let n=t.length?t[t.length-1]:"",s=this.yargs.parse(t,!0),r=this.customCompletionFunction?o=>this.customCompletion(t,o,n,e):o=>this.defaultCompletion(t,o,n,e);return V(s)?s.then(r):r(s)}generateCompletionScript(t,e){let n=this.zshShell?fs:cs,s=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,s),n=n.replace(/{{completion_command}}/g,e),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function hs(i,t,e,n){return new fn(i,t,e,n)}function qi(i){return i.length<3}function Vi(i){return i.length>3}function us(i,t){if(i.length===0)return t.length;if(t.length===0)return i.length;let e=[],n;for(n=0;n<=t.length;n++)e[n]=[n];let s;for(s=0;s<=i.length;s++)e[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=i.length;s++)t.charAt(n-1)===i.charAt(s-1)?e[n][s]=e[n-1][s-1]:n>1&&s>1&&t.charAt(n-2)===i.charAt(s-1)&&t.charAt(n-1)===i.charAt(s-2)?e[n][s]=e[n-2][s-2]+1:e[n][s]=Math.min(e[n-1][s-1]+1,Math.min(e[n][s-1]+1,e[n-1][s]+1));return e[t.length][i.length]}var ds=["$0","--","_"];function ps(i,t,e){let n=e.y18n.__,s=e.y18n.__n,r={};r.nonOptionCount=function(p){let d=i.getDemandedCommands(),x=p._.length+(p["--"]?p["--"].length:0)-i.getInternalMethods().getContext().commands.length;d._&&(x<d._.min||x>d._.max)&&(x<d._.min?d._.minMsg!==void 0?t.fail(d._.minMsg?d._.minMsg.replace(/\$0/g,x.toString()).replace(/\$1/,d._.min.toString()):null):t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",x,x.toString(),d._.min.toString())):x>d._.max&&(d._.maxMsg!==void 0?t.fail(d._.maxMsg?d._.maxMsg.replace(/\$0/g,x.toString()).replace(/\$1/,d._.max.toString()):null):t.fail(s("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",x,x.toString(),d._.max.toString()))))},r.positionalCount=function(p,d){d<p&&t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",d,d+"",p+""))},r.requiredArguments=function(p,d){let b=null;for(let x of Object.keys(d))(!Object.prototype.hasOwnProperty.call(p,x)||typeof p[x]>"u")&&(b=b||{},b[x]=d[x]);if(b){let x=[];for(let m of Object.keys(b)){let E=b[m];E&&x.indexOf(E)<0&&x.push(E)}let y=x.length?`
${x.join(`
`)}`:"";t.fail(s("Missing required argument: %s","Missing required arguments: %s",Object.keys(b).length,Object.keys(b).join(", ")+y))}},r.unknownArguments=function(p,d,b,x,y=!0){var m;let E=i.getInternalMethods().getCommandInstance().getCommands(),$=[],L=i.getInternalMethods().getContext();if(Object.keys(p).forEach(D=>{!ds.includes(D)&&!Object.prototype.hasOwnProperty.call(b,D)&&!Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),D)&&!r.isValidAndSomeAliasIsNotNew(D,d)&&$.push(D)}),y&&(L.commands.length>0||E.length>0||x)&&p._.slice(L.commands.length).forEach(D=>{E.includes(""+D)||$.push(""+D)}),y){let U=((m=i.getDemandedCommands()._)===null||m===void 0?void 0:m.max)||0,K=L.commands.length+U;K<p._.length&&p._.slice(K).forEach(rt=>{rt=String(rt),!L.commands.includes(rt)&&!$.includes(rt)&&$.push(rt)})}$.length&&t.fail(s("Unknown argument: %s","Unknown arguments: %s",$.length,$.map(D=>D.trim()?D:`"${D}"`).join(", ")))},r.unknownCommands=function(p){let d=i.getInternalMethods().getCommandInstance().getCommands(),b=[],x=i.getInternalMethods().getContext();return(x.commands.length>0||d.length>0)&&p._.slice(x.commands.length).forEach(y=>{d.includes(""+y)||b.push(""+y)}),b.length>0?(t.fail(s("Unknown command: %s","Unknown commands: %s",b.length,b.join(", "))),!0):!1},r.isValidAndSomeAliasIsNotNew=function(p,d){if(!Object.prototype.hasOwnProperty.call(d,p))return!1;let b=i.parsed.newAliases;return[p,...d[p]].some(x=>!Object.prototype.hasOwnProperty.call(b,x)||!b[p])},r.limitedChoices=function(p){let d=i.getOptions(),b={};if(!Object.keys(d.choices).length)return;Object.keys(p).forEach(m=>{ds.indexOf(m)===-1&&Object.prototype.hasOwnProperty.call(d.choices,m)&&[].concat(p[m]).forEach(E=>{d.choices[m].indexOf(E)===-1&&E!==void 0&&(b[m]=(b[m]||[]).concat(E))})});let x=Object.keys(b);if(!x.length)return;let y=n("Invalid values:");x.forEach(m=>{y+=`
  ${n("Argument: %s, Given: %s, Choices: %s",m,t.stringifiedValues(b[m]),t.stringifiedValues(d.choices[m]))}`}),t.fail(y)};let o={};r.implies=function(p,d){S("<string|object> [array|number|string]",[p,d],arguments.length),typeof p=="object"?Object.keys(p).forEach(b=>{r.implies(b,p[b])}):(i.global(p),o[p]||(o[p]=[]),Array.isArray(d)?d.forEach(b=>r.implies(p,b)):(ft(d,void 0,e),o[p].push(d)))},r.getImplied=function(){return o};function l(c,p){let d=Number(p);return p=isNaN(d)?p:d,typeof p=="number"?p=c._.length>=p:p.match(/^--no-.+/)?(p=p.match(/^--no-(.+)/)[1],p=!Object.prototype.hasOwnProperty.call(c,p)):p=Object.prototype.hasOwnProperty.call(c,p),p}r.implications=function(p){let d=[];if(Object.keys(o).forEach(b=>{let x=b;(o[b]||[]).forEach(y=>{let m=x,E=y;m=l(p,m),y=l(p,y),m&&!y&&d.push(` ${x} -> ${E}`)})}),d.length){let b=`${n("Implications failed:")}
`;d.forEach(x=>{b+=x}),t.fail(b)}};let f={};r.conflicts=function(p,d){S("<string|object> [array|string]",[p,d],arguments.length),typeof p=="object"?Object.keys(p).forEach(b=>{r.conflicts(b,p[b])}):(i.global(p),f[p]||(f[p]=[]),Array.isArray(d)?d.forEach(b=>r.conflicts(p,b)):f[p].push(d))},r.getConflicting=()=>f,r.conflicting=function(p){Object.keys(p).forEach(d=>{f[d]&&f[d].forEach(b=>{b&&p[d]!==void 0&&p[b]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",d,b))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(f).forEach(d=>{f[d].forEach(b=>{b&&p[e.Parser.camelCase(d)]!==void 0&&p[e.Parser.camelCase(b)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",d,b))})})},r.recommendCommands=function(p,d){d=d.sort((m,E)=>E.length-m.length);let x=null,y=1/0;for(let m=0,E;(E=d[m])!==void 0;m++){let $=us(p,E);$<=3&&$<y&&(y=$,x=E)}x&&t.fail(n("Did you mean %s?",x))},r.reset=function(p){return o=Nt(o,d=>!p[d]),f=Nt(f,d=>!p[d]),r};let u=[];return r.freeze=function(){u.push({implied:o,conflicting:f})},r.unfreeze=function(){let p=u.pop();ft(p,void 0,e),{implied:o,conflicting:f}=p},r}var hn=[],ue;function de(i,t,e,n){ue=n;let s={};if(Object.prototype.hasOwnProperty.call(i,"extends")){if(typeof i.extends!="string")return s;let r=/\.json|\..*rc$/.test(i.extends),o=null;if(r)o=Ji(t,i.extends);else try{o=require.resolve(i.extends)}catch{return i}Ki(o),hn.push(o),s=r?JSON.parse(ue.readFileSync(o,"utf8")):require(i.extends),delete i.extends,s=de(s,ue.path.dirname(o),e,ue)}return hn=[],e?ms(s,i):Object.assign({},s,i)}function Ki(i){if(hn.indexOf(i)>-1)throw new q(`Circular extended configurations: '${i}'.`)}function Ji(i,t){return ue.path.resolve(i,t)}function ms(i,t){let e={};function n(s){return s&&typeof s=="object"&&!Array.isArray(s)}Object.assign(e,i);for(let s of Object.keys(t))n(t[s])&&n(e[s])?e[s]=ms(i[s],t[s]):e[s]=t[s];return e}var M=function(i,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?i!==t||!s:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(i,e):s?s.value=e:t.set(i,e),e},a=function(i,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?i!==t||!n:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(i):n?n.value:t.get(i)},et,Gt,pe,bt,ut,Ie,Dt,Yt,Ne,wt,We,yt,St,dt,Ot,De,ie,at,I,Le,Fe,pt,qt,re,Vt,Lt,Re,T,Kt,Jt,Zt,z,Te,Pt,k;function Ds(i){return(t=[],e=i.process.cwd(),n)=>{let s=new _n(t,e,n,i);return Object.defineProperty(s,"argv",{get:()=>s.parse(),enumerable:!0}),s.help(),s.version(),s}}var gs=Symbol("copyDoubleDash"),bs=Symbol("copyDoubleDash"),un=Symbol("deleteFromParserHintObject"),ws=Symbol("emitWarning"),ys=Symbol("freeze"),Os=Symbol("getDollarZero"),Qt=Symbol("getParserConfiguration"),xs=Symbol("getUsageConfiguration"),dn=Symbol("guessLocale"),_s=Symbol("guessVersion"),Cs=Symbol("parsePositionalNumbers"),pn=Symbol("pkgUp"),Ft=Symbol("populateParserHintArray"),oe=Symbol("populateParserHintSingleValueDictionary"),mn=Symbol("populateParserHintArrayDictionary"),gn=Symbol("populateParserHintDictionary"),bn=Symbol("sanitizeKey"),wn=Symbol("setKey"),yn=Symbol("unfreeze"),Es=Symbol("validateAsync"),As=Symbol("getCommandInstance"),js=Symbol("getContext"),Ss=Symbol("getHasOutput"),Ps=Symbol("getLoggerInstance"),Ms=Symbol("getParseContext"),vs=Symbol("getUsageInstance"),$s=Symbol("getValidationInstance"),ze=Symbol("hasParseCallback"),Is=Symbol("isGlobalContext"),Xt=Symbol("postProcess"),Ns=Symbol("rebase"),On=Symbol("reset"),me=Symbol("runYargsParserAndExecuteCommands"),xn=Symbol("runValidation"),Ws=Symbol("setHasOutput"),kt=Symbol("kTrackManuallySetKeys"),_n=class{constructor(t=[],e,n,s){this.customScriptName=!1,this.parsed=!1,et.set(this,void 0),Gt.set(this,void 0),pe.set(this,{commands:[],fullCommands:[]}),bt.set(this,null),ut.set(this,null),Ie.set(this,"show-hidden"),Dt.set(this,null),Yt.set(this,!0),Ne.set(this,{}),wt.set(this,!0),We.set(this,[]),yt.set(this,void 0),St.set(this,{}),dt.set(this,!1),Ot.set(this,null),De.set(this,!0),ie.set(this,void 0),at.set(this,""),I.set(this,void 0),Le.set(this,void 0),Fe.set(this,{}),pt.set(this,null),qt.set(this,null),re.set(this,{}),Vt.set(this,{}),Lt.set(this,void 0),Re.set(this,!1),T.set(this,void 0),Kt.set(this,!1),Jt.set(this,!1),Zt.set(this,!1),z.set(this,void 0),Te.set(this,{}),Pt.set(this,null),k.set(this,void 0),M(this,T,s,"f"),M(this,Lt,t,"f"),M(this,Gt,e,"f"),M(this,Le,n,"f"),M(this,yt,new Me(this),"f"),this.$0=this[Os](),this[On](),M(this,et,a(this,et,"f"),"f"),M(this,z,a(this,z,"f"),"f"),M(this,k,a(this,k,"f"),"f"),M(this,I,a(this,I,"f"),"f"),a(this,I,"f").showHiddenOpt=a(this,Ie,"f"),M(this,ie,this[bs](),"f")}addHelpOpt(t,e){let n="help";return S("[string|boolean] [string]",[t,e],arguments.length),a(this,Ot,"f")&&(this[un](a(this,Ot,"f")),M(this,Ot,null,"f")),t===!1&&e===void 0?this:(M(this,Ot,typeof t=="string"?t:n,"f"),this.boolean(a(this,Ot,"f")),this.describe(a(this,Ot,"f"),e||a(this,z,"f").deferY18nLookup("Show help")),this)}help(t,e){return this.addHelpOpt(t,e)}addShowHiddenOpt(t,e){if(S("[string|boolean] [string]",[t,e],arguments.length),t===!1&&e===void 0)return this;let n=typeof t=="string"?t:a(this,Ie,"f");return this.boolean(n),this.describe(n,e||a(this,z,"f").deferY18nLookup("Show hidden options")),a(this,I,"f").showHiddenOpt=n,this}showHidden(t,e){return this.addShowHiddenOpt(t,e)}alias(t,e){return S("<object|string|array> [string|array]",[t,e],arguments.length),this[mn](this.alias.bind(this),"alias",t,e),this}array(t){return S("<array|string>",[t],arguments.length),this[Ft]("array",t),this[kt](t),this}boolean(t){return S("<array|string>",[t],arguments.length),this[Ft]("boolean",t),this[kt](t),this}check(t,e){return S("<function> [boolean]",[t,e],arguments.length),this.middleware((n,s)=>Bt(()=>t(n,s.getOptions()),r=>(r?(typeof r=="string"||r instanceof Error)&&a(this,z,"f").fail(r.toString(),r):a(this,z,"f").fail(a(this,T,"f").y18n.__("Argument check failed: %s",t.toString())),n),r=>(a(this,z,"f").fail(r.message?r.message:r.toString(),r),n)),!1,e),this}choices(t,e){return S("<object|string|array> [string|array]",[t,e],arguments.length),this[mn](this.choices.bind(this),"choices",t,e),this}coerce(t,e){if(S("<object|string|array> [function]",[t,e],arguments.length),Array.isArray(t)){if(!e)throw new q("coerce callback must be provided");for(let n of t)this.coerce(n,e);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!e)throw new q("coerce callback must be provided");return a(this,I,"f").key[t]=!0,a(this,yt,"f").addCoerceMiddleware((n,s)=>{let r;return Object.prototype.hasOwnProperty.call(n,t)?Bt(()=>(r=s.getAliases(),e(n[t])),l=>{n[t]=l;let f=s.getInternalMethods().getParserConfiguration()["strip-aliased"];if(r[t]&&f!==!0)for(let u of r[t])n[u]=l;return n},l=>{throw new q(l.message)}):n},t),this}conflicts(t,e){return S("<string|object> [string|array]",[t,e],arguments.length),a(this,k,"f").conflicts(t,e),this}config(t="config",e,n){return S("[object|string] [string|function] [function]",[t,e,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=de(t,a(this,Gt,"f"),this[Qt]()["deep-merge-config"]||!1,a(this,T,"f")),a(this,I,"f").configObjects=(a(this,I,"f").configObjects||[]).concat(t),this):(typeof e=="function"&&(n=e,e=void 0),this.describe(t,e||a(this,z,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(s=>{a(this,I,"f").config[s]=n||!0}),this)}completion(t,e,n){return S("[string] [string|boolean|function] [function]",[t,e,n],arguments.length),typeof e=="function"&&(n=e,e=void 0),M(this,ut,t||a(this,ut,"f")||"completion","f"),!e&&e!==!1&&(e="generate completion script"),this.command(a(this,ut,"f"),e),n&&a(this,bt,"f").registerFunction(n),this}command(t,e,n,s,r,o){return S("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,e,n,s,r,o],arguments.length),a(this,et,"f").addHandler(t,e,n,s,r,o),this}commands(t,e,n,s,r,o){return this.command(t,e,n,s,r,o)}commandDir(t,e){S("<string> [object]",[t,e],arguments.length);let n=a(this,Le,"f")||a(this,T,"f").require;return a(this,et,"f").addDirectory(t,n,a(this,T,"f").getCallerFile(),e),this}count(t){return S("<array|string>",[t],arguments.length),this[Ft]("count",t),this[kt](t),this}default(t,e,n){return S("<object|string|array> [*] [string]",[t,e,n],arguments.length),n&&(on(t,a(this,T,"f")),a(this,I,"f").defaultDescription[t]=n),typeof e=="function"&&(on(t,a(this,T,"f")),a(this,I,"f").defaultDescription[t]||(a(this,I,"f").defaultDescription[t]=a(this,z,"f").functionDescription(e)),e=e.call()),this[oe](this.default.bind(this),"default",t,e),this}defaults(t,e,n){return this.default(t,e,n)}demandCommand(t=1,e,n,s){return S("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,e,n,s],arguments.length),typeof e!="number"&&(n=e,e=1/0),this.global("_",!1),a(this,I,"f").demandedCommands._={min:t,max:e,minMsg:n,maxMsg:s},this}demand(t,e,n){return Array.isArray(e)?(e.forEach(s=>{ft(n,!0,a(this,T,"f")),this.demandOption(s,n)}),e=1/0):typeof e!="number"&&(n=e,e=1/0),typeof t=="number"?(ft(n,!0,a(this,T,"f")),this.demandCommand(t,e,n,n)):Array.isArray(t)?t.forEach(s=>{ft(n,!0,a(this,T,"f")),this.demandOption(s,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,e){return S("<object|string|array> [string]",[t,e],arguments.length),this[oe](this.demandOption.bind(this),"demandedOptions",t,e),this}deprecateOption(t,e){return S("<string> [string|boolean]",[t,e],arguments.length),a(this,I,"f").deprecatedOptions[t]=e,this}describe(t,e){return S("<object|string|array> [string]",[t,e],arguments.length),this[wn](t,!0),a(this,z,"f").describe(t,e),this}detectLocale(t){return S("<boolean>",[t],arguments.length),M(this,Yt,t,"f"),this}env(t){return S("[string|boolean]",[t],arguments.length),t===!1?delete a(this,I,"f").envPrefix:a(this,I,"f").envPrefix=t||"",this}epilogue(t){return S("<string>",[t],arguments.length),a(this,z,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,e){return S("<string|array> [string]",[t,e],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):a(this,z,"f").example(t,e),this}exit(t,e){M(this,dt,!0,"f"),M(this,Dt,e,"f"),a(this,wt,"f")&&a(this,T,"f").process.exit(t)}exitProcess(t=!0){return S("[boolean]",[t],arguments.length),M(this,wt,t,"f"),this}fail(t){if(S("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new q("Invalid first argument. Expected function or boolean 'false'");return a(this,z,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,e){return S("<array> [function]",[t,e],arguments.length),e?a(this,bt,"f").getCompletion(t,e):new Promise((n,s)=>{a(this,bt,"f").getCompletion(t,(r,o)=>{r?s(r):n(o)})})}getDemandedOptions(){return S([],0),a(this,I,"f").demandedOptions}getDemandedCommands(){return S([],0),a(this,I,"f").demandedCommands}getDeprecatedOptions(){return S([],0),a(this,I,"f").deprecatedOptions}getDetectLocale(){return a(this,Yt,"f")}getExitProcess(){return a(this,wt,"f")}getGroups(){return Object.assign({},a(this,St,"f"),a(this,Vt,"f"))}getHelp(){if(M(this,dt,!0,"f"),!a(this,z,"f").hasCachedHelpMessage()){if(!this.parsed){let e=this[me](a(this,Lt,"f"),void 0,void 0,0,!0);if(V(e))return e.then(()=>a(this,z,"f").help())}let t=a(this,et,"f").runDefaultBuilderOn(this);if(V(t))return t.then(()=>a(this,z,"f").help())}return Promise.resolve(a(this,z,"f").help())}getOptions(){return a(this,I,"f")}getStrict(){return a(this,Kt,"f")}getStrictCommands(){return a(this,Jt,"f")}getStrictOptions(){return a(this,Zt,"f")}global(t,e){return S("<string|array> [boolean]",[t,e],arguments.length),t=[].concat(t),e!==!1?a(this,I,"f").local=a(this,I,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{a(this,I,"f").local.includes(n)||a(this,I,"f").local.push(n)}),this}group(t,e){S("<string|array> <string>",[t,e],arguments.length);let n=a(this,Vt,"f")[e]||a(this,St,"f")[e];a(this,Vt,"f")[e]&&delete a(this,Vt,"f")[e];let s={};return a(this,St,"f")[e]=(n||[]).concat(t).filter(r=>s[r]?!1:s[r]=!0),this}hide(t){return S("<string>",[t],arguments.length),a(this,I,"f").hiddenOptions.push(t),this}implies(t,e){return S("<string|object> [number|string|array]",[t,e],arguments.length),a(this,k,"f").implies(t,e),this}locale(t){return S("[string]",[t],arguments.length),t===void 0?(this[dn](),a(this,T,"f").y18n.getLocale()):(M(this,Yt,!1,"f"),a(this,T,"f").y18n.setLocale(t),this)}middleware(t,e,n){return a(this,yt,"f").addMiddleware(t,!!e,n)}nargs(t,e){return S("<string|object|array> [number]",[t,e],arguments.length),this[oe](this.nargs.bind(this),"narg",t,e),this}normalize(t){return S("<array|string>",[t],arguments.length),this[Ft]("normalize",t),this}number(t){return S("<array|string>",[t],arguments.length),this[Ft]("number",t),this[kt](t),this}option(t,e){if(S("<string|object> [object]",[t,e],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof e!="object"&&(e={}),this[kt](t),a(this,Pt,"f")&&(t==="version"||e?.alias==="version")&&this[ws](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),a(this,I,"f").key[t]=!0,e.alias&&this.alias(t,e.alias);let n=e.deprecate||e.deprecated;n&&this.deprecateOption(t,n);let s=e.demand||e.required||e.require;s&&this.demand(t,s),e.demandOption&&this.demandOption(t,typeof e.demandOption=="string"?e.demandOption:void 0),e.conflicts&&this.conflicts(t,e.conflicts),"default"in e&&this.default(t,e.default),e.implies!==void 0&&this.implies(t,e.implies),e.nargs!==void 0&&this.nargs(t,e.nargs),e.config&&this.config(t,e.configParser),e.normalize&&this.normalize(t),e.choices&&this.choices(t,e.choices),e.coerce&&this.coerce(t,e.coerce),e.group&&this.group(t,e.group),(e.boolean||e.type==="boolean")&&(this.boolean(t),e.alias&&this.boolean(e.alias)),(e.array||e.type==="array")&&(this.array(t),e.alias&&this.array(e.alias)),(e.number||e.type==="number")&&(this.number(t),e.alias&&this.number(e.alias)),(e.string||e.type==="string")&&(this.string(t),e.alias&&this.string(e.alias)),(e.count||e.type==="count")&&this.count(t),typeof e.global=="boolean"&&this.global(t,e.global),e.defaultDescription&&(a(this,I,"f").defaultDescription[t]=e.defaultDescription),e.skipValidation&&this.skipValidation(t);let r=e.describe||e.description||e.desc,o=a(this,z,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(o,t)||typeof r=="string")&&this.describe(t,r),e.hidden&&this.hide(t),e.requiresArg&&this.requiresArg(t)}return this}options(t,e){return this.option(t,e)}parse(t,e,n){S("[string|array] [function|boolean|object] [function]",[t,e,n],arguments.length),this[ys](),typeof t>"u"&&(t=a(this,Lt,"f")),typeof e=="object"&&(M(this,qt,e,"f"),e=n),typeof e=="function"&&(M(this,pt,e,"f"),e=!1),e||M(this,Lt,t,"f"),a(this,pt,"f")&&M(this,wt,!1,"f");let s=this[me](t,!!e),r=this.parsed;return a(this,bt,"f").setParsed(this.parsed),V(s)?s.then(o=>(a(this,pt,"f")&&a(this,pt,"f").call(this,a(this,Dt,"f"),o,a(this,at,"f")),o)).catch(o=>{throw a(this,pt,"f")&&a(this,pt,"f")(o,this.parsed.argv,a(this,at,"f")),o}).finally(()=>{this[yn](),this.parsed=r}):(a(this,pt,"f")&&a(this,pt,"f").call(this,a(this,Dt,"f"),s,a(this,at,"f")),this[yn](),this.parsed=r,s)}parseAsync(t,e,n){let s=this.parse(t,e,n);return V(s)?s:Promise.resolve(s)}parseSync(t,e,n){let s=this.parse(t,e,n);if(V(s))throw new q(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return s}parserConfiguration(t){return S("<object>",[t],arguments.length),M(this,Fe,t,"f"),this}pkgConf(t,e){S("<string> [string]",[t,e],arguments.length);let n=null,s=this[pn](e||a(this,Gt,"f"));return s[t]&&typeof s[t]=="object"&&(n=de(s[t],e||a(this,Gt,"f"),this[Qt]()["deep-merge-config"]||!1,a(this,T,"f")),a(this,I,"f").configObjects=(a(this,I,"f").configObjects||[]).concat(n)),this}positional(t,e){S("<string> <object>",[t,e],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];e=Nt(e,(o,l)=>o==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(o));let s=a(this,pe,"f").fullCommands[a(this,pe,"f").fullCommands.length-1],r=s?a(this,et,"f").cmdToParseOptions(s):{array:[],alias:{},default:{},demand:{}};return ne(r).forEach(o=>{let l=r[o];Array.isArray(l)?l.indexOf(t)!==-1&&(e[o]=!0):l[t]&&!(o in e)&&(e[o]=l[t])}),this.group(t,a(this,z,"f").getPositionalGroupName()),this.option(t,e)}recommendCommands(t=!0){return S("[boolean]",[t],arguments.length),M(this,Re,t,"f"),this}required(t,e,n){return this.demand(t,e,n)}require(t,e,n){return this.demand(t,e,n)}requiresArg(t){return S("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&a(this,I,"f").narg[t]?this:(this[oe](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,e){return S("[string] [string]",[t,e],arguments.length),t=t||this.$0,a(this,ie,"f").log(a(this,bt,"f").generateCompletionScript(t,e||a(this,ut,"f")||"completion")),this}showHelp(t){if(S("[string|function]",[t],arguments.length),M(this,dt,!0,"f"),!a(this,z,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[me](a(this,Lt,"f"),void 0,void 0,0,!0);if(V(n))return n.then(()=>{a(this,z,"f").showHelp(t)}),this}let e=a(this,et,"f").runDefaultBuilderOn(this);if(V(e))return e.then(()=>{a(this,z,"f").showHelp(t)}),this}return a(this,z,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,e){return S("[boolean|string] [string]",[t,e],arguments.length),a(this,z,"f").showHelpOnFail(t,e),this}showVersion(t){return S("[string|function]",[t],arguments.length),a(this,z,"f").showVersion(t),this}skipValidation(t){return S("<array|string>",[t],arguments.length),this[Ft]("skipValidation",t),this}strict(t){return S("[boolean]",[t],arguments.length),M(this,Kt,t!==!1,"f"),this}strictCommands(t){return S("[boolean]",[t],arguments.length),M(this,Jt,t!==!1,"f"),this}strictOptions(t){return S("[boolean]",[t],arguments.length),M(this,Zt,t!==!1,"f"),this}string(t){return S("<array|string>",[t],arguments.length),this[Ft]("string",t),this[kt](t),this}terminalWidth(){return S([],0),a(this,T,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return S("<object>",[t],arguments.length),M(this,Yt,!1,"f"),a(this,T,"f").y18n.updateLocale(t),this}usage(t,e,n,s){if(S("<string|null|undefined> [string|boolean] [function|object] [function]",[t,e,n,s],arguments.length),e!==void 0){if(ft(t,null,a(this,T,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,e,n,s);throw new q(".usage() description must start with $0 if being used as alias for .command()")}else return a(this,z,"f").usage(t),this}usageConfiguration(t){return S("<object>",[t],arguments.length),M(this,Te,t,"f"),this}version(t,e,n){let s="version";if(S("[boolean|string] [string] [string]",[t,e,n],arguments.length),a(this,Pt,"f")&&(this[un](a(this,Pt,"f")),a(this,z,"f").version(void 0),M(this,Pt,null,"f")),arguments.length===0)n=this[_s](),t=s;else if(arguments.length===1){if(t===!1)return this;n=t,t=s}else arguments.length===2&&(n=e,e=void 0);return M(this,Pt,typeof t=="string"?t:s,"f"),e=e||a(this,z,"f").deferY18nLookup("Show version number"),a(this,z,"f").version(n||void 0),this.boolean(a(this,Pt,"f")),this.describe(a(this,Pt,"f"),e),this}wrap(t){return S("<number|null|undefined>",[t],arguments.length),a(this,z,"f").wrap(t),this}[(et=new WeakMap,Gt=new WeakMap,pe=new WeakMap,bt=new WeakMap,ut=new WeakMap,Ie=new WeakMap,Dt=new WeakMap,Yt=new WeakMap,Ne=new WeakMap,wt=new WeakMap,We=new WeakMap,yt=new WeakMap,St=new WeakMap,dt=new WeakMap,Ot=new WeakMap,De=new WeakMap,ie=new WeakMap,at=new WeakMap,I=new WeakMap,Le=new WeakMap,Fe=new WeakMap,pt=new WeakMap,qt=new WeakMap,re=new WeakMap,Vt=new WeakMap,Lt=new WeakMap,Re=new WeakMap,T=new WeakMap,Kt=new WeakMap,Jt=new WeakMap,Zt=new WeakMap,z=new WeakMap,Te=new WeakMap,Pt=new WeakMap,k=new WeakMap,gs)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[bs](){return{log:(...t)=>{this[ze]()||console.log(...t),M(this,dt,!0,"f"),a(this,at,"f").length&&M(this,at,a(this,at,"f")+`
`,"f"),M(this,at,a(this,at,"f")+t.join(" "),"f")},error:(...t)=>{this[ze]()||console.error(...t),M(this,dt,!0,"f"),a(this,at,"f").length&&M(this,at,a(this,at,"f")+`
`,"f"),M(this,at,a(this,at,"f")+t.join(" "),"f")}}}[un](t){ne(a(this,I,"f")).forEach(e=>{if((s=>s==="configObjects")(e))return;let n=a(this,I,"f")[e];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete a(this,z,"f").getDescriptions()[t]}[ws](t,e,n){a(this,Ne,"f")[n]||(a(this,T,"f").process.emitWarning(t,e),a(this,Ne,"f")[n]=!0)}[ys](){a(this,We,"f").push({options:a(this,I,"f"),configObjects:a(this,I,"f").configObjects.slice(0),exitProcess:a(this,wt,"f"),groups:a(this,St,"f"),strict:a(this,Kt,"f"),strictCommands:a(this,Jt,"f"),strictOptions:a(this,Zt,"f"),completionCommand:a(this,ut,"f"),output:a(this,at,"f"),exitError:a(this,Dt,"f"),hasOutput:a(this,dt,"f"),parsed:this.parsed,parseFn:a(this,pt,"f"),parseContext:a(this,qt,"f")}),a(this,z,"f").freeze(),a(this,k,"f").freeze(),a(this,et,"f").freeze(),a(this,yt,"f").freeze()}[Os](){let t="",e;return/\b(node|iojs|electron)(\.exe)?$/.test(a(this,T,"f").process.argv()[0])?e=a(this,T,"f").process.argv().slice(1,2):e=a(this,T,"f").process.argv().slice(0,1),t=e.map(n=>{let s=this[Ns](a(this,Gt,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&s.length<n.length?s:n}).join(" ").trim(),a(this,T,"f").getEnv("_")&&a(this,T,"f").getProcessArgvBin()===a(this,T,"f").getEnv("_")&&(t=a(this,T,"f").getEnv("_").replace(`${a(this,T,"f").path.dirname(a(this,T,"f").process.execPath())}/`,"")),t}[Qt](){return a(this,Fe,"f")}[xs](){return a(this,Te,"f")}[dn](){if(!a(this,Yt,"f"))return;let t=a(this,T,"f").getEnv("LC_ALL")||a(this,T,"f").getEnv("LC_MESSAGES")||a(this,T,"f").getEnv("LANG")||a(this,T,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[_s](){return this[pn]().version||"unknown"}[Cs](t){let e=t["--"]?t["--"]:t._;for(let n=0,s;(s=e[n])!==void 0;n++)a(this,T,"f").Parser.looksLikeNumber(s)&&Number.isSafeInteger(Math.floor(parseFloat(`${s}`)))&&(e[n]=Number(s));return t}[pn](t){let e=t||"*";if(a(this,re,"f")[e])return a(this,re,"f")[e];let n={};try{let s=t||a(this,T,"f").mainFilename;!t&&a(this,T,"f").path.extname(s)&&(s=a(this,T,"f").path.dirname(s));let r=a(this,T,"f").findUp(s,(o,l)=>{if(l.includes("package.json"))return"package.json"});ft(r,void 0,a(this,T,"f")),n=JSON.parse(a(this,T,"f").readFileSync(r,"utf8"))}catch{}return a(this,re,"f")[e]=n||{},a(this,re,"f")[e]}[Ft](t,e){e=[].concat(e),e.forEach(n=>{n=this[bn](n),a(this,I,"f")[t].push(n)})}[oe](t,e,n,s){this[gn](t,e,n,s,(r,o,l)=>{a(this,I,"f")[r][o]=l})}[mn](t,e,n,s){this[gn](t,e,n,s,(r,o,l)=>{a(this,I,"f")[r][o]=(a(this,I,"f")[r][o]||[]).concat(l)})}[gn](t,e,n,s,r){if(Array.isArray(n))n.forEach(o=>{t(o,s)});else if((o=>typeof o=="object")(n))for(let o of ne(n))t(o,n[o]);else r(e,this[bn](n),s)}[bn](t){return t==="__proto__"?"___proto___":t}[wn](t,e){return this[oe](this[wn].bind(this),"key",t,e),this}[yn](){var t,e,n,s,r,o,l,f,u,c,p,d;let b=a(this,We,"f").pop();ft(b,void 0,a(this,T,"f"));let x;t=this,e=this,n=this,s=this,r=this,o=this,l=this,f=this,u=this,c=this,p=this,d=this,{options:{set value(y){M(t,I,y,"f")}}.value,configObjects:x,exitProcess:{set value(y){M(e,wt,y,"f")}}.value,groups:{set value(y){M(n,St,y,"f")}}.value,output:{set value(y){M(s,at,y,"f")}}.value,exitError:{set value(y){M(r,Dt,y,"f")}}.value,hasOutput:{set value(y){M(o,dt,y,"f")}}.value,parsed:this.parsed,strict:{set value(y){M(l,Kt,y,"f")}}.value,strictCommands:{set value(y){M(f,Jt,y,"f")}}.value,strictOptions:{set value(y){M(u,Zt,y,"f")}}.value,completionCommand:{set value(y){M(c,ut,y,"f")}}.value,parseFn:{set value(y){M(p,pt,y,"f")}}.value,parseContext:{set value(y){M(d,qt,y,"f")}}.value}=b,a(this,I,"f").configObjects=x,a(this,z,"f").unfreeze(),a(this,k,"f").unfreeze(),a(this,et,"f").unfreeze(),a(this,yt,"f").unfreeze()}[Es](t,e){return Bt(e,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[As].bind(this),getContext:this[js].bind(this),getHasOutput:this[Ss].bind(this),getLoggerInstance:this[Ps].bind(this),getParseContext:this[Ms].bind(this),getParserConfiguration:this[Qt].bind(this),getUsageConfiguration:this[xs].bind(this),getUsageInstance:this[vs].bind(this),getValidationInstance:this[$s].bind(this),hasParseCallback:this[ze].bind(this),isGlobalContext:this[Is].bind(this),postProcess:this[Xt].bind(this),reset:this[On].bind(this),runValidation:this[xn].bind(this),runYargsParserAndExecuteCommands:this[me].bind(this),setHasOutput:this[Ws].bind(this)}}[As](){return a(this,et,"f")}[js](){return a(this,pe,"f")}[Ss](){return a(this,dt,"f")}[Ps](){return a(this,ie,"f")}[Ms](){return a(this,qt,"f")||{}}[vs](){return a(this,z,"f")}[$s](){return a(this,k,"f")}[ze](){return!!a(this,pt,"f")}[Is](){return a(this,De,"f")}[Xt](t,e,n,s){return n||V(t)||(e||(t=this[gs](t)),(this[Qt]()["parse-positional-numbers"]||this[Qt]()["parse-positional-numbers"]===void 0)&&(t=this[Cs](t)),s&&(t=Ht(t,this,a(this,yt,"f").getMiddleware(),!1))),t}[On](t={}){M(this,I,a(this,I,"f")||{},"f");let e={};e.local=a(this,I,"f").local||[],e.configObjects=a(this,I,"f").configObjects||[];let n={};e.local.forEach(o=>{n[o]=!0,(t[o]||[]).forEach(l=>{n[l]=!0})}),Object.assign(a(this,Vt,"f"),Object.keys(a(this,St,"f")).reduce((o,l)=>{let f=a(this,St,"f")[l].filter(u=>!(u in n));return f.length>0&&(o[l]=f),o},{})),M(this,St,{},"f");let s=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],r=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return s.forEach(o=>{e[o]=(a(this,I,"f")[o]||[]).filter(l=>!n[l])}),r.forEach(o=>{e[o]=Nt(a(this,I,"f")[o],l=>!n[l])}),e.envPrefix=a(this,I,"f").envPrefix,M(this,I,e,"f"),M(this,z,a(this,z,"f")?a(this,z,"f").reset(n):ls(this,a(this,T,"f")),"f"),M(this,k,a(this,k,"f")?a(this,k,"f").reset(n):ps(this,a(this,z,"f"),a(this,T,"f")),"f"),M(this,et,a(this,et,"f")?a(this,et,"f").reset():rs(a(this,z,"f"),a(this,k,"f"),a(this,yt,"f"),a(this,T,"f")),"f"),a(this,bt,"f")||M(this,bt,hs(this,a(this,z,"f"),a(this,et,"f"),a(this,T,"f")),"f"),a(this,yt,"f").reset(),M(this,ut,null,"f"),M(this,at,"","f"),M(this,Dt,null,"f"),M(this,dt,!1,"f"),this.parsed=!1,this}[Ns](t,e){return a(this,T,"f").path.relative(t,e)}[me](t,e,n,s=0,r=!1){let o=!!n||r;t=t||a(this,Lt,"f"),a(this,I,"f").__=a(this,T,"f").y18n.__,a(this,I,"f").configuration=this[Qt]();let l=!!a(this,I,"f").configuration["populate--"],f=Object.assign({},a(this,I,"f").configuration,{"populate--":!0}),u=a(this,T,"f").Parser.detailed(t,Object.assign({},a(this,I,"f"),{configuration:{"parse-positional-numbers":!1,...f}})),c=Object.assign(u.argv,a(this,qt,"f")),p,d=u.aliases,b=!1,x=!1;Object.keys(c).forEach(y=>{y===a(this,Ot,"f")&&c[y]?b=!0:y===a(this,Pt,"f")&&c[y]&&(x=!0)}),c.$0=this.$0,this.parsed=u,s===0&&a(this,z,"f").clearCachedHelpMessage();try{if(this[dn](),e)return this[Xt](c,l,!!n,!1);a(this,Ot,"f")&&[a(this,Ot,"f")].concat(d[a(this,Ot,"f")]||[]).filter(L=>L.length>1).includes(""+c._[c._.length-1])&&(c._.pop(),b=!0),M(this,De,!1,"f");let y=a(this,et,"f").getCommands(),m=a(this,bt,"f").completionKey in c,E=b||m||r;if(c._.length){if(y.length){let $;for(let L=s||0,D;c._[L]!==void 0;L++)if(D=String(c._[L]),y.includes(D)&&D!==a(this,ut,"f")){let U=a(this,et,"f").runCommand(D,this,u,L+1,r,b||x||r);return this[Xt](U,l,!!n,!1)}else if(!$&&D!==a(this,ut,"f")){$=D;break}!a(this,et,"f").hasDefaultCommand()&&a(this,Re,"f")&&$&&!E&&a(this,k,"f").recommendCommands($,y)}a(this,ut,"f")&&c._.includes(a(this,ut,"f"))&&!m&&(a(this,wt,"f")&&Wt(!0),this.showCompletionScript(),this.exit(0))}if(a(this,et,"f").hasDefaultCommand()&&!E){let $=a(this,et,"f").runCommand(null,this,u,0,r,b||x||r);return this[Xt]($,l,!!n,!1)}if(m){a(this,wt,"f")&&Wt(!0),t=[].concat(t);let $=t.slice(t.indexOf(`--${a(this,bt,"f").completionKey}`)+1);return a(this,bt,"f").getCompletion($,(L,D)=>{if(L)throw new q(L.message);(D||[]).forEach(U=>{a(this,ie,"f").log(U)}),this.exit(0)}),this[Xt](c,!l,!!n,!1)}if(a(this,dt,"f")||(b?(a(this,wt,"f")&&Wt(!0),o=!0,this.showHelp("log"),this.exit(0)):x&&(a(this,wt,"f")&&Wt(!0),o=!0,a(this,z,"f").showVersion("log"),this.exit(0))),!o&&a(this,I,"f").skipValidation.length>0&&(o=Object.keys(c).some($=>a(this,I,"f").skipValidation.indexOf($)>=0&&c[$]===!0)),!o){if(u.error)throw new q(u.error.message);if(!m){let $=this[xn](d,{},u.error);n||(p=Ht(c,this,a(this,yt,"f").getMiddleware(),!0)),p=this[Es]($,p??c),V(p)&&!n&&(p=p.then(()=>Ht(c,this,a(this,yt,"f").getMiddleware(),!1)))}}}catch(y){if(y instanceof q)a(this,z,"f").fail(y.message,y);else throw y}return this[Xt](p??c,l,!!n,!0)}[xn](t,e,n,s){let r={...this.getDemandedOptions()};return o=>{if(n)throw new q(n.message);a(this,k,"f").nonOptionCount(o),a(this,k,"f").requiredArguments(o,r);let l=!1;a(this,Jt,"f")&&(l=a(this,k,"f").unknownCommands(o)),a(this,Kt,"f")&&!l?a(this,k,"f").unknownArguments(o,t,e,!!s):a(this,Zt,"f")&&a(this,k,"f").unknownArguments(o,t,{},!1,!1),a(this,k,"f").limitedChoices(o),a(this,k,"f").implications(o),a(this,k,"f").conflicting(o)}}[Ws](){M(this,dt,!0,"f")}[kt](t){if(typeof t=="string")a(this,I,"f").key[t]=!0;else for(let e of t)a(this,I,"f").key[e]=!0}};function os(i){return!!i&&typeof i.getInternalMethods=="function"}var Zi=Ds(rn),Ls=Zi;var hi=require("child_process"),vn=ce(require("fs")),ui=ce(require("path")),di=ce(Fs());var ii=ce(Zs(),1);var be=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>65536)throw new TypeError("pattern is too long")};var ir={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},we=i=>i.replace(/[[\]\\-]/g,"\\$&"),rr=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Qs=i=>i.join(""),Xs=(i,t)=>{let e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");let n=[],s=[],r=e+1,o=!1,l=!1,f=!1,u=!1,c=e,p="";t:for(;r<i.length;){let y=i.charAt(r);if((y==="!"||y==="^")&&r===e+1){u=!0,r++;continue}if(y==="]"&&o&&!f){c=r+1;break}if(o=!0,y==="\\"&&!f){f=!0,r++;continue}if(y==="["&&!f){for(let[m,[E,$,L]]of Object.entries(ir))if(i.startsWith(m,r)){if(p)return["$.",!1,i.length-e,!0];r+=m.length,L?s.push(E):n.push(E),l=l||$;continue t}}if(f=!1,p){y>p?n.push(we(p)+"-"+we(y)):y===p&&n.push(we(y)),p="",r++;continue}if(i.startsWith("-]",r+1)){n.push(we(y+"-")),r+=2;continue}if(i.startsWith("-",r+1)){p=y,r+=2;continue}n.push(we(y)),r++}if(c<r)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,i.length-e,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let y=n[0].length===2?n[0].slice(-1):n[0];return[rr(y),!1,c-e,!1]}let d="["+(u?"^":"")+Qs(n)+"]",b="["+(u?"":"^")+Qs(s)+"]";return[n.length&&s.length?"("+d+"|"+b+")":n.length?d:b,l,c-e,!0]};var Rt=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var or=new Set(["!","?","+","*","@"]),ks=i=>or.has(i),ar="(?!(?:^|/)\\.\\.?(?:$|/))",He="(?!\\.)",lr=new Set(["[","."]),cr=new Set(["..","."]),fr=new Set("().*{}+?[]^$\\!"),hr=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),jn="[^/]",ti=jn+"*?",ei=jn+"+?",ae=class i{type;#n;#s;#r=!1;#t=[];#e;#o;#l;#a=!1;#i;#c;#h=!1;constructor(t,e,n={}){this.type=t,t&&(this.#s=!0),this.#e=e,this.#n=this.#e?this.#e.#n:this,this.#i=this.#n===this?n:this.#n.#i,this.#l=this.#n===this?[]:this.#n.#l,t==="!"&&!this.#n.#a&&this.#l.push(this),this.#o=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#s!==void 0)return this.#s;for(let t of this.#t)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map(t=>String(t)).join("|")+")":this.#c=this.#t.map(t=>String(t)).join("")}#d(){if(this!==this.#n)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#l.pop();){if(t.type!=="!")continue;let e=t,n=e.#e;for(;n;){for(let s=e.#o+1;!n.type&&s<n.#t.length;s++)for(let r of t.#t){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(n.#t[s])}e=n,n=e.#e}}return this}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof i&&e.#e===this))throw new Error("invalid part: "+e);this.#t.push(e)}}toJSON(){let t=this.type===null?this.#t.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#t.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#n||this.#n.#a&&this.#e?.type==="!")&&t.push({}),t}isStart(){if(this.#n===this)return!0;if(!this.#e?.isStart())return!1;if(this.#o===0)return!0;let t=this.#e;for(let e=0;e<this.#o;e++){let n=t.#t[e];if(!(n instanceof i&&n.type==="!"))return!1}return!0}isEnd(){if(this.#n===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();let t=this.#e?this.#e.#t.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new i(this.type,t);for(let n of this.#t)e.copyIn(n);return e}static#f(t,e,n,s){let r=!1,o=!1,l=-1,f=!1;if(e.type===null){let b=n,x="";for(;b<t.length;){let y=t.charAt(b++);if(r||y==="\\"){r=!r,x+=y;continue}if(o){b===l+1?(y==="^"||y==="!")&&(f=!0):y==="]"&&!(b===l+2&&f)&&(o=!1),x+=y;continue}else if(y==="["){o=!0,l=b,f=!1,x+=y;continue}if(!s.noext&&ks(y)&&t.charAt(b)==="("){e.push(x),x="";let m=new i(y,e);b=i.#f(t,m,b,s),e.push(m);continue}x+=y}return e.push(x),b}let u=n+1,c=new i(null,e),p=[],d="";for(;u<t.length;){let b=t.charAt(u++);if(r||b==="\\"){r=!r,d+=b;continue}if(o){u===l+1?(b==="^"||b==="!")&&(f=!0):b==="]"&&!(u===l+2&&f)&&(o=!1),d+=b;continue}else if(b==="["){o=!0,l=u,f=!1,d+=b;continue}if(ks(b)&&t.charAt(u)==="("){c.push(d),d="";let x=new i(b,c);c.push(x),u=i.#f(t,x,u,s);continue}if(b==="|"){c.push(d),d="",p.push(c),c=new i(null,e);continue}if(b===")")return d===""&&e.#t.length===0&&(e.#h=!0),c.push(d),d="",e.push(...p,c),u;d+=b}return e.type=null,e.#s=void 0,e.#t=[t.substring(n-1)],u}static fromGlob(t,e={}){let n=new i(null,void 0,e);return i.#f(t,n,0,e),n}toMMPattern(){if(this!==this.#n)return this.#n.toMMPattern();let t=this.toString(),[e,n,s,r]=this.toRegExpSource();if(!(s||this.#s||this.#i.nocase&&!this.#i.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#i.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,l),{_src:e,_glob:t})}get options(){return this.#i}toRegExpSource(t){let e=t??!!this.#i.dot;if(this.#n===this&&this.#d(),!this.type){let f=this.isStart()&&this.isEnd(),u=this.#t.map(b=>{let[x,y,m,E]=typeof b=="string"?i.#p(b,this.#s,f):b.toRegExpSource(t);return this.#s=this.#s||m,this.#r=this.#r||E,x}).join(""),c="";if(this.isStart()&&typeof this.#t[0]=="string"&&!(this.#t.length===1&&cr.has(this.#t[0]))){let x=lr,y=e&&x.has(u.charAt(0))||u.startsWith("\\.")&&x.has(u.charAt(2))||u.startsWith("\\.\\.")&&x.has(u.charAt(4)),m=!e&&!t&&x.has(u.charAt(0));c=y?ar:m?He:""}let p="";return this.isEnd()&&this.#n.#a&&this.#e?.type==="!"&&(p="(?:$|\\/)"),[c+u+p,Rt(u),this.#s=!!this.#s,this.#r]}let n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",r=this.#u(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){let f=this.toString();return this.#t=[f],this.type=null,this.#s=void 0,[f,Rt(this.toString()),!1,!1]}let o=!n||t||e||!He?"":this.#u(!0);o===r&&(o=""),o&&(r=`(?:${r})(?:${o})*?`);let l="";if(this.type==="!"&&this.#h)l=(this.isStart()&&!e?He:"")+ei;else{let f=this.type==="!"?"))"+(this.isStart()&&!e&&!t?He:"")+ti+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;l=s+r+f}return[l,Rt(r),this.#s=!!this.#s,this.#r]}#u(t){return this.#t.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[n,s,r,o]=e.toRegExpSource(t);return this.#r=this.#r||o,n}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#p(t,e,n=!1){let s=!1,r="",o=!1;for(let l=0;l<t.length;l++){let f=t.charAt(l);if(s){s=!1,r+=(fr.has(f)?"\\":"")+f;continue}if(f==="\\"){l===t.length-1?r+="\\\\":s=!0;continue}if(f==="["){let[u,c,p,d]=Xs(t,l);if(p){r+=u,o=o||c,l+=p-1,e=e||d;continue}}if(f==="*"){n&&t==="*"?r+=ei:r+=ti,e=!0;continue}if(f==="?"){r+=jn,e=!0;continue}r+=hr(f)}return[r,Rt(t),!!e,o]}};var Sn=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");var lt=(i,t,e={})=>(be(t),!e.nocomment&&t.charAt(0)==="#"?!1:new le(t,e).match(i)),ur=/^\*+([^+@!?\*\[\(]*)$/,dr=i=>t=>!t.startsWith(".")&&t.endsWith(i),pr=i=>t=>t.endsWith(i),mr=i=>(i=i.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(i)),gr=i=>(i=i.toLowerCase(),t=>t.toLowerCase().endsWith(i)),br=/^\*+\.\*+$/,wr=i=>!i.startsWith(".")&&i.includes("."),yr=i=>i!=="."&&i!==".."&&i.includes("."),Or=/^\.\*+$/,xr=i=>i!=="."&&i!==".."&&i.startsWith("."),_r=/^\*+$/,Cr=i=>i.length!==0&&!i.startsWith("."),Er=i=>i.length!==0&&i!=="."&&i!=="..",Ar=/^\?+([^+@!?\*\[\(]*)?$/,jr=([i,t=""])=>{let e=ri([i]);return t?(t=t.toLowerCase(),n=>e(n)&&n.toLowerCase().endsWith(t)):e},Sr=([i,t=""])=>{let e=oi([i]);return t?(t=t.toLowerCase(),n=>e(n)&&n.toLowerCase().endsWith(t)):e},Pr=([i,t=""])=>{let e=oi([i]);return t?n=>e(n)&&n.endsWith(t):e},Mr=([i,t=""])=>{let e=ri([i]);return t?n=>e(n)&&n.endsWith(t):e},ri=([i])=>{let t=i.length;return e=>e.length===t&&!e.startsWith(".")},oi=([i])=>{let t=i.length;return e=>e.length===t&&e!=="."&&e!==".."},ai=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",ni={win32:{sep:"\\"},posix:{sep:"/"}},vr=ai==="win32"?ni.win32.sep:ni.posix.sep;lt.sep=vr;var _t=Symbol("globstar **");lt.GLOBSTAR=_t;var $r="[^/]",Ir=$r+"*?",Nr="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Wr="(?:(?!(?:\\/|^)\\.).)*?",Dr=(i,t={})=>e=>lt(e,i,t);lt.filter=Dr;var xt=(i,t={})=>Object.assign({},i,t),Lr=i=>{if(!i||typeof i!="object"||!Object.keys(i).length)return lt;let t=lt;return Object.assign((n,s,r={})=>t(n,s,xt(i,r)),{Minimatch:class extends t.Minimatch{constructor(s,r={}){super(s,xt(i,r))}static defaults(s){return t.defaults(xt(i,s)).Minimatch}},AST:class extends t.AST{constructor(s,r,o={}){super(s,r,xt(i,o))}static fromGlob(s,r={}){return t.AST.fromGlob(s,xt(i,r))}},unescape:(n,s={})=>t.unescape(n,xt(i,s)),escape:(n,s={})=>t.escape(n,xt(i,s)),filter:(n,s={})=>t.filter(n,xt(i,s)),defaults:n=>t.defaults(xt(i,n)),makeRe:(n,s={})=>t.makeRe(n,xt(i,s)),braceExpand:(n,s={})=>t.braceExpand(n,xt(i,s)),match:(n,s,r={})=>t.match(n,s,xt(i,r)),sep:t.sep,GLOBSTAR:_t})};lt.defaults=Lr;var li=(i,t={})=>(be(i),t.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:(0,ii.default)(i));lt.braceExpand=li;var Fr=(i,t={})=>new le(i,t).makeRe();lt.makeRe=Fr;var Rr=(i,t,e={})=>{let n=new le(t,e);return i=i.filter(s=>n.match(s)),n.options.nonull&&!i.length&&i.push(t),i};lt.match=Rr;var si=/[?*]|[+@!]\(.*?\)|\[|\]/,Tr=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),le=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){be(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||ai,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(r=>this.slashSplit(r));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((r,o,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let f=r[0]===""&&r[1]===""&&(r[2]==="?"||!si.test(r[2]))&&!si.test(r[3]),u=/^[a-z]:/i.test(r[0]);if(f)return[...r.slice(0,4),...r.slice(4).map(c=>this.parse(c))];if(u)return[r[0],...r.slice(1).map(c=>this.parse(c))]}return r.map(f=>this.parse(f))});if(this.debug(this.pattern,s),this.set=s.filter(r=>r.indexOf(!1)===-1),this.isWindows)for(let r=0;r<this.set.length;r++){let o=this.set[r];o[0]===""&&o[1]===""&&this.globParts[r][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let n=-1;for(;(n=e.indexOf("**",n+1))!==-1;){let s=n;for(;e[s+1]==="**";)s++;s!==n&&e.splice(n,s-n)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((n,s)=>{let r=n[n.length-1];return s==="**"&&r==="**"?n:s===".."&&r&&r!==".."&&r!=="."&&r!=="**"?(n.pop(),n):(n.push(s),n)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let r=t[s];s===1&&r===""&&t[0]===""||(r==="."||r==="")&&(e=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(e=!0,t.splice(n-1,2),n-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let o=s;for(;n[o+1]==="**";)o++;o>s&&n.splice(s+1,o-s);let l=n[s+1],f=n[s+2],u=n[s+3];if(l!==".."||!f||f==="."||f===".."||!u||u==="."||u==="..")continue;e=!0,n.splice(s,1);let c=n.slice(0);c[s]="**",t.push(c),s--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let l=n[o];o===1&&l===""&&n[0]===""||(l==="."||l==="")&&(e=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(e=!0,n.pop())}let r=0;for(;(r=n.indexOf("..",r+1))!==-1;){let o=n[r-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let f=r===1&&n[r+1]==="**"?["."]:[];n.splice(r-1,2,...f),n.length===0&&n.push(""),r-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let n=e+1;n<t.length;n++){let s=this.partsMatch(t[e],t[n],!this.preserveMultipleSlashes);if(s){t[e]=[],t[n]=s;break}}return t.filter(e=>e.length)}partsMatch(t,e,n=!1){let s=0,r=0,o=[],l="";for(;s<t.length&&r<e.length;)if(t[s]===e[r])o.push(l==="b"?e[r]:t[s]),s++,r++;else if(n&&t[s]==="**"&&e[r]===t[s+1])o.push(t[s]),s++;else if(n&&e[r]==="**"&&t[s]===e[r+1])o.push(e[r]),r++;else if(t[s]==="*"&&e[r]&&(this.options.dot||!e[r].startsWith("."))&&e[r]!=="**"){if(l==="b")return!1;l="a",o.push(t[s]),s++,r++}else if(e[r]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(l==="a")return!1;l="b",o.push(e[r]),s++,r++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)e=!e,n++;n&&(this.pattern=t.slice(n)),this.negate=e}matchOne(t,e,n=!1){let s=this.options;if(this.isWindows){let y=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),m=!y&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),E=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),$=!E&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),L=m?3:y?0:void 0,D=$?3:E?0:void 0;if(typeof L=="number"&&typeof D=="number"){let[U,K]=[t[L],e[D]];U.toLowerCase()===K.toLowerCase()&&(e[D]=U,D>L?e=e.slice(D):L>D&&(t=t.slice(L)))}}let{optimizationLevel:r=1}=this.options;r>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,l=0,f=t.length,u=e.length;o<f&&l<u;o++,l++){this.debug("matchOne loop");var c=e[l],p=t[o];if(this.debug(e,c,p),c===!1)return!1;if(c===_t){this.debug("GLOBSTAR",[e,c,p]);var d=o,b=l+1;if(b===u){for(this.debug("** at the end");o<f;o++)if(t[o]==="."||t[o]===".."||!s.dot&&t[o].charAt(0)===".")return!1;return!0}for(;d<f;){var x=t[d];if(this.debug(`
globstar while`,t,d,e,b,x),this.matchOne(t.slice(d),e.slice(b),n))return this.debug("globstar found match!",d,f,x),!0;if(x==="."||x===".."||!s.dot&&x.charAt(0)==="."){this.debug("dot detected!",t,d,e,b);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,d,e,b),d===f))}let y;if(typeof c=="string"?(y=p===c,this.debug("string match",c,p,y)):(y=c.test(p),this.debug("pattern match",c,p,y)),!y)return!1}if(o===f&&l===u)return!0;if(o===f)return n;if(l===u)return o===f-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return li(this.pattern,this.options)}parse(t){be(t);let e=this.options;if(t==="**")return _t;if(t==="")return"";let n,s=null;(n=t.match(_r))?s=e.dot?Er:Cr:(n=t.match(ur))?s=(e.nocase?e.dot?gr:mr:e.dot?pr:dr)(n[1]):(n=t.match(Ar))?s=(e.nocase?e.dot?Sr:jr:e.dot?Pr:Mr)(n):(n=t.match(br))?s=e.dot?yr:wr:(n=t.match(Or))&&(s=xr);let r=ae.fromGlob(t,this.options).toMMPattern();return s&&typeof r=="object"&&Reflect.defineProperty(r,"test",{value:s}),r}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,n=e.noglobstar?Ir:e.dot?Nr:Wr,s=new Set(e.nocase?["i"]:[]),r=t.map(f=>{let u=f.map(c=>{if(c instanceof RegExp)for(let p of c.flags.split(""))s.add(p);return typeof c=="string"?Tr(c):c===_t?_t:c._src});return u.forEach((c,p)=>{let d=u[p+1],b=u[p-1];c!==_t||b===_t||(b===void 0?d!==void 0&&d!==_t?u[p+1]="(?:\\/|"+n+"\\/)?"+d:u[p]=n:d===void 0?u[p-1]=b+"(?:\\/|"+n+")?":d!==_t&&(u[p-1]=b+"(?:\\/|\\/"+n+"\\/)"+d,u[p+1]=_t))}),u.filter(c=>c!==_t).join("/")}).join("|"),[o,l]=t.length>1?["(?:",")"]:["",""];r="^"+o+r+l+"$",this.negate&&(r="^(?!"+r+").+$");try{this.regexp=new RegExp(r,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let r=this.set;this.debug(this.pattern,"set",r);let o=s[s.length-1];if(!o)for(let l=s.length-2;!o&&l>=0;l--)o=s[l];for(let l=0;l<r.length;l++){let f=r[l],u=s;if(n.matchBase&&f.length===1&&(u=[o]),this.matchOne(u,f,e))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return lt.defaults(t).Minimatch}};lt.AST=ae;lt.Minimatch=le;lt.escape=Sn;lt.unescape=Rt;function Pn(i){return`\x1B[1m${i}\x1B[22m`}function ci(i){return`\x1B[36m${i}\x1B[39m`}function ye(i){return`\x1B[32m${i}\x1B[39m`}function Mn(i){return`\x1B[31m${i}\x1B[39m`}function Be(i){return`\x1B[2m${i}\x1B[22m`}var fi=ce(require("fs")),Ge=class{constructor(t,e){this.start=t;this.end=e}contains(t){return this.start<=t&&t<=this.end}},Ye=class{constructor(t){this.path=t;this.multilineCommentRanges=[];let e=fi.default.readFileSync(this.path).toString().split(`
`),n=null;for(let s=0;s<e.length;s++){let r=e[s].trim();if(n===null)switch(r.indexOf("/*")){case-1:break;case 0:n=s;break;default:n=s+1}if(n!==null)switch(r.indexOf("*/")){case-1:break;case r.length-2:this.multilineCommentRanges.push(new Ge(n,s)),n=null;break;default:this.multilineCommentRanges.push(new Ge(n,s-1));break}}}multilineCommentRanges;check(t,e){return!(this.multilineCommentRanges.some(n=>n.contains(t))||e.trim().startsWith("//")||e.trim().startsWith("#"))}};async function pi({log:i,verbose:t,source:e,target:n,ignoreDeletion:s,ignoreFilePath:r=ui.default.join(process.cwd(),".gitdiffignore"),ignoreWhitespace:o,ignoreComment:l}){let f=[];vn.default.existsSync(r)&&(f=vn.default.readFileSync(r,"utf-8").split(`
`).map(d=>d.trim()).filter(Boolean).filter(d=>!d.startsWith("#")));let u=await new Promise((d,b)=>{let x=["git diff"];x.push(`${n}...${e}`),o&&x.push("-w"),s&&x.push("--diff-filter=ACMR"),f.length&&x.push(...f.map(y=>`":!${y}"`)),(0,hi.exec)(x.join(" "),(y,m)=>{if(y){b(y);return}d(m)})}),c=di.default.parse(u).filter(d=>!(d.isBinary||f.some(b=>lt(d.newPath,b)))),p=0;for(let d of c){let b=s&&l?new Ye(d.newPath):null,x=[],y=0,m=0;for(let E of d.hunks){t&&x.push(Pn(s?`From line ${E.newStart} to ${E.newStart+E.newLines-1}`:`From line ${E.oldStart} to ${E.oldStart+E.oldLines-1} \u27A1 From line ${E.newStart} to ${E.newStart+E.newLines-1}`));for(let $ of E.changes){let L=!0;switch($.type){case"delete":if(s)continue;L=!1;break;case"normal":x.push(Be($.content));continue}let D=$.content.trim();if(!(!D&&(x.push(Be($.content)),o))){if(b&&!b.check($.lineNumber,D)){x.push(Be($.content));continue}x.push((L?ye:Mn)($.content)),L?y++:m++}}}p+=y+m,i&&y+m&&(i(ci(Pn(`\u{1F4C4} ${d.newPath}${m?Mn(` -${m}`):""}${y?ye(` +${y}`):""}`))),t&&(i(x.join(`
`)),i("")))}return p}var mi=require("console");Ls(nn(process.argv)).positional("sourceBranch",{default:"HEAD",description:"\uBE44\uAD50\uD560 \uBE0C\uB79C\uCE58",type:"string"}).positional("targetBranch",{description:"\uAE30\uC900 \uBE0C\uB79C\uCE58",type:"string"}).option("ignoreFilePath",{alias:"f",required:!1,description:"ignore \uD30C\uC77C\uC774 \uC704\uCE58\uD55C \uACBD\uB85C. \uC5C6\uC744 \uACBD\uC6B0 \uB8E8\uD2B8 \uB514\uB809\uD1A0\uB9AC\uC758 .gitdiffignore\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4.",type:"string"}).option("ignoreDeletion",{alias:"d",default:!1,description:"\uC0AD\uC81C\uB41C \uBCC0\uACBD\uC0AC\uD56D\uC744 \uC81C\uC678\uD569\uB2C8\uB2E4.",type:"boolean"}).option("ignoreWhitespace",{alias:"w",default:!1,description:"\uACF5\uBC31\uC744 \uBB34\uC2DC\uD569\uB2C8\uB2E4.",type:"boolean"}).option("ignoreComment",{alias:"c",default:!1,description:"\uC8FC\uC11D\uC744 \uBB34\uC2DC\uD569\uB2C8\uB2E4. ignoreDeletion\uC774 \uD65C\uC131\uD654\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4.",type:"boolean"}).option("verbose",{alias:"v",default:!1,description:"\uBCC0\uACBD\uC0AC\uD56D\uC744 \uC790\uC138\uD788 \uCD9C\uB825\uD569\uB2C8\uB2E4.",type:"boolean"}).option("quiet",{alias:"q",default:!1,description:"\uCD5C\uC885 \uACB0\uACFC\uB9CC \uCD9C\uB825\uD569\uB2C8\uB2E4.",type:"boolean"}).option("maxDiff",{alias:"m",default:300,description:"\uC2E4\uD328\uB85C \uAC04\uC8FC\uD560 \uCD94\uAC00\uB41C line \uC218. 0 \uC785\uB825\uC2DC \uC2E4\uD328\uB85C \uAC04\uC8FC\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",type:"number"}).command("$0 <targetBranch> [sourceBranch]","targetBranch\uC640 \uBE44\uAD50\uD558\uC5EC \uC2E4\uC9C8\uC801\uC73C\uB85C \uCD94\uAC00\uB41C line \uC218\uB97C \uACC4\uC0B0\uD569\uB2C8\uB2E4.",()=>{},async i=>{let t=await pi({source:i.sourceBranch,target:i.targetBranch,ignoreFilePath:i.ignoreFilePath,log:i.quiet?void 0:console.log,verbose:i.verbose,ignoreDeletion:i.ignoreDeletion,ignoreWhitespace:i.ignoreWhitespace,ignoreComment:i.ignoreComment});i.quiet?console.log(t):console.log(`\u{1F4CA} \uCD1D \uCD94\uAC00\uB41C line \uC218: ${ye(t)}`),i.maxDiff&&t>i.maxDiff&&(console.error((0,mi.error)(`\u274C \uCD94\uAC00\uB41C line \uC218\uAC00 ${i.maxDiff} line\uC744 \uCD08\uACFC\uD588\uC2B5\uB2C8\uB2E4.`)),process.exit(1))}).version(!1).parse();
/*! Bundled license information:

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)
*/
